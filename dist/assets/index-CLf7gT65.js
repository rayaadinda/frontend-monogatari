function xE(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function EE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Yy={exports:{}},jl={},Xy={exports:{}},W={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ps=Symbol.for("react.element"),SE=Symbol.for("react.portal"),CE=Symbol.for("react.fragment"),TE=Symbol.for("react.strict_mode"),_E=Symbol.for("react.profiler"),IE=Symbol.for("react.provider"),PE=Symbol.for("react.context"),AE=Symbol.for("react.forward_ref"),OE=Symbol.for("react.suspense"),BE=Symbol.for("react.memo"),LE=Symbol.for("react.lazy"),dm=Symbol.iterator;function ME(t){return t===null||typeof t!="object"?null:(t=dm&&t[dm]||t["@@iterator"],typeof t=="function"?t:null)}var Jy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Qy=Object.assign,Zy={};function $i(t,e,n){this.props=t,this.context=e,this.refs=Zy,this.updater=n||Jy}$i.prototype.isReactComponent={};$i.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};$i.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function e0(){}e0.prototype=$i.prototype;function xh(t,e,n){this.props=t,this.context=e,this.refs=Zy,this.updater=n||Jy}var Eh=xh.prototype=new e0;Eh.constructor=xh;Qy(Eh,$i.prototype);Eh.isPureReactComponent=!0;var hm=Array.isArray,t0=Object.prototype.hasOwnProperty,Sh={current:null},n0={key:!0,ref:!0,__self:!0,__source:!0};function r0(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)t0.call(e,r)&&!n0.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ps,type:t,key:o,ref:s,props:i,_owner:Sh.current}}function NE(t,e){return{$$typeof:ps,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ch(t){return typeof t=="object"&&t!==null&&t.$$typeof===ps}function RE(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var pm=/\/+/g;function _c(t,e){return typeof t=="object"&&t!==null&&t.key!=null?RE(""+t.key):e.toString(36)}function ca(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case ps:case SE:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+_c(s,0):r,hm(i)?(n="",t!=null&&(n=t.replace(pm,"$&/")+"/"),ca(i,e,n,"",function(c){return c})):i!=null&&(Ch(i)&&(i=NE(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(pm,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",hm(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+_c(o,a);s+=ca(o,e,n,l,i)}else if(l=ME(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+_c(o,a++),s+=ca(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Ds(t,e,n){if(t==null)return t;var r=[],i=0;return ca(t,r,"","",function(o){return e.call(n,o,i++)}),r}function DE(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ze={current:null},ua={transition:null},jE={ReactCurrentDispatcher:ze,ReactCurrentBatchConfig:ua,ReactCurrentOwner:Sh};function i0(){throw Error("act(...) is not supported in production builds of React.")}W.Children={map:Ds,forEach:function(t,e,n){Ds(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ds(t,function(){e++}),e},toArray:function(t){return Ds(t,function(e){return e})||[]},only:function(t){if(!Ch(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};W.Component=$i;W.Fragment=CE;W.Profiler=_E;W.PureComponent=xh;W.StrictMode=TE;W.Suspense=OE;W.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jE;W.act=i0;W.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Qy({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Sh.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)t0.call(e,l)&&!n0.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:ps,type:t.type,key:i,ref:o,props:r,_owner:s}};W.createContext=function(t){return t={$$typeof:PE,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:IE,_context:t},t.Consumer=t};W.createElement=r0;W.createFactory=function(t){var e=r0.bind(null,t);return e.type=t,e};W.createRef=function(){return{current:null}};W.forwardRef=function(t){return{$$typeof:AE,render:t}};W.isValidElement=Ch;W.lazy=function(t){return{$$typeof:LE,_payload:{_status:-1,_result:t},_init:DE}};W.memo=function(t,e){return{$$typeof:BE,type:t,compare:e===void 0?null:e}};W.startTransition=function(t){var e=ua.transition;ua.transition={};try{t()}finally{ua.transition=e}};W.unstable_act=i0;W.useCallback=function(t,e){return ze.current.useCallback(t,e)};W.useContext=function(t){return ze.current.useContext(t)};W.useDebugValue=function(){};W.useDeferredValue=function(t){return ze.current.useDeferredValue(t)};W.useEffect=function(t,e){return ze.current.useEffect(t,e)};W.useId=function(){return ze.current.useId()};W.useImperativeHandle=function(t,e,n){return ze.current.useImperativeHandle(t,e,n)};W.useInsertionEffect=function(t,e){return ze.current.useInsertionEffect(t,e)};W.useLayoutEffect=function(t,e){return ze.current.useLayoutEffect(t,e)};W.useMemo=function(t,e){return ze.current.useMemo(t,e)};W.useReducer=function(t,e,n){return ze.current.useReducer(t,e,n)};W.useRef=function(t){return ze.current.useRef(t)};W.useState=function(t){return ze.current.useState(t)};W.useSyncExternalStore=function(t,e,n){return ze.current.useSyncExternalStore(t,e,n)};W.useTransition=function(){return ze.current.useTransition()};W.version="18.3.1";Xy.exports=W;var E=Xy.exports;const Th=EE(E),FE=xE({__proto__:null,default:Th},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $E=E,UE=Symbol.for("react.element"),VE=Symbol.for("react.fragment"),HE=Object.prototype.hasOwnProperty,zE=$E.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,WE={key:!0,ref:!0,__self:!0,__source:!0};function o0(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)HE.call(e,r)&&!WE.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:UE,type:t,key:o,ref:s,props:i,_owner:zE.current}}jl.Fragment=VE;jl.jsx=o0;jl.jsxs=o0;Yy.exports=jl;var b=Yy.exports,Mu={},s0={exports:{}},ct={},a0={exports:{}},l0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,F){var H=B.length;B.push(F);e:for(;0<H;){var ae=H-1>>>1,me=B[ae];if(0<i(me,F))B[ae]=F,B[H]=me,H=ae;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var F=B[0],H=B.pop();if(H!==F){B[0]=H;e:for(var ae=0,me=B.length,Ns=me>>>1;ae<Ns;){var dr=2*(ae+1)-1,Tc=B[dr],hr=dr+1,Rs=B[hr];if(0>i(Tc,H))hr<me&&0>i(Rs,Tc)?(B[ae]=Rs,B[hr]=H,ae=hr):(B[ae]=Tc,B[dr]=H,ae=dr);else if(hr<me&&0>i(Rs,H))B[ae]=Rs,B[hr]=H,ae=hr;else break e}}return F}function i(B,F){var H=B.sortIndex-F.sortIndex;return H!==0?H:B.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,d=null,h=3,y=!1,f=!1,m=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(B){for(var F=n(c);F!==null;){if(F.callback===null)r(c);else if(F.startTime<=B)r(c),F.sortIndex=F.expirationTime,e(l,F);else break;F=n(c)}}function k(B){if(m=!1,v(B),!f)if(n(l)!==null)f=!0,Z(x);else{var F=n(c);F!==null&&et(k,F.startTime-B)}}function x(B,F){f=!1,m&&(m=!1,g(S),S=-1),y=!0;var H=h;try{for(v(F),d=n(l);d!==null&&(!(d.expirationTime>F)||B&&!M());){var ae=d.callback;if(typeof ae=="function"){d.callback=null,h=d.priorityLevel;var me=ae(d.expirationTime<=F);F=t.unstable_now(),typeof me=="function"?d.callback=me:d===n(l)&&r(l),v(F)}else r(l);d=n(l)}if(d!==null)var Ns=!0;else{var dr=n(c);dr!==null&&et(k,dr.startTime-F),Ns=!1}return Ns}finally{d=null,h=H,y=!1}}var T=!1,P=null,S=-1,I=5,A=-1;function M(){return!(t.unstable_now()-A<I)}function K(){if(P!==null){var B=t.unstable_now();A=B;var F=!0;try{F=P(!0,B)}finally{F?z():(T=!1,P=null)}}else T=!1}var z;if(typeof p=="function")z=function(){p(K)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,N=se.port2;se.port1.onmessage=K,z=function(){N.postMessage(null)}}else z=function(){w(K,0)};function Z(B){P=B,T||(T=!0,z())}function et(B,F){S=w(function(){B(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){f||y||(f=!0,Z(x))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(B){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var H=h;h=F;try{return B()}finally{h=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,F){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var H=h;h=B;try{return F()}finally{h=H}},t.unstable_scheduleCallback=function(B,F,H){var ae=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?ae+H:ae):H=ae,B){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=H+me,B={id:u++,callback:F,priorityLevel:B,startTime:H,expirationTime:me,sortIndex:-1},H>ae?(B.sortIndex=H,e(c,B),n(l)===null&&B===n(c)&&(m?(g(S),S=-1):m=!0,et(k,H-ae))):(B.sortIndex=me,e(l,B),f||y||(f=!0,Z(x))),B},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(B){var F=h;return function(){var H=h;h=F;try{return B.apply(this,arguments)}finally{h=H}}}})(l0);a0.exports=l0;var KE=a0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qE=E,at=KE;function O(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var c0=new Set,Do={};function Ur(t,e){Ii(t,e),Ii(t+"Capture",e)}function Ii(t,e){for(Do[t]=e,t=0;t<e.length;t++)c0.add(e[t])}var pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nu=Object.prototype.hasOwnProperty,GE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fm={},mm={};function YE(t){return Nu.call(mm,t)?!0:Nu.call(fm,t)?!1:GE.test(t)?mm[t]=!0:(fm[t]=!0,!1)}function XE(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function JE(t,e,n,r){if(e===null||typeof e>"u"||XE(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function We(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Pe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Pe[t]=new We(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Pe[e]=new We(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Pe[t]=new We(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Pe[t]=new We(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Pe[t]=new We(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Pe[t]=new We(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Pe[t]=new We(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Pe[t]=new We(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Pe[t]=new We(t,5,!1,t.toLowerCase(),null,!1,!1)});var _h=/[\-:]([a-z])/g;function Ih(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(_h,Ih);Pe[e]=new We(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(_h,Ih);Pe[e]=new We(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(_h,Ih);Pe[e]=new We(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Pe[t]=new We(t,1,!1,t.toLowerCase(),null,!1,!1)});Pe.xlinkHref=new We("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Pe[t]=new We(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ph(t,e,n,r){var i=Pe.hasOwnProperty(e)?Pe[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(JE(e,n,i,r)&&(n=null),r||i===null?YE(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var xn=qE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,js=Symbol.for("react.element"),Qr=Symbol.for("react.portal"),Zr=Symbol.for("react.fragment"),Ah=Symbol.for("react.strict_mode"),Ru=Symbol.for("react.profiler"),u0=Symbol.for("react.provider"),d0=Symbol.for("react.context"),Oh=Symbol.for("react.forward_ref"),Du=Symbol.for("react.suspense"),ju=Symbol.for("react.suspense_list"),Bh=Symbol.for("react.memo"),Pn=Symbol.for("react.lazy"),h0=Symbol.for("react.offscreen"),gm=Symbol.iterator;function Qi(t){return t===null||typeof t!="object"?null:(t=gm&&t[gm]||t["@@iterator"],typeof t=="function"?t:null)}var he=Object.assign,Ic;function ho(t){if(Ic===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ic=e&&e[1]||""}return`
`+Ic+t}var Pc=!1;function Ac(t,e){if(!t||Pc)return"";Pc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Pc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ho(t):""}function QE(t){switch(t.tag){case 5:return ho(t.type);case 16:return ho("Lazy");case 13:return ho("Suspense");case 19:return ho("SuspenseList");case 0:case 2:case 15:return t=Ac(t.type,!1),t;case 11:return t=Ac(t.type.render,!1),t;case 1:return t=Ac(t.type,!0),t;default:return""}}function Fu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Zr:return"Fragment";case Qr:return"Portal";case Ru:return"Profiler";case Ah:return"StrictMode";case Du:return"Suspense";case ju:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case d0:return(t.displayName||"Context")+".Consumer";case u0:return(t._context.displayName||"Context")+".Provider";case Oh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Bh:return e=t.displayName||null,e!==null?e:Fu(t.type)||"Memo";case Pn:e=t._payload,t=t._init;try{return Fu(t(e))}catch{}}return null}function ZE(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fu(e);case 8:return e===Ah?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Jn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function p0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function eS(t){var e=p0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Fs(t){t._valueTracker||(t._valueTracker=eS(t))}function f0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=p0(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ua(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function $u(t,e){var n=e.checked;return he({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function vm(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Jn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function m0(t,e){e=e.checked,e!=null&&Ph(t,"checked",e,!1)}function Uu(t,e){m0(t,e);var n=Jn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Vu(t,e.type,n):e.hasOwnProperty("defaultValue")&&Vu(t,e.type,Jn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ym(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Vu(t,e,n){(e!=="number"||Ua(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var po=Array.isArray;function gi(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Jn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Hu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(O(91));return he({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function wm(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(O(92));if(po(n)){if(1<n.length)throw Error(O(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Jn(n)}}function g0(t,e){var n=Jn(e.value),r=Jn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function bm(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function v0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?v0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var $s,y0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for($s=$s||document.createElement("div"),$s.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=$s.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function jo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var xo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tS=["Webkit","ms","Moz","O"];Object.keys(xo).forEach(function(t){tS.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),xo[e]=xo[t]})});function w0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||xo.hasOwnProperty(t)&&xo[t]?(""+e).trim():e+"px"}function b0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=w0(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var nS=he({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wu(t,e){if(e){if(nS[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(O(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(O(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(O(61))}if(e.style!=null&&typeof e.style!="object")throw Error(O(62))}}function Ku(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qu=null;function Lh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Gu=null,vi=null,yi=null;function km(t){if(t=gs(t)){if(typeof Gu!="function")throw Error(O(280));var e=t.stateNode;e&&(e=Hl(e),Gu(t.stateNode,t.type,e))}}function k0(t){vi?yi?yi.push(t):yi=[t]:vi=t}function x0(){if(vi){var t=vi,e=yi;if(yi=vi=null,km(t),e)for(t=0;t<e.length;t++)km(e[t])}}function E0(t,e){return t(e)}function S0(){}var Oc=!1;function C0(t,e,n){if(Oc)return t(e,n);Oc=!0;try{return E0(t,e,n)}finally{Oc=!1,(vi!==null||yi!==null)&&(S0(),x0())}}function Fo(t,e){var n=t.stateNode;if(n===null)return null;var r=Hl(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(O(231,e,typeof n));return n}var Yu=!1;if(pn)try{var Zi={};Object.defineProperty(Zi,"passive",{get:function(){Yu=!0}}),window.addEventListener("test",Zi,Zi),window.removeEventListener("test",Zi,Zi)}catch{Yu=!1}function rS(t,e,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Eo=!1,Va=null,Ha=!1,Xu=null,iS={onError:function(t){Eo=!0,Va=t}};function oS(t,e,n,r,i,o,s,a,l){Eo=!1,Va=null,rS.apply(iS,arguments)}function sS(t,e,n,r,i,o,s,a,l){if(oS.apply(this,arguments),Eo){if(Eo){var c=Va;Eo=!1,Va=null}else throw Error(O(198));Ha||(Ha=!0,Xu=c)}}function Vr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function T0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function xm(t){if(Vr(t)!==t)throw Error(O(188))}function aS(t){var e=t.alternate;if(!e){if(e=Vr(t),e===null)throw Error(O(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return xm(i),t;if(o===r)return xm(i),e;o=o.sibling}throw Error(O(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(O(189))}}if(n.alternate!==r)throw Error(O(190))}if(n.tag!==3)throw Error(O(188));return n.stateNode.current===n?t:e}function _0(t){return t=aS(t),t!==null?I0(t):null}function I0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=I0(t);if(e!==null)return e;t=t.sibling}return null}var P0=at.unstable_scheduleCallback,Em=at.unstable_cancelCallback,lS=at.unstable_shouldYield,cS=at.unstable_requestPaint,ye=at.unstable_now,uS=at.unstable_getCurrentPriorityLevel,Mh=at.unstable_ImmediatePriority,A0=at.unstable_UserBlockingPriority,za=at.unstable_NormalPriority,dS=at.unstable_LowPriority,O0=at.unstable_IdlePriority,Fl=null,jt=null;function hS(t){if(jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(Fl,t,void 0,(t.current.flags&128)===128)}catch{}}var _t=Math.clz32?Math.clz32:mS,pS=Math.log,fS=Math.LN2;function mS(t){return t>>>=0,t===0?32:31-(pS(t)/fS|0)|0}var Us=64,Vs=4194304;function fo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Wa(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=fo(a):(o&=s,o!==0&&(r=fo(o)))}else s=n&~i,s!==0?r=fo(s):o!==0&&(r=fo(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-_t(e),i=1<<n,r|=t[n],e&=~i;return r}function gS(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vS(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-_t(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=gS(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function Ju(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function B0(){var t=Us;return Us<<=1,!(Us&4194240)&&(Us=64),t}function Bc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function fs(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-_t(e),t[e]=n}function yS(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-_t(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Nh(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-_t(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Q=0;function L0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var M0,Rh,N0,R0,D0,Qu=!1,Hs=[],$n=null,Un=null,Vn=null,$o=new Map,Uo=new Map,On=[],wS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sm(t,e){switch(t){case"focusin":case"focusout":$n=null;break;case"dragenter":case"dragleave":Un=null;break;case"mouseover":case"mouseout":Vn=null;break;case"pointerover":case"pointerout":$o.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uo.delete(e.pointerId)}}function eo(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=gs(e),e!==null&&Rh(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function bS(t,e,n,r,i){switch(e){case"focusin":return $n=eo($n,t,e,n,r,i),!0;case"dragenter":return Un=eo(Un,t,e,n,r,i),!0;case"mouseover":return Vn=eo(Vn,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return $o.set(o,eo($o.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Uo.set(o,eo(Uo.get(o)||null,t,e,n,r,i)),!0}return!1}function j0(t){var e=br(t.target);if(e!==null){var n=Vr(e);if(n!==null){if(e=n.tag,e===13){if(e=T0(n),e!==null){t.blockedOn=e,D0(t.priority,function(){N0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function da(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Zu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);qu=r,n.target.dispatchEvent(r),qu=null}else return e=gs(n),e!==null&&Rh(e),t.blockedOn=n,!1;e.shift()}return!0}function Cm(t,e,n){da(t)&&n.delete(e)}function kS(){Qu=!1,$n!==null&&da($n)&&($n=null),Un!==null&&da(Un)&&(Un=null),Vn!==null&&da(Vn)&&(Vn=null),$o.forEach(Cm),Uo.forEach(Cm)}function to(t,e){t.blockedOn===e&&(t.blockedOn=null,Qu||(Qu=!0,at.unstable_scheduleCallback(at.unstable_NormalPriority,kS)))}function Vo(t){function e(i){return to(i,t)}if(0<Hs.length){to(Hs[0],t);for(var n=1;n<Hs.length;n++){var r=Hs[n];r.blockedOn===t&&(r.blockedOn=null)}}for($n!==null&&to($n,t),Un!==null&&to(Un,t),Vn!==null&&to(Vn,t),$o.forEach(e),Uo.forEach(e),n=0;n<On.length;n++)r=On[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<On.length&&(n=On[0],n.blockedOn===null);)j0(n),n.blockedOn===null&&On.shift()}var wi=xn.ReactCurrentBatchConfig,Ka=!0;function xS(t,e,n,r){var i=Q,o=wi.transition;wi.transition=null;try{Q=1,Dh(t,e,n,r)}finally{Q=i,wi.transition=o}}function ES(t,e,n,r){var i=Q,o=wi.transition;wi.transition=null;try{Q=4,Dh(t,e,n,r)}finally{Q=i,wi.transition=o}}function Dh(t,e,n,r){if(Ka){var i=Zu(t,e,n,r);if(i===null)Vc(t,e,r,qa,n),Sm(t,r);else if(bS(i,t,e,n,r))r.stopPropagation();else if(Sm(t,r),e&4&&-1<wS.indexOf(t)){for(;i!==null;){var o=gs(i);if(o!==null&&M0(o),o=Zu(t,e,n,r),o===null&&Vc(t,e,r,qa,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Vc(t,e,r,null,n)}}var qa=null;function Zu(t,e,n,r){if(qa=null,t=Lh(r),t=br(t),t!==null)if(e=Vr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=T0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return qa=t,null}function F0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uS()){case Mh:return 1;case A0:return 4;case za:case dS:return 16;case O0:return 536870912;default:return 16}default:return 16}}var Dn=null,jh=null,ha=null;function $0(){if(ha)return ha;var t,e=jh,n=e.length,r,i="value"in Dn?Dn.value:Dn.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return ha=i.slice(t,1<r?1-r:void 0)}function pa(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function zs(){return!0}function Tm(){return!1}function ut(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?zs:Tm,this.isPropagationStopped=Tm,this}return he(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=zs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=zs)},persist:function(){},isPersistent:zs}),e}var Ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fh=ut(Ui),ms=he({},Ui,{view:0,detail:0}),SS=ut(ms),Lc,Mc,no,$l=he({},ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$h,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==no&&(no&&t.type==="mousemove"?(Lc=t.screenX-no.screenX,Mc=t.screenY-no.screenY):Mc=Lc=0,no=t),Lc)},movementY:function(t){return"movementY"in t?t.movementY:Mc}}),_m=ut($l),CS=he({},$l,{dataTransfer:0}),TS=ut(CS),_S=he({},ms,{relatedTarget:0}),Nc=ut(_S),IS=he({},Ui,{animationName:0,elapsedTime:0,pseudoElement:0}),PS=ut(IS),AS=he({},Ui,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),OS=ut(AS),BS=he({},Ui,{data:0}),Im=ut(BS),LS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},MS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},NS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RS(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=NS[t])?!!e[t]:!1}function $h(){return RS}var DS=he({},ms,{key:function(t){if(t.key){var e=LS[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=pa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?MS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$h,charCode:function(t){return t.type==="keypress"?pa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?pa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),jS=ut(DS),FS=he({},$l,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pm=ut(FS),$S=he({},ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$h}),US=ut($S),VS=he({},Ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),HS=ut(VS),zS=he({},$l,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),WS=ut(zS),KS=[9,13,27,32],Uh=pn&&"CompositionEvent"in window,So=null;pn&&"documentMode"in document&&(So=document.documentMode);var qS=pn&&"TextEvent"in window&&!So,U0=pn&&(!Uh||So&&8<So&&11>=So),Am=" ",Om=!1;function V0(t,e){switch(t){case"keyup":return KS.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function H0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ei=!1;function GS(t,e){switch(t){case"compositionend":return H0(e);case"keypress":return e.which!==32?null:(Om=!0,Am);case"textInput":return t=e.data,t===Am&&Om?null:t;default:return null}}function YS(t,e){if(ei)return t==="compositionend"||!Uh&&V0(t,e)?(t=$0(),ha=jh=Dn=null,ei=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return U0&&e.locale!=="ko"?null:e.data;default:return null}}var XS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!XS[t.type]:e==="textarea"}function z0(t,e,n,r){k0(r),e=Ga(e,"onChange"),0<e.length&&(n=new Fh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Co=null,Ho=null;function JS(t){t1(t,0)}function Ul(t){var e=ri(t);if(f0(e))return t}function QS(t,e){if(t==="change")return e}var W0=!1;if(pn){var Rc;if(pn){var Dc="oninput"in document;if(!Dc){var Lm=document.createElement("div");Lm.setAttribute("oninput","return;"),Dc=typeof Lm.oninput=="function"}Rc=Dc}else Rc=!1;W0=Rc&&(!document.documentMode||9<document.documentMode)}function Mm(){Co&&(Co.detachEvent("onpropertychange",K0),Ho=Co=null)}function K0(t){if(t.propertyName==="value"&&Ul(Ho)){var e=[];z0(e,Ho,t,Lh(t)),C0(JS,e)}}function ZS(t,e,n){t==="focusin"?(Mm(),Co=e,Ho=n,Co.attachEvent("onpropertychange",K0)):t==="focusout"&&Mm()}function eC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ul(Ho)}function tC(t,e){if(t==="click")return Ul(e)}function nC(t,e){if(t==="input"||t==="change")return Ul(e)}function rC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ot=typeof Object.is=="function"?Object.is:rC;function zo(t,e){if(Ot(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Nu.call(e,i)||!Ot(t[i],e[i]))return!1}return!0}function Nm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Rm(t,e){var n=Nm(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Nm(n)}}function q0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?q0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function G0(){for(var t=window,e=Ua();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ua(t.document)}return e}function Vh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function iC(t){var e=G0(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&q0(n.ownerDocument.documentElement,n)){if(r!==null&&Vh(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Rm(n,o);var s=Rm(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var oC=pn&&"documentMode"in document&&11>=document.documentMode,ti=null,ed=null,To=null,td=!1;function Dm(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;td||ti==null||ti!==Ua(r)||(r=ti,"selectionStart"in r&&Vh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),To&&zo(To,r)||(To=r,r=Ga(ed,"onSelect"),0<r.length&&(e=new Fh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ti)))}function Ws(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ni={animationend:Ws("Animation","AnimationEnd"),animationiteration:Ws("Animation","AnimationIteration"),animationstart:Ws("Animation","AnimationStart"),transitionend:Ws("Transition","TransitionEnd")},jc={},Y0={};pn&&(Y0=document.createElement("div").style,"AnimationEvent"in window||(delete ni.animationend.animation,delete ni.animationiteration.animation,delete ni.animationstart.animation),"TransitionEvent"in window||delete ni.transitionend.transition);function Vl(t){if(jc[t])return jc[t];if(!ni[t])return t;var e=ni[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Y0)return jc[t]=e[n];return t}var X0=Vl("animationend"),J0=Vl("animationiteration"),Q0=Vl("animationstart"),Z0=Vl("transitionend"),e1=new Map,jm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nr(t,e){e1.set(t,e),Ur(e,[t])}for(var Fc=0;Fc<jm.length;Fc++){var $c=jm[Fc],sC=$c.toLowerCase(),aC=$c[0].toUpperCase()+$c.slice(1);nr(sC,"on"+aC)}nr(X0,"onAnimationEnd");nr(J0,"onAnimationIteration");nr(Q0,"onAnimationStart");nr("dblclick","onDoubleClick");nr("focusin","onFocus");nr("focusout","onBlur");nr(Z0,"onTransitionEnd");Ii("onMouseEnter",["mouseout","mouseover"]);Ii("onMouseLeave",["mouseout","mouseover"]);Ii("onPointerEnter",["pointerout","pointerover"]);Ii("onPointerLeave",["pointerout","pointerover"]);Ur("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ur("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ur("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ur("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ur("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ur("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lC=new Set("cancel close invalid load scroll toggle".split(" ").concat(mo));function Fm(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,sS(r,e,void 0,t),t.currentTarget=null}function t1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Fm(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Fm(i,a,c),o=l}}}if(Ha)throw t=Xu,Ha=!1,Xu=null,t}function ne(t,e){var n=e[sd];n===void 0&&(n=e[sd]=new Set);var r=t+"__bubble";n.has(r)||(n1(e,t,2,!1),n.add(r))}function Uc(t,e,n){var r=0;e&&(r|=4),n1(n,t,r,e)}var Ks="_reactListening"+Math.random().toString(36).slice(2);function Wo(t){if(!t[Ks]){t[Ks]=!0,c0.forEach(function(n){n!=="selectionchange"&&(lC.has(n)||Uc(n,!1,t),Uc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ks]||(e[Ks]=!0,Uc("selectionchange",!1,e))}}function n1(t,e,n,r){switch(F0(e)){case 1:var i=xS;break;case 4:i=ES;break;default:i=Dh}n=i.bind(null,e,n,t),i=void 0,!Yu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Vc(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=br(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}C0(function(){var c=o,u=Lh(n),d=[];e:{var h=e1.get(t);if(h!==void 0){var y=Fh,f=t;switch(t){case"keypress":if(pa(n)===0)break e;case"keydown":case"keyup":y=jS;break;case"focusin":f="focus",y=Nc;break;case"focusout":f="blur",y=Nc;break;case"beforeblur":case"afterblur":y=Nc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=_m;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=TS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=US;break;case X0:case J0:case Q0:y=PS;break;case Z0:y=HS;break;case"scroll":y=SS;break;case"wheel":y=WS;break;case"copy":case"cut":case"paste":y=OS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Pm}var m=(e&4)!==0,w=!m&&t==="scroll",g=m?h!==null?h+"Capture":null:h;m=[];for(var p=c,v;p!==null;){v=p;var k=v.stateNode;if(v.tag===5&&k!==null&&(v=k,g!==null&&(k=Fo(p,g),k!=null&&m.push(Ko(p,k,v)))),w)break;p=p.return}0<m.length&&(h=new y(h,f,null,n,u),d.push({event:h,listeners:m}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",h&&n!==qu&&(f=n.relatedTarget||n.fromElement)&&(br(f)||f[fn]))break e;if((y||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,y?(f=n.relatedTarget||n.toElement,y=c,f=f?br(f):null,f!==null&&(w=Vr(f),f!==w||f.tag!==5&&f.tag!==6)&&(f=null)):(y=null,f=c),y!==f)){if(m=_m,k="onMouseLeave",g="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(m=Pm,k="onPointerLeave",g="onPointerEnter",p="pointer"),w=y==null?h:ri(y),v=f==null?h:ri(f),h=new m(k,p+"leave",y,n,u),h.target=w,h.relatedTarget=v,k=null,br(u)===c&&(m=new m(g,p+"enter",f,n,u),m.target=v,m.relatedTarget=w,k=m),w=k,y&&f)t:{for(m=y,g=f,p=0,v=m;v;v=Kr(v))p++;for(v=0,k=g;k;k=Kr(k))v++;for(;0<p-v;)m=Kr(m),p--;for(;0<v-p;)g=Kr(g),v--;for(;p--;){if(m===g||g!==null&&m===g.alternate)break t;m=Kr(m),g=Kr(g)}m=null}else m=null;y!==null&&$m(d,h,y,m,!1),f!==null&&w!==null&&$m(d,w,f,m,!0)}}e:{if(h=c?ri(c):window,y=h.nodeName&&h.nodeName.toLowerCase(),y==="select"||y==="input"&&h.type==="file")var x=QS;else if(Bm(h))if(W0)x=nC;else{x=eC;var T=ZS}else(y=h.nodeName)&&y.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(x=tC);if(x&&(x=x(t,c))){z0(d,x,n,u);break e}T&&T(t,h,c),t==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&Vu(h,"number",h.value)}switch(T=c?ri(c):window,t){case"focusin":(Bm(T)||T.contentEditable==="true")&&(ti=T,ed=c,To=null);break;case"focusout":To=ed=ti=null;break;case"mousedown":td=!0;break;case"contextmenu":case"mouseup":case"dragend":td=!1,Dm(d,n,u);break;case"selectionchange":if(oC)break;case"keydown":case"keyup":Dm(d,n,u)}var P;if(Uh)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else ei?V0(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(U0&&n.locale!=="ko"&&(ei||S!=="onCompositionStart"?S==="onCompositionEnd"&&ei&&(P=$0()):(Dn=u,jh="value"in Dn?Dn.value:Dn.textContent,ei=!0)),T=Ga(c,S),0<T.length&&(S=new Im(S,t,null,n,u),d.push({event:S,listeners:T}),P?S.data=P:(P=H0(n),P!==null&&(S.data=P)))),(P=qS?GS(t,n):YS(t,n))&&(c=Ga(c,"onBeforeInput"),0<c.length&&(u=new Im("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=P))}t1(d,e)})}function Ko(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ga(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Fo(t,n),o!=null&&r.unshift(Ko(t,o,i)),o=Fo(t,e),o!=null&&r.push(Ko(t,o,i))),t=t.return}return r}function Kr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function $m(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Fo(n,o),l!=null&&s.unshift(Ko(n,l,a))):i||(l=Fo(n,o),l!=null&&s.push(Ko(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var cC=/\r\n?/g,uC=/\u0000|\uFFFD/g;function Um(t){return(typeof t=="string"?t:""+t).replace(cC,`
`).replace(uC,"")}function qs(t,e,n){if(e=Um(e),Um(t)!==e&&n)throw Error(O(425))}function Ya(){}var nd=null,rd=null;function id(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var od=typeof setTimeout=="function"?setTimeout:void 0,dC=typeof clearTimeout=="function"?clearTimeout:void 0,Vm=typeof Promise=="function"?Promise:void 0,hC=typeof queueMicrotask=="function"?queueMicrotask:typeof Vm<"u"?function(t){return Vm.resolve(null).then(t).catch(pC)}:od;function pC(t){setTimeout(function(){throw t})}function Hc(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Vo(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Vo(e)}function Hn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Hm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Vi=Math.random().toString(36).slice(2),Rt="__reactFiber$"+Vi,qo="__reactProps$"+Vi,fn="__reactContainer$"+Vi,sd="__reactEvents$"+Vi,fC="__reactListeners$"+Vi,mC="__reactHandles$"+Vi;function br(t){var e=t[Rt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[fn]||n[Rt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Hm(t);t!==null;){if(n=t[Rt])return n;t=Hm(t)}return e}t=n,n=t.parentNode}return null}function gs(t){return t=t[Rt]||t[fn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ri(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(O(33))}function Hl(t){return t[qo]||null}var ad=[],ii=-1;function rr(t){return{current:t}}function re(t){0>ii||(t.current=ad[ii],ad[ii]=null,ii--)}function te(t,e){ii++,ad[ii]=t.current,t.current=e}var Qn={},De=rr(Qn),Ye=rr(!1),Lr=Qn;function Pi(t,e){var n=t.type.contextTypes;if(!n)return Qn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Xe(t){return t=t.childContextTypes,t!=null}function Xa(){re(Ye),re(De)}function zm(t,e,n){if(De.current!==Qn)throw Error(O(168));te(De,e),te(Ye,n)}function r1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(O(108,ZE(t)||"Unknown",i));return he({},n,r)}function Ja(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Qn,Lr=De.current,te(De,t),te(Ye,Ye.current),!0}function Wm(t,e,n){var r=t.stateNode;if(!r)throw Error(O(169));n?(t=r1(t,e,Lr),r.__reactInternalMemoizedMergedChildContext=t,re(Ye),re(De),te(De,t)):re(Ye),te(Ye,n)}var Yt=null,zl=!1,zc=!1;function i1(t){Yt===null?Yt=[t]:Yt.push(t)}function gC(t){zl=!0,i1(t)}function ir(){if(!zc&&Yt!==null){zc=!0;var t=0,e=Q;try{var n=Yt;for(Q=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Yt=null,zl=!1}catch(i){throw Yt!==null&&(Yt=Yt.slice(t+1)),P0(Mh,ir),i}finally{Q=e,zc=!1}}return null}var oi=[],si=0,Qa=null,Za=0,ft=[],mt=0,Mr=null,Qt=1,Zt="";function fr(t,e){oi[si++]=Za,oi[si++]=Qa,Qa=t,Za=e}function o1(t,e,n){ft[mt++]=Qt,ft[mt++]=Zt,ft[mt++]=Mr,Mr=t;var r=Qt;t=Zt;var i=32-_t(r)-1;r&=~(1<<i),n+=1;var o=32-_t(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Qt=1<<32-_t(e)+i|n<<i|r,Zt=o+t}else Qt=1<<o|n<<i|r,Zt=t}function Hh(t){t.return!==null&&(fr(t,1),o1(t,1,0))}function zh(t){for(;t===Qa;)Qa=oi[--si],oi[si]=null,Za=oi[--si],oi[si]=null;for(;t===Mr;)Mr=ft[--mt],ft[mt]=null,Zt=ft[--mt],ft[mt]=null,Qt=ft[--mt],ft[mt]=null}var ot=null,rt=null,oe=!1,Tt=null;function s1(t,e){var n=yt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Km(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ot=t,rt=Hn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ot=t,rt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Mr!==null?{id:Qt,overflow:Zt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=yt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ot=t,rt=null,!0):!1;default:return!1}}function ld(t){return(t.mode&1)!==0&&(t.flags&128)===0}function cd(t){if(oe){var e=rt;if(e){var n=e;if(!Km(t,e)){if(ld(t))throw Error(O(418));e=Hn(n.nextSibling);var r=ot;e&&Km(t,e)?s1(r,n):(t.flags=t.flags&-4097|2,oe=!1,ot=t)}}else{if(ld(t))throw Error(O(418));t.flags=t.flags&-4097|2,oe=!1,ot=t}}}function qm(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ot=t}function Gs(t){if(t!==ot)return!1;if(!oe)return qm(t),oe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!id(t.type,t.memoizedProps)),e&&(e=rt)){if(ld(t))throw a1(),Error(O(418));for(;e;)s1(t,e),e=Hn(e.nextSibling)}if(qm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(O(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){rt=Hn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}rt=null}}else rt=ot?Hn(t.stateNode.nextSibling):null;return!0}function a1(){for(var t=rt;t;)t=Hn(t.nextSibling)}function Ai(){rt=ot=null,oe=!1}function Wh(t){Tt===null?Tt=[t]:Tt.push(t)}var vC=xn.ReactCurrentBatchConfig;function ro(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(O(309));var r=n.stateNode}if(!r)throw Error(O(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(O(284));if(!n._owner)throw Error(O(290,t))}return t}function Ys(t,e){throw t=Object.prototype.toString.call(e),Error(O(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Gm(t){var e=t._init;return e(t._payload)}function l1(t){function e(g,p){if(t){var v=g.deletions;v===null?(g.deletions=[p],g.flags|=16):v.push(p)}}function n(g,p){if(!t)return null;for(;p!==null;)e(g,p),p=p.sibling;return null}function r(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function i(g,p){return g=qn(g,p),g.index=0,g.sibling=null,g}function o(g,p,v){return g.index=v,t?(v=g.alternate,v!==null?(v=v.index,v<p?(g.flags|=2,p):v):(g.flags|=2,p)):(g.flags|=1048576,p)}function s(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,p,v,k){return p===null||p.tag!==6?(p=Jc(v,g.mode,k),p.return=g,p):(p=i(p,v),p.return=g,p)}function l(g,p,v,k){var x=v.type;return x===Zr?u(g,p,v.props.children,k,v.key):p!==null&&(p.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Pn&&Gm(x)===p.type)?(k=i(p,v.props),k.ref=ro(g,p,v),k.return=g,k):(k=ba(v.type,v.key,v.props,null,g.mode,k),k.ref=ro(g,p,v),k.return=g,k)}function c(g,p,v,k){return p===null||p.tag!==4||p.stateNode.containerInfo!==v.containerInfo||p.stateNode.implementation!==v.implementation?(p=Qc(v,g.mode,k),p.return=g,p):(p=i(p,v.children||[]),p.return=g,p)}function u(g,p,v,k,x){return p===null||p.tag!==7?(p=Ir(v,g.mode,k,x),p.return=g,p):(p=i(p,v),p.return=g,p)}function d(g,p,v){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Jc(""+p,g.mode,v),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case js:return v=ba(p.type,p.key,p.props,null,g.mode,v),v.ref=ro(g,null,p),v.return=g,v;case Qr:return p=Qc(p,g.mode,v),p.return=g,p;case Pn:var k=p._init;return d(g,k(p._payload),v)}if(po(p)||Qi(p))return p=Ir(p,g.mode,v,null),p.return=g,p;Ys(g,p)}return null}function h(g,p,v,k){var x=p!==null?p.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return x!==null?null:a(g,p,""+v,k);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case js:return v.key===x?l(g,p,v,k):null;case Qr:return v.key===x?c(g,p,v,k):null;case Pn:return x=v._init,h(g,p,x(v._payload),k)}if(po(v)||Qi(v))return x!==null?null:u(g,p,v,k,null);Ys(g,v)}return null}function y(g,p,v,k,x){if(typeof k=="string"&&k!==""||typeof k=="number")return g=g.get(v)||null,a(p,g,""+k,x);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case js:return g=g.get(k.key===null?v:k.key)||null,l(p,g,k,x);case Qr:return g=g.get(k.key===null?v:k.key)||null,c(p,g,k,x);case Pn:var T=k._init;return y(g,p,v,T(k._payload),x)}if(po(k)||Qi(k))return g=g.get(v)||null,u(p,g,k,x,null);Ys(p,k)}return null}function f(g,p,v,k){for(var x=null,T=null,P=p,S=p=0,I=null;P!==null&&S<v.length;S++){P.index>S?(I=P,P=null):I=P.sibling;var A=h(g,P,v[S],k);if(A===null){P===null&&(P=I);break}t&&P&&A.alternate===null&&e(g,P),p=o(A,p,S),T===null?x=A:T.sibling=A,T=A,P=I}if(S===v.length)return n(g,P),oe&&fr(g,S),x;if(P===null){for(;S<v.length;S++)P=d(g,v[S],k),P!==null&&(p=o(P,p,S),T===null?x=P:T.sibling=P,T=P);return oe&&fr(g,S),x}for(P=r(g,P);S<v.length;S++)I=y(P,g,S,v[S],k),I!==null&&(t&&I.alternate!==null&&P.delete(I.key===null?S:I.key),p=o(I,p,S),T===null?x=I:T.sibling=I,T=I);return t&&P.forEach(function(M){return e(g,M)}),oe&&fr(g,S),x}function m(g,p,v,k){var x=Qi(v);if(typeof x!="function")throw Error(O(150));if(v=x.call(v),v==null)throw Error(O(151));for(var T=x=null,P=p,S=p=0,I=null,A=v.next();P!==null&&!A.done;S++,A=v.next()){P.index>S?(I=P,P=null):I=P.sibling;var M=h(g,P,A.value,k);if(M===null){P===null&&(P=I);break}t&&P&&M.alternate===null&&e(g,P),p=o(M,p,S),T===null?x=M:T.sibling=M,T=M,P=I}if(A.done)return n(g,P),oe&&fr(g,S),x;if(P===null){for(;!A.done;S++,A=v.next())A=d(g,A.value,k),A!==null&&(p=o(A,p,S),T===null?x=A:T.sibling=A,T=A);return oe&&fr(g,S),x}for(P=r(g,P);!A.done;S++,A=v.next())A=y(P,g,S,A.value,k),A!==null&&(t&&A.alternate!==null&&P.delete(A.key===null?S:A.key),p=o(A,p,S),T===null?x=A:T.sibling=A,T=A);return t&&P.forEach(function(K){return e(g,K)}),oe&&fr(g,S),x}function w(g,p,v,k){if(typeof v=="object"&&v!==null&&v.type===Zr&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case js:e:{for(var x=v.key,T=p;T!==null;){if(T.key===x){if(x=v.type,x===Zr){if(T.tag===7){n(g,T.sibling),p=i(T,v.props.children),p.return=g,g=p;break e}}else if(T.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Pn&&Gm(x)===T.type){n(g,T.sibling),p=i(T,v.props),p.ref=ro(g,T,v),p.return=g,g=p;break e}n(g,T);break}else e(g,T);T=T.sibling}v.type===Zr?(p=Ir(v.props.children,g.mode,k,v.key),p.return=g,g=p):(k=ba(v.type,v.key,v.props,null,g.mode,k),k.ref=ro(g,p,v),k.return=g,g=k)}return s(g);case Qr:e:{for(T=v.key;p!==null;){if(p.key===T)if(p.tag===4&&p.stateNode.containerInfo===v.containerInfo&&p.stateNode.implementation===v.implementation){n(g,p.sibling),p=i(p,v.children||[]),p.return=g,g=p;break e}else{n(g,p);break}else e(g,p);p=p.sibling}p=Qc(v,g.mode,k),p.return=g,g=p}return s(g);case Pn:return T=v._init,w(g,p,T(v._payload),k)}if(po(v))return f(g,p,v,k);if(Qi(v))return m(g,p,v,k);Ys(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,p!==null&&p.tag===6?(n(g,p.sibling),p=i(p,v),p.return=g,g=p):(n(g,p),p=Jc(v,g.mode,k),p.return=g,g=p),s(g)):n(g,p)}return w}var Oi=l1(!0),c1=l1(!1),el=rr(null),tl=null,ai=null,Kh=null;function qh(){Kh=ai=tl=null}function Gh(t){var e=el.current;re(el),t._currentValue=e}function ud(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function bi(t,e){tl=t,Kh=ai=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ge=!0),t.firstContext=null)}function bt(t){var e=t._currentValue;if(Kh!==t)if(t={context:t,memoizedValue:e,next:null},ai===null){if(tl===null)throw Error(O(308));ai=t,tl.dependencies={lanes:0,firstContext:t}}else ai=ai.next=t;return e}var kr=null;function Yh(t){kr===null?kr=[t]:kr.push(t)}function u1(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Yh(e)):(n.next=i.next,i.next=n),e.interleaved=n,mn(t,r)}function mn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var An=!1;function Xh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function d1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function an(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function zn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,G&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,mn(t,n)}return i=r.interleaved,i===null?(e.next=e,Yh(r)):(e.next=i.next,i.next=e),r.interleaved=e,mn(t,n)}function fa(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Nh(t,n)}}function Ym(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function nl(t,e,n,r){var i=t.updateQueue;An=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,u=c=l=null,a=o;do{var h=a.lane,y=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var f=t,m=a;switch(h=e,y=n,m.tag){case 1:if(f=m.payload,typeof f=="function"){d=f.call(y,d,h);break e}d=f;break e;case 3:f.flags=f.flags&-65537|128;case 0:if(f=m.payload,h=typeof f=="function"?f.call(y,d,h):f,h==null)break e;d=he({},d,h);break e;case 2:An=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else y={eventTime:y,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=y,l=d):u=u.next=y,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Rr|=s,t.lanes=s,t.memoizedState=d}}function Xm(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(O(191,i));i.call(r)}}}var vs={},Ft=rr(vs),Go=rr(vs),Yo=rr(vs);function xr(t){if(t===vs)throw Error(O(174));return t}function Jh(t,e){switch(te(Yo,e),te(Go,t),te(Ft,vs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:zu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=zu(e,t)}re(Ft),te(Ft,e)}function Bi(){re(Ft),re(Go),re(Yo)}function h1(t){xr(Yo.current);var e=xr(Ft.current),n=zu(e,t.type);e!==n&&(te(Go,t),te(Ft,n))}function Qh(t){Go.current===t&&(re(Ft),re(Go))}var le=rr(0);function rl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Wc=[];function Zh(){for(var t=0;t<Wc.length;t++)Wc[t]._workInProgressVersionPrimary=null;Wc.length=0}var ma=xn.ReactCurrentDispatcher,Kc=xn.ReactCurrentBatchConfig,Nr=0,de=null,ke=null,Ee=null,il=!1,_o=!1,Xo=0,yC=0;function Ae(){throw Error(O(321))}function ep(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ot(t[n],e[n]))return!1;return!0}function tp(t,e,n,r,i,o){if(Nr=o,de=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ma.current=t===null||t.memoizedState===null?xC:EC,t=n(r,i),_o){o=0;do{if(_o=!1,Xo=0,25<=o)throw Error(O(301));o+=1,Ee=ke=null,e.updateQueue=null,ma.current=SC,t=n(r,i)}while(_o)}if(ma.current=ol,e=ke!==null&&ke.next!==null,Nr=0,Ee=ke=de=null,il=!1,e)throw Error(O(300));return t}function np(){var t=Xo!==0;return Xo=0,t}function Mt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?de.memoizedState=Ee=t:Ee=Ee.next=t,Ee}function kt(){if(ke===null){var t=de.alternate;t=t!==null?t.memoizedState:null}else t=ke.next;var e=Ee===null?de.memoizedState:Ee.next;if(e!==null)Ee=e,ke=t;else{if(t===null)throw Error(O(310));ke=t,t={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},Ee===null?de.memoizedState=Ee=t:Ee=Ee.next=t}return Ee}function Jo(t,e){return typeof e=="function"?e(t):e}function qc(t){var e=kt(),n=e.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=t;var r=ke,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var u=c.lane;if((Nr&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,de.lanes|=u,Rr|=u}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,Ot(r,e.memoizedState)||(Ge=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,de.lanes|=o,Rr|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Gc(t){var e=kt(),n=e.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Ot(o,e.memoizedState)||(Ge=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function p1(){}function f1(t,e){var n=de,r=kt(),i=e(),o=!Ot(r.memoizedState,i);if(o&&(r.memoizedState=i,Ge=!0),r=r.queue,rp(v1.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Ee!==null&&Ee.memoizedState.tag&1){if(n.flags|=2048,Qo(9,g1.bind(null,n,r,i,e),void 0,null),Se===null)throw Error(O(349));Nr&30||m1(n,e,i)}return i}function m1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=de.updateQueue,e===null?(e={lastEffect:null,stores:null},de.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function g1(t,e,n,r){e.value=n,e.getSnapshot=r,y1(e)&&w1(t)}function v1(t,e,n){return n(function(){y1(e)&&w1(t)})}function y1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ot(t,n)}catch{return!0}}function w1(t){var e=mn(t,1);e!==null&&It(e,t,1,-1)}function Jm(t){var e=Mt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jo,lastRenderedState:t},e.queue=t,t=t.dispatch=kC.bind(null,de,t),[e.memoizedState,t]}function Qo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=de.updateQueue,e===null?(e={lastEffect:null,stores:null},de.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function b1(){return kt().memoizedState}function ga(t,e,n,r){var i=Mt();de.flags|=t,i.memoizedState=Qo(1|e,n,void 0,r===void 0?null:r)}function Wl(t,e,n,r){var i=kt();r=r===void 0?null:r;var o=void 0;if(ke!==null){var s=ke.memoizedState;if(o=s.destroy,r!==null&&ep(r,s.deps)){i.memoizedState=Qo(e,n,o,r);return}}de.flags|=t,i.memoizedState=Qo(1|e,n,o,r)}function Qm(t,e){return ga(8390656,8,t,e)}function rp(t,e){return Wl(2048,8,t,e)}function k1(t,e){return Wl(4,2,t,e)}function x1(t,e){return Wl(4,4,t,e)}function E1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function S1(t,e,n){return n=n!=null?n.concat([t]):null,Wl(4,4,E1.bind(null,e,t),n)}function ip(){}function C1(t,e){var n=kt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ep(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function T1(t,e){var n=kt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ep(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function _1(t,e,n){return Nr&21?(Ot(n,e)||(n=B0(),de.lanes|=n,Rr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ge=!0),t.memoizedState=n)}function wC(t,e){var n=Q;Q=n!==0&&4>n?n:4,t(!0);var r=Kc.transition;Kc.transition={};try{t(!1),e()}finally{Q=n,Kc.transition=r}}function I1(){return kt().memoizedState}function bC(t,e,n){var r=Kn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},P1(t))A1(e,n);else if(n=u1(t,e,n,r),n!==null){var i=Ve();It(n,t,r,i),O1(n,e,r)}}function kC(t,e,n){var r=Kn(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(P1(t))A1(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Ot(a,s)){var l=e.interleaved;l===null?(i.next=i,Yh(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=u1(t,e,i,r),n!==null&&(i=Ve(),It(n,t,r,i),O1(n,e,r))}}function P1(t){var e=t.alternate;return t===de||e!==null&&e===de}function A1(t,e){_o=il=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function O1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Nh(t,n)}}var ol={readContext:bt,useCallback:Ae,useContext:Ae,useEffect:Ae,useImperativeHandle:Ae,useInsertionEffect:Ae,useLayoutEffect:Ae,useMemo:Ae,useReducer:Ae,useRef:Ae,useState:Ae,useDebugValue:Ae,useDeferredValue:Ae,useTransition:Ae,useMutableSource:Ae,useSyncExternalStore:Ae,useId:Ae,unstable_isNewReconciler:!1},xC={readContext:bt,useCallback:function(t,e){return Mt().memoizedState=[t,e===void 0?null:e],t},useContext:bt,useEffect:Qm,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ga(4194308,4,E1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ga(4194308,4,t,e)},useInsertionEffect:function(t,e){return ga(4,2,t,e)},useMemo:function(t,e){var n=Mt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Mt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=bC.bind(null,de,t),[r.memoizedState,t]},useRef:function(t){var e=Mt();return t={current:t},e.memoizedState=t},useState:Jm,useDebugValue:ip,useDeferredValue:function(t){return Mt().memoizedState=t},useTransition:function(){var t=Jm(!1),e=t[0];return t=wC.bind(null,t[1]),Mt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=de,i=Mt();if(oe){if(n===void 0)throw Error(O(407));n=n()}else{if(n=e(),Se===null)throw Error(O(349));Nr&30||m1(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Qm(v1.bind(null,r,o,t),[t]),r.flags|=2048,Qo(9,g1.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Mt(),e=Se.identifierPrefix;if(oe){var n=Zt,r=Qt;n=(r&~(1<<32-_t(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Xo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=yC++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},EC={readContext:bt,useCallback:C1,useContext:bt,useEffect:rp,useImperativeHandle:S1,useInsertionEffect:k1,useLayoutEffect:x1,useMemo:T1,useReducer:qc,useRef:b1,useState:function(){return qc(Jo)},useDebugValue:ip,useDeferredValue:function(t){var e=kt();return _1(e,ke.memoizedState,t)},useTransition:function(){var t=qc(Jo)[0],e=kt().memoizedState;return[t,e]},useMutableSource:p1,useSyncExternalStore:f1,useId:I1,unstable_isNewReconciler:!1},SC={readContext:bt,useCallback:C1,useContext:bt,useEffect:rp,useImperativeHandle:S1,useInsertionEffect:k1,useLayoutEffect:x1,useMemo:T1,useReducer:Gc,useRef:b1,useState:function(){return Gc(Jo)},useDebugValue:ip,useDeferredValue:function(t){var e=kt();return ke===null?e.memoizedState=t:_1(e,ke.memoizedState,t)},useTransition:function(){var t=Gc(Jo)[0],e=kt().memoizedState;return[t,e]},useMutableSource:p1,useSyncExternalStore:f1,useId:I1,unstable_isNewReconciler:!1};function St(t,e){if(t&&t.defaultProps){e=he({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function dd(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:he({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Kl={isMounted:function(t){return(t=t._reactInternals)?Vr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ve(),i=Kn(t),o=an(r,i);o.payload=e,n!=null&&(o.callback=n),e=zn(t,o,i),e!==null&&(It(e,t,i,r),fa(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ve(),i=Kn(t),o=an(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=zn(t,o,i),e!==null&&(It(e,t,i,r),fa(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ve(),r=Kn(t),i=an(n,r);i.tag=2,e!=null&&(i.callback=e),e=zn(t,i,r),e!==null&&(It(e,t,r,n),fa(e,t,r))}};function Zm(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!zo(n,r)||!zo(i,o):!0}function B1(t,e,n){var r=!1,i=Qn,o=e.contextType;return typeof o=="object"&&o!==null?o=bt(o):(i=Xe(e)?Lr:De.current,r=e.contextTypes,o=(r=r!=null)?Pi(t,i):Qn),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Kl,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function eg(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Kl.enqueueReplaceState(e,e.state,null)}function hd(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Xh(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=bt(o):(o=Xe(e)?Lr:De.current,i.context=Pi(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(dd(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Kl.enqueueReplaceState(i,i.state,null),nl(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Li(t,e){try{var n="",r=e;do n+=QE(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Yc(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function pd(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var CC=typeof WeakMap=="function"?WeakMap:Map;function L1(t,e,n){n=an(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){al||(al=!0,Ed=r),pd(t,e)},n}function M1(t,e,n){n=an(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){pd(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){pd(t,e),typeof r!="function"&&(Wn===null?Wn=new Set([this]):Wn.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function tg(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new CC;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=FC.bind(null,t,e,n),e.then(t,t))}function ng(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function rg(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=an(-1,1),e.tag=2,zn(n,e,1))),n.lanes|=1),t)}var TC=xn.ReactCurrentOwner,Ge=!1;function $e(t,e,n,r){e.child=t===null?c1(e,null,n,r):Oi(e,t.child,n,r)}function ig(t,e,n,r,i){n=n.render;var o=e.ref;return bi(e,i),r=tp(t,e,n,r,o,i),n=np(),t!==null&&!Ge?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,gn(t,e,i)):(oe&&n&&Hh(e),e.flags|=1,$e(t,e,r,i),e.child)}function og(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!hp(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,N1(t,e,o,r,i)):(t=ba(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:zo,n(s,r)&&t.ref===e.ref)return gn(t,e,i)}return e.flags|=1,t=qn(o,r),t.ref=e.ref,t.return=e,e.child=t}function N1(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(zo(o,r)&&t.ref===e.ref)if(Ge=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Ge=!0);else return e.lanes=t.lanes,gn(t,e,i)}return fd(t,e,n,r,i)}function R1(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},te(ci,nt),nt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,te(ci,nt),nt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,te(ci,nt),nt|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,te(ci,nt),nt|=r;return $e(t,e,i,n),e.child}function D1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function fd(t,e,n,r,i){var o=Xe(n)?Lr:De.current;return o=Pi(e,o),bi(e,i),n=tp(t,e,n,r,o,i),r=np(),t!==null&&!Ge?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,gn(t,e,i)):(oe&&r&&Hh(e),e.flags|=1,$e(t,e,n,i),e.child)}function sg(t,e,n,r,i){if(Xe(n)){var o=!0;Ja(e)}else o=!1;if(bi(e,i),e.stateNode===null)va(t,e),B1(e,n,r),hd(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=bt(c):(c=Xe(n)?Lr:De.current,c=Pi(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&eg(e,s,r,c),An=!1;var h=e.memoizedState;s.state=h,nl(e,r,s,i),l=e.memoizedState,a!==r||h!==l||Ye.current||An?(typeof u=="function"&&(dd(e,n,u,r),l=e.memoizedState),(a=An||Zm(e,n,a,r,h,l,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,d1(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:St(e.type,a),s.props=c,d=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=bt(l):(l=Xe(n)?Lr:De.current,l=Pi(e,l));var y=n.getDerivedStateFromProps;(u=typeof y=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||h!==l)&&eg(e,s,r,l),An=!1,h=e.memoizedState,s.state=h,nl(e,r,s,i);var f=e.memoizedState;a!==d||h!==f||Ye.current||An?(typeof y=="function"&&(dd(e,n,y,r),f=e.memoizedState),(c=An||Zm(e,n,c,r,h,f,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,f,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,f,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=f),s.props=r,s.state=f,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return md(t,e,n,r,o,i)}function md(t,e,n,r,i,o){D1(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&Wm(e,n,!1),gn(t,e,o);r=e.stateNode,TC.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Oi(e,t.child,null,o),e.child=Oi(e,null,a,o)):$e(t,e,a,o),e.memoizedState=r.state,i&&Wm(e,n,!0),e.child}function j1(t){var e=t.stateNode;e.pendingContext?zm(t,e.pendingContext,e.pendingContext!==e.context):e.context&&zm(t,e.context,!1),Jh(t,e.containerInfo)}function ag(t,e,n,r,i){return Ai(),Wh(i),e.flags|=256,$e(t,e,n,r),e.child}var gd={dehydrated:null,treeContext:null,retryLane:0};function vd(t){return{baseLanes:t,cachePool:null,transitions:null}}function F1(t,e,n){var r=e.pendingProps,i=le.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),te(le,i&1),t===null)return cd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Yl(s,r,0,null),t=Ir(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=vd(n),e.memoizedState=gd,t):op(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return _C(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=qn(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=qn(a,o):(o=Ir(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?vd(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=gd,r}return o=t.child,t=o.sibling,r=qn(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function op(t,e){return e=Yl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Xs(t,e,n,r){return r!==null&&Wh(r),Oi(e,t.child,null,n),t=op(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function _C(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Yc(Error(O(422))),Xs(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Yl({mode:"visible",children:r.children},i,0,null),o=Ir(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Oi(e,t.child,null,s),e.child.memoizedState=vd(s),e.memoizedState=gd,o);if(!(e.mode&1))return Xs(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(O(419)),r=Yc(o,r,void 0),Xs(t,e,s,r)}if(a=(s&t.childLanes)!==0,Ge||a){if(r=Se,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,mn(t,i),It(r,t,i,-1))}return dp(),r=Yc(Error(O(421))),Xs(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=$C.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,rt=Hn(i.nextSibling),ot=e,oe=!0,Tt=null,t!==null&&(ft[mt++]=Qt,ft[mt++]=Zt,ft[mt++]=Mr,Qt=t.id,Zt=t.overflow,Mr=e),e=op(e,r.children),e.flags|=4096,e)}function lg(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ud(t.return,e,n)}function Xc(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function $1(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if($e(t,e,r.children,n),r=le.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&lg(t,n,e);else if(t.tag===19)lg(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(te(le,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&rl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Xc(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&rl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Xc(e,!0,n,null,o);break;case"together":Xc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function va(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function gn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Rr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(O(153));if(e.child!==null){for(t=e.child,n=qn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=qn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function IC(t,e,n){switch(e.tag){case 3:j1(e),Ai();break;case 5:h1(e);break;case 1:Xe(e.type)&&Ja(e);break;case 4:Jh(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;te(el,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(te(le,le.current&1),e.flags|=128,null):n&e.child.childLanes?F1(t,e,n):(te(le,le.current&1),t=gn(t,e,n),t!==null?t.sibling:null);te(le,le.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return $1(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),te(le,le.current),r)break;return null;case 22:case 23:return e.lanes=0,R1(t,e,n)}return gn(t,e,n)}var U1,yd,V1,H1;U1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};yd=function(){};V1=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,xr(Ft.current);var o=null;switch(n){case"input":i=$u(t,i),r=$u(t,r),o=[];break;case"select":i=he({},i,{value:void 0}),r=he({},r,{value:void 0}),o=[];break;case"textarea":i=Hu(t,i),r=Hu(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ya)}Wu(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Do.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Do.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ne("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};H1=function(t,e,n,r){n!==r&&(e.flags|=4)};function io(t,e){if(!oe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Oe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function PC(t,e,n){var r=e.pendingProps;switch(zh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oe(e),null;case 1:return Xe(e.type)&&Xa(),Oe(e),null;case 3:return r=e.stateNode,Bi(),re(Ye),re(De),Zh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Gs(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Tt!==null&&(Td(Tt),Tt=null))),yd(t,e),Oe(e),null;case 5:Qh(e);var i=xr(Yo.current);if(n=e.type,t!==null&&e.stateNode!=null)V1(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(O(166));return Oe(e),null}if(t=xr(Ft.current),Gs(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Rt]=e,r[qo]=o,t=(e.mode&1)!==0,n){case"dialog":ne("cancel",r),ne("close",r);break;case"iframe":case"object":case"embed":ne("load",r);break;case"video":case"audio":for(i=0;i<mo.length;i++)ne(mo[i],r);break;case"source":ne("error",r);break;case"img":case"image":case"link":ne("error",r),ne("load",r);break;case"details":ne("toggle",r);break;case"input":vm(r,o),ne("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ne("invalid",r);break;case"textarea":wm(r,o),ne("invalid",r)}Wu(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&qs(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&qs(r.textContent,a,t),i=["children",""+a]):Do.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&ne("scroll",r)}switch(n){case"input":Fs(r),ym(r,o,!0);break;case"textarea":Fs(r),bm(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Ya)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=v0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Rt]=e,t[qo]=r,U1(t,e,!1,!1),e.stateNode=t;e:{switch(s=Ku(n,r),n){case"dialog":ne("cancel",t),ne("close",t),i=r;break;case"iframe":case"object":case"embed":ne("load",t),i=r;break;case"video":case"audio":for(i=0;i<mo.length;i++)ne(mo[i],t);i=r;break;case"source":ne("error",t),i=r;break;case"img":case"image":case"link":ne("error",t),ne("load",t),i=r;break;case"details":ne("toggle",t),i=r;break;case"input":vm(t,r),i=$u(t,r),ne("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=he({},r,{value:void 0}),ne("invalid",t);break;case"textarea":wm(t,r),i=Hu(t,r),ne("invalid",t);break;default:i=r}Wu(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?b0(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&y0(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&jo(t,l):typeof l=="number"&&jo(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Do.hasOwnProperty(o)?l!=null&&o==="onScroll"&&ne("scroll",t):l!=null&&Ph(t,o,l,s))}switch(n){case"input":Fs(t),ym(t,r,!1);break;case"textarea":Fs(t),bm(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Jn(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?gi(t,!!r.multiple,o,!1):r.defaultValue!=null&&gi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ya)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Oe(e),null;case 6:if(t&&e.stateNode!=null)H1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(O(166));if(n=xr(Yo.current),xr(Ft.current),Gs(e)){if(r=e.stateNode,n=e.memoizedProps,r[Rt]=e,(o=r.nodeValue!==n)&&(t=ot,t!==null))switch(t.tag){case 3:qs(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&qs(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Rt]=e,e.stateNode=r}return Oe(e),null;case 13:if(re(le),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(oe&&rt!==null&&e.mode&1&&!(e.flags&128))a1(),Ai(),e.flags|=98560,o=!1;else if(o=Gs(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(O(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(O(317));o[Rt]=e}else Ai(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Oe(e),o=!1}else Tt!==null&&(Td(Tt),Tt=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||le.current&1?xe===0&&(xe=3):dp())),e.updateQueue!==null&&(e.flags|=4),Oe(e),null);case 4:return Bi(),yd(t,e),t===null&&Wo(e.stateNode.containerInfo),Oe(e),null;case 10:return Gh(e.type._context),Oe(e),null;case 17:return Xe(e.type)&&Xa(),Oe(e),null;case 19:if(re(le),o=e.memoizedState,o===null)return Oe(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)io(o,!1);else{if(xe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=rl(t),s!==null){for(e.flags|=128,io(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return te(le,le.current&1|2),e.child}t=t.sibling}o.tail!==null&&ye()>Mi&&(e.flags|=128,r=!0,io(o,!1),e.lanes=4194304)}else{if(!r)if(t=rl(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),io(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!oe)return Oe(e),null}else 2*ye()-o.renderingStartTime>Mi&&n!==1073741824&&(e.flags|=128,r=!0,io(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ye(),e.sibling=null,n=le.current,te(le,r?n&1|2:n&1),e):(Oe(e),null);case 22:case 23:return up(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?nt&1073741824&&(Oe(e),e.subtreeFlags&6&&(e.flags|=8192)):Oe(e),null;case 24:return null;case 25:return null}throw Error(O(156,e.tag))}function AC(t,e){switch(zh(e),e.tag){case 1:return Xe(e.type)&&Xa(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Bi(),re(Ye),re(De),Zh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Qh(e),null;case 13:if(re(le),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(O(340));Ai()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return re(le),null;case 4:return Bi(),null;case 10:return Gh(e.type._context),null;case 22:case 23:return up(),null;case 24:return null;default:return null}}var Js=!1,Le=!1,OC=typeof WeakSet=="function"?WeakSet:Set,L=null;function li(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){fe(t,e,r)}else n.current=null}function wd(t,e,n){try{n()}catch(r){fe(t,e,r)}}var cg=!1;function BC(t,e){if(nd=Ka,t=G0(),Vh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var y;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(y=d.firstChild)!==null;)h=d,d=y;for(;;){if(d===t)break t;if(h===n&&++c===i&&(a=s),h===o&&++u===r&&(l=s),(y=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(rd={focusedElem:t,selectionRange:n},Ka=!1,L=e;L!==null;)if(e=L,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,L=t;else for(;L!==null;){e=L;try{var f=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(f!==null){var m=f.memoizedProps,w=f.memoizedState,g=e.stateNode,p=g.getSnapshotBeforeUpdate(e.elementType===e.type?m:St(e.type,m),w);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(k){fe(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,L=t;break}L=e.return}return f=cg,cg=!1,f}function Io(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&wd(e,n,o)}i=i.next}while(i!==r)}}function ql(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function bd(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function z1(t){var e=t.alternate;e!==null&&(t.alternate=null,z1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Rt],delete e[qo],delete e[sd],delete e[fC],delete e[mC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function W1(t){return t.tag===5||t.tag===3||t.tag===4}function ug(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||W1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function kd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ya));else if(r!==4&&(t=t.child,t!==null))for(kd(t,e,n),t=t.sibling;t!==null;)kd(t,e,n),t=t.sibling}function xd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(xd(t,e,n),t=t.sibling;t!==null;)xd(t,e,n),t=t.sibling}var Ce=null,Ct=!1;function En(t,e,n){for(n=n.child;n!==null;)K1(t,e,n),n=n.sibling}function K1(t,e,n){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(Fl,n)}catch{}switch(n.tag){case 5:Le||li(n,e);case 6:var r=Ce,i=Ct;Ce=null,En(t,e,n),Ce=r,Ct=i,Ce!==null&&(Ct?(t=Ce,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ce.removeChild(n.stateNode));break;case 18:Ce!==null&&(Ct?(t=Ce,n=n.stateNode,t.nodeType===8?Hc(t.parentNode,n):t.nodeType===1&&Hc(t,n),Vo(t)):Hc(Ce,n.stateNode));break;case 4:r=Ce,i=Ct,Ce=n.stateNode.containerInfo,Ct=!0,En(t,e,n),Ce=r,Ct=i;break;case 0:case 11:case 14:case 15:if(!Le&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&wd(n,e,s),i=i.next}while(i!==r)}En(t,e,n);break;case 1:if(!Le&&(li(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){fe(n,e,a)}En(t,e,n);break;case 21:En(t,e,n);break;case 22:n.mode&1?(Le=(r=Le)||n.memoizedState!==null,En(t,e,n),Le=r):En(t,e,n);break;default:En(t,e,n)}}function dg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new OC),e.forEach(function(r){var i=UC.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Et(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Ce=a.stateNode,Ct=!1;break e;case 3:Ce=a.stateNode.containerInfo,Ct=!0;break e;case 4:Ce=a.stateNode.containerInfo,Ct=!0;break e}a=a.return}if(Ce===null)throw Error(O(160));K1(o,s,i),Ce=null,Ct=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){fe(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)q1(e,t),e=e.sibling}function q1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Et(e,t),Lt(t),r&4){try{Io(3,t,t.return),ql(3,t)}catch(m){fe(t,t.return,m)}try{Io(5,t,t.return)}catch(m){fe(t,t.return,m)}}break;case 1:Et(e,t),Lt(t),r&512&&n!==null&&li(n,n.return);break;case 5:if(Et(e,t),Lt(t),r&512&&n!==null&&li(n,n.return),t.flags&32){var i=t.stateNode;try{jo(i,"")}catch(m){fe(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&m0(i,o),Ku(a,s);var c=Ku(a,o);for(s=0;s<l.length;s+=2){var u=l[s],d=l[s+1];u==="style"?b0(i,d):u==="dangerouslySetInnerHTML"?y0(i,d):u==="children"?jo(i,d):Ph(i,u,d,c)}switch(a){case"input":Uu(i,o);break;case"textarea":g0(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var y=o.value;y!=null?gi(i,!!o.multiple,y,!1):h!==!!o.multiple&&(o.defaultValue!=null?gi(i,!!o.multiple,o.defaultValue,!0):gi(i,!!o.multiple,o.multiple?[]:"",!1))}i[qo]=o}catch(m){fe(t,t.return,m)}}break;case 6:if(Et(e,t),Lt(t),r&4){if(t.stateNode===null)throw Error(O(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(m){fe(t,t.return,m)}}break;case 3:if(Et(e,t),Lt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Vo(e.containerInfo)}catch(m){fe(t,t.return,m)}break;case 4:Et(e,t),Lt(t);break;case 13:Et(e,t),Lt(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(lp=ye())),r&4&&dg(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Le=(c=Le)||u,Et(e,t),Le=c):Et(e,t),Lt(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(L=t,u=t.child;u!==null;){for(d=L=u;L!==null;){switch(h=L,y=h.child,h.tag){case 0:case 11:case 14:case 15:Io(4,h,h.return);break;case 1:li(h,h.return);var f=h.stateNode;if(typeof f.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,f.props=e.memoizedProps,f.state=e.memoizedState,f.componentWillUnmount()}catch(m){fe(r,n,m)}}break;case 5:li(h,h.return);break;case 22:if(h.memoizedState!==null){pg(d);continue}}y!==null?(y.return=h,L=y):pg(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=w0("display",s))}catch(m){fe(t,t.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){fe(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Et(e,t),Lt(t),r&4&&dg(t);break;case 21:break;default:Et(e,t),Lt(t)}}function Lt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(W1(n)){var r=n;break e}n=n.return}throw Error(O(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(jo(i,""),r.flags&=-33);var o=ug(t);xd(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=ug(t);kd(t,a,s);break;default:throw Error(O(161))}}catch(l){fe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function LC(t,e,n){L=t,G1(t)}function G1(t,e,n){for(var r=(t.mode&1)!==0;L!==null;){var i=L,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Js;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Le;a=Js;var c=Le;if(Js=s,(Le=l)&&!c)for(L=i;L!==null;)s=L,l=s.child,s.tag===22&&s.memoizedState!==null?fg(i):l!==null?(l.return=s,L=l):fg(i);for(;o!==null;)L=o,G1(o),o=o.sibling;L=i,Js=a,Le=c}hg(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,L=o):hg(t)}}function hg(t){for(;L!==null;){var e=L;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Le||ql(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Le)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:St(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Xm(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Xm(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Vo(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}Le||e.flags&512&&bd(e)}catch(h){fe(e,e.return,h)}}if(e===t){L=null;break}if(n=e.sibling,n!==null){n.return=e.return,L=n;break}L=e.return}}function pg(t){for(;L!==null;){var e=L;if(e===t){L=null;break}var n=e.sibling;if(n!==null){n.return=e.return,L=n;break}L=e.return}}function fg(t){for(;L!==null;){var e=L;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ql(4,e)}catch(l){fe(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){fe(e,i,l)}}var o=e.return;try{bd(e)}catch(l){fe(e,o,l)}break;case 5:var s=e.return;try{bd(e)}catch(l){fe(e,s,l)}}}catch(l){fe(e,e.return,l)}if(e===t){L=null;break}var a=e.sibling;if(a!==null){a.return=e.return,L=a;break}L=e.return}}var MC=Math.ceil,sl=xn.ReactCurrentDispatcher,sp=xn.ReactCurrentOwner,wt=xn.ReactCurrentBatchConfig,G=0,Se=null,be=null,_e=0,nt=0,ci=rr(0),xe=0,Zo=null,Rr=0,Gl=0,ap=0,Po=null,Ke=null,lp=0,Mi=1/0,qt=null,al=!1,Ed=null,Wn=null,Qs=!1,jn=null,ll=0,Ao=0,Sd=null,ya=-1,wa=0;function Ve(){return G&6?ye():ya!==-1?ya:ya=ye()}function Kn(t){return t.mode&1?G&2&&_e!==0?_e&-_e:vC.transition!==null?(wa===0&&(wa=B0()),wa):(t=Q,t!==0||(t=window.event,t=t===void 0?16:F0(t.type)),t):1}function It(t,e,n,r){if(50<Ao)throw Ao=0,Sd=null,Error(O(185));fs(t,n,r),(!(G&2)||t!==Se)&&(t===Se&&(!(G&2)&&(Gl|=n),xe===4&&Bn(t,_e)),Je(t,r),n===1&&G===0&&!(e.mode&1)&&(Mi=ye()+500,zl&&ir()))}function Je(t,e){var n=t.callbackNode;vS(t,e);var r=Wa(t,t===Se?_e:0);if(r===0)n!==null&&Em(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Em(n),e===1)t.tag===0?gC(mg.bind(null,t)):i1(mg.bind(null,t)),hC(function(){!(G&6)&&ir()}),n=null;else{switch(L0(r)){case 1:n=Mh;break;case 4:n=A0;break;case 16:n=za;break;case 536870912:n=O0;break;default:n=za}n=nw(n,Y1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Y1(t,e){if(ya=-1,wa=0,G&6)throw Error(O(327));var n=t.callbackNode;if(ki()&&t.callbackNode!==n)return null;var r=Wa(t,t===Se?_e:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=cl(t,r);else{e=r;var i=G;G|=2;var o=J1();(Se!==t||_e!==e)&&(qt=null,Mi=ye()+500,_r(t,e));do try{DC();break}catch(a){X1(t,a)}while(!0);qh(),sl.current=o,G=i,be!==null?e=0:(Se=null,_e=0,e=xe)}if(e!==0){if(e===2&&(i=Ju(t),i!==0&&(r=i,e=Cd(t,i))),e===1)throw n=Zo,_r(t,0),Bn(t,r),Je(t,ye()),n;if(e===6)Bn(t,r);else{if(i=t.current.alternate,!(r&30)&&!NC(i)&&(e=cl(t,r),e===2&&(o=Ju(t),o!==0&&(r=o,e=Cd(t,o))),e===1))throw n=Zo,_r(t,0),Bn(t,r),Je(t,ye()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(O(345));case 2:mr(t,Ke,qt);break;case 3:if(Bn(t,r),(r&130023424)===r&&(e=lp+500-ye(),10<e)){if(Wa(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ve(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=od(mr.bind(null,t,Ke,qt),e);break}mr(t,Ke,qt);break;case 4:if(Bn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-_t(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=ye()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*MC(r/1960))-r,10<r){t.timeoutHandle=od(mr.bind(null,t,Ke,qt),r);break}mr(t,Ke,qt);break;case 5:mr(t,Ke,qt);break;default:throw Error(O(329))}}}return Je(t,ye()),t.callbackNode===n?Y1.bind(null,t):null}function Cd(t,e){var n=Po;return t.current.memoizedState.isDehydrated&&(_r(t,e).flags|=256),t=cl(t,e),t!==2&&(e=Ke,Ke=n,e!==null&&Td(e)),t}function Td(t){Ke===null?Ke=t:Ke.push.apply(Ke,t)}function NC(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Ot(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Bn(t,e){for(e&=~ap,e&=~Gl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-_t(e),r=1<<n;t[n]=-1,e&=~r}}function mg(t){if(G&6)throw Error(O(327));ki();var e=Wa(t,0);if(!(e&1))return Je(t,ye()),null;var n=cl(t,e);if(t.tag!==0&&n===2){var r=Ju(t);r!==0&&(e=r,n=Cd(t,r))}if(n===1)throw n=Zo,_r(t,0),Bn(t,e),Je(t,ye()),n;if(n===6)throw Error(O(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,mr(t,Ke,qt),Je(t,ye()),null}function cp(t,e){var n=G;G|=1;try{return t(e)}finally{G=n,G===0&&(Mi=ye()+500,zl&&ir())}}function Dr(t){jn!==null&&jn.tag===0&&!(G&6)&&ki();var e=G;G|=1;var n=wt.transition,r=Q;try{if(wt.transition=null,Q=1,t)return t()}finally{Q=r,wt.transition=n,G=e,!(G&6)&&ir()}}function up(){nt=ci.current,re(ci)}function _r(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,dC(n)),be!==null)for(n=be.return;n!==null;){var r=n;switch(zh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Xa();break;case 3:Bi(),re(Ye),re(De),Zh();break;case 5:Qh(r);break;case 4:Bi();break;case 13:re(le);break;case 19:re(le);break;case 10:Gh(r.type._context);break;case 22:case 23:up()}n=n.return}if(Se=t,be=t=qn(t.current,null),_e=nt=e,xe=0,Zo=null,ap=Gl=Rr=0,Ke=Po=null,kr!==null){for(e=0;e<kr.length;e++)if(n=kr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}kr=null}return t}function X1(t,e){do{var n=be;try{if(qh(),ma.current=ol,il){for(var r=de.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}il=!1}if(Nr=0,Ee=ke=de=null,_o=!1,Xo=0,sp.current=null,n===null||n.return===null){xe=1,Zo=e,be=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=_e,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var y=ng(s);if(y!==null){y.flags&=-257,rg(y,s,a,o,e),y.mode&1&&tg(o,c,e),e=y,l=c;var f=e.updateQueue;if(f===null){var m=new Set;m.add(l),e.updateQueue=m}else f.add(l);break e}else{if(!(e&1)){tg(o,c,e),dp();break e}l=Error(O(426))}}else if(oe&&a.mode&1){var w=ng(s);if(w!==null){!(w.flags&65536)&&(w.flags|=256),rg(w,s,a,o,e),Wh(Li(l,a));break e}}o=l=Li(l,a),xe!==4&&(xe=2),Po===null?Po=[o]:Po.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var g=L1(o,l,e);Ym(o,g);break e;case 1:a=l;var p=o.type,v=o.stateNode;if(!(o.flags&128)&&(typeof p.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Wn===null||!Wn.has(v)))){o.flags|=65536,e&=-e,o.lanes|=e;var k=M1(o,a,e);Ym(o,k);break e}}o=o.return}while(o!==null)}Z1(n)}catch(x){e=x,be===n&&n!==null&&(be=n=n.return);continue}break}while(!0)}function J1(){var t=sl.current;return sl.current=ol,t===null?ol:t}function dp(){(xe===0||xe===3||xe===2)&&(xe=4),Se===null||!(Rr&268435455)&&!(Gl&268435455)||Bn(Se,_e)}function cl(t,e){var n=G;G|=2;var r=J1();(Se!==t||_e!==e)&&(qt=null,_r(t,e));do try{RC();break}catch(i){X1(t,i)}while(!0);if(qh(),G=n,sl.current=r,be!==null)throw Error(O(261));return Se=null,_e=0,xe}function RC(){for(;be!==null;)Q1(be)}function DC(){for(;be!==null&&!lS();)Q1(be)}function Q1(t){var e=tw(t.alternate,t,nt);t.memoizedProps=t.pendingProps,e===null?Z1(t):be=e,sp.current=null}function Z1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=AC(n,e),n!==null){n.flags&=32767,be=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{xe=6,be=null;return}}else if(n=PC(n,e,nt),n!==null){be=n;return}if(e=e.sibling,e!==null){be=e;return}be=e=t}while(e!==null);xe===0&&(xe=5)}function mr(t,e,n){var r=Q,i=wt.transition;try{wt.transition=null,Q=1,jC(t,e,n,r)}finally{wt.transition=i,Q=r}return null}function jC(t,e,n,r){do ki();while(jn!==null);if(G&6)throw Error(O(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(O(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(yS(t,o),t===Se&&(be=Se=null,_e=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Qs||(Qs=!0,nw(za,function(){return ki(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=wt.transition,wt.transition=null;var s=Q;Q=1;var a=G;G|=4,sp.current=null,BC(t,n),q1(n,t),iC(rd),Ka=!!nd,rd=nd=null,t.current=n,LC(n),cS(),G=a,Q=s,wt.transition=o}else t.current=n;if(Qs&&(Qs=!1,jn=t,ll=i),o=t.pendingLanes,o===0&&(Wn=null),hS(n.stateNode),Je(t,ye()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(al)throw al=!1,t=Ed,Ed=null,t;return ll&1&&t.tag!==0&&ki(),o=t.pendingLanes,o&1?t===Sd?Ao++:(Ao=0,Sd=t):Ao=0,ir(),null}function ki(){if(jn!==null){var t=L0(ll),e=wt.transition,n=Q;try{if(wt.transition=null,Q=16>t?16:t,jn===null)var r=!1;else{if(t=jn,jn=null,ll=0,G&6)throw Error(O(331));var i=G;for(G|=4,L=t.current;L!==null;){var o=L,s=o.child;if(L.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(L=c;L!==null;){var u=L;switch(u.tag){case 0:case 11:case 15:Io(8,u,o)}var d=u.child;if(d!==null)d.return=u,L=d;else for(;L!==null;){u=L;var h=u.sibling,y=u.return;if(z1(u),u===c){L=null;break}if(h!==null){h.return=y,L=h;break}L=y}}}var f=o.alternate;if(f!==null){var m=f.child;if(m!==null){f.child=null;do{var w=m.sibling;m.sibling=null,m=w}while(m!==null)}}L=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,L=s;else e:for(;L!==null;){if(o=L,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Io(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,L=g;break e}L=o.return}}var p=t.current;for(L=p;L!==null;){s=L;var v=s.child;if(s.subtreeFlags&2064&&v!==null)v.return=s,L=v;else e:for(s=p;L!==null;){if(a=L,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ql(9,a)}}catch(x){fe(a,a.return,x)}if(a===s){L=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,L=k;break e}L=a.return}}if(G=i,ir(),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(Fl,t)}catch{}r=!0}return r}finally{Q=n,wt.transition=e}}return!1}function gg(t,e,n){e=Li(n,e),e=L1(t,e,1),t=zn(t,e,1),e=Ve(),t!==null&&(fs(t,1,e),Je(t,e))}function fe(t,e,n){if(t.tag===3)gg(t,t,n);else for(;e!==null;){if(e.tag===3){gg(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Wn===null||!Wn.has(r))){t=Li(n,t),t=M1(e,t,1),e=zn(e,t,1),t=Ve(),e!==null&&(fs(e,1,t),Je(e,t));break}}e=e.return}}function FC(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ve(),t.pingedLanes|=t.suspendedLanes&n,Se===t&&(_e&n)===n&&(xe===4||xe===3&&(_e&130023424)===_e&&500>ye()-lp?_r(t,0):ap|=n),Je(t,e)}function ew(t,e){e===0&&(t.mode&1?(e=Vs,Vs<<=1,!(Vs&130023424)&&(Vs=4194304)):e=1);var n=Ve();t=mn(t,e),t!==null&&(fs(t,e,n),Je(t,n))}function $C(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ew(t,n)}function UC(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(O(314))}r!==null&&r.delete(e),ew(t,n)}var tw;tw=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ye.current)Ge=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ge=!1,IC(t,e,n);Ge=!!(t.flags&131072)}else Ge=!1,oe&&e.flags&1048576&&o1(e,Za,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;va(t,e),t=e.pendingProps;var i=Pi(e,De.current);bi(e,n),i=tp(null,e,r,t,i,n);var o=np();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Xe(r)?(o=!0,Ja(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Xh(e),i.updater=Kl,e.stateNode=i,i._reactInternals=e,hd(e,r,t,n),e=md(null,e,r,!0,o,n)):(e.tag=0,oe&&o&&Hh(e),$e(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(va(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=HC(r),t=St(r,t),i){case 0:e=fd(null,e,r,t,n);break e;case 1:e=sg(null,e,r,t,n);break e;case 11:e=ig(null,e,r,t,n);break e;case 14:e=og(null,e,r,St(r.type,t),n);break e}throw Error(O(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:St(r,i),fd(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:St(r,i),sg(t,e,r,i,n);case 3:e:{if(j1(e),t===null)throw Error(O(387));r=e.pendingProps,o=e.memoizedState,i=o.element,d1(t,e),nl(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Li(Error(O(423)),e),e=ag(t,e,r,n,i);break e}else if(r!==i){i=Li(Error(O(424)),e),e=ag(t,e,r,n,i);break e}else for(rt=Hn(e.stateNode.containerInfo.firstChild),ot=e,oe=!0,Tt=null,n=c1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ai(),r===i){e=gn(t,e,n);break e}$e(t,e,r,n)}e=e.child}return e;case 5:return h1(e),t===null&&cd(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,id(r,i)?s=null:o!==null&&id(r,o)&&(e.flags|=32),D1(t,e),$e(t,e,s,n),e.child;case 6:return t===null&&cd(e),null;case 13:return F1(t,e,n);case 4:return Jh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Oi(e,null,r,n):$e(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:St(r,i),ig(t,e,r,i,n);case 7:return $e(t,e,e.pendingProps,n),e.child;case 8:return $e(t,e,e.pendingProps.children,n),e.child;case 12:return $e(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,te(el,r._currentValue),r._currentValue=s,o!==null)if(Ot(o.value,s)){if(o.children===i.children&&!Ye.current){e=gn(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=an(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),ud(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(O(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),ud(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}$e(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,bi(e,n),i=bt(i),r=r(i),e.flags|=1,$e(t,e,r,n),e.child;case 14:return r=e.type,i=St(r,e.pendingProps),i=St(r.type,i),og(t,e,r,i,n);case 15:return N1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:St(r,i),va(t,e),e.tag=1,Xe(r)?(t=!0,Ja(e)):t=!1,bi(e,n),B1(e,r,i),hd(e,r,i,n),md(null,e,r,!0,t,n);case 19:return $1(t,e,n);case 22:return R1(t,e,n)}throw Error(O(156,e.tag))};function nw(t,e){return P0(t,e)}function VC(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yt(t,e,n,r){return new VC(t,e,n,r)}function hp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function HC(t){if(typeof t=="function")return hp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Oh)return 11;if(t===Bh)return 14}return 2}function qn(t,e){var n=t.alternate;return n===null?(n=yt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ba(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")hp(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Zr:return Ir(n.children,i,o,e);case Ah:s=8,i|=8;break;case Ru:return t=yt(12,n,e,i|2),t.elementType=Ru,t.lanes=o,t;case Du:return t=yt(13,n,e,i),t.elementType=Du,t.lanes=o,t;case ju:return t=yt(19,n,e,i),t.elementType=ju,t.lanes=o,t;case h0:return Yl(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case u0:s=10;break e;case d0:s=9;break e;case Oh:s=11;break e;case Bh:s=14;break e;case Pn:s=16,r=null;break e}throw Error(O(130,t==null?t:typeof t,""))}return e=yt(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Ir(t,e,n,r){return t=yt(7,t,r,e),t.lanes=n,t}function Yl(t,e,n,r){return t=yt(22,t,r,e),t.elementType=h0,t.lanes=n,t.stateNode={isHidden:!1},t}function Jc(t,e,n){return t=yt(6,t,null,e),t.lanes=n,t}function Qc(t,e,n){return e=yt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function zC(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bc(0),this.expirationTimes=Bc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bc(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function pp(t,e,n,r,i,o,s,a,l){return t=new zC(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=yt(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xh(o),t}function WC(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function rw(t){if(!t)return Qn;t=t._reactInternals;e:{if(Vr(t)!==t||t.tag!==1)throw Error(O(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Xe(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(O(171))}if(t.tag===1){var n=t.type;if(Xe(n))return r1(t,n,e)}return e}function iw(t,e,n,r,i,o,s,a,l){return t=pp(n,r,!0,t,i,o,s,a,l),t.context=rw(null),n=t.current,r=Ve(),i=Kn(n),o=an(r,i),o.callback=e??null,zn(n,o,i),t.current.lanes=i,fs(t,i,r),Je(t,r),t}function Xl(t,e,n,r){var i=e.current,o=Ve(),s=Kn(i);return n=rw(n),e.context===null?e.context=n:e.pendingContext=n,e=an(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=zn(i,e,s),t!==null&&(It(t,i,s,o),fa(t,i,s)),s}function ul(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function vg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function fp(t,e){vg(t,e),(t=t.alternate)&&vg(t,e)}function KC(){return null}var ow=typeof reportError=="function"?reportError:function(t){console.error(t)};function mp(t){this._internalRoot=t}Jl.prototype.render=mp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(O(409));Xl(t,e,null,null)};Jl.prototype.unmount=mp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Dr(function(){Xl(null,t,null,null)}),e[fn]=null}};function Jl(t){this._internalRoot=t}Jl.prototype.unstable_scheduleHydration=function(t){if(t){var e=R0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<On.length&&e!==0&&e<On[n].priority;n++);On.splice(n,0,t),n===0&&j0(t)}};function gp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ql(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function yg(){}function qC(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=ul(s);o.call(c)}}var s=iw(e,r,t,0,null,!1,!1,"",yg);return t._reactRootContainer=s,t[fn]=s.current,Wo(t.nodeType===8?t.parentNode:t),Dr(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=ul(l);a.call(c)}}var l=pp(t,0,!1,null,null,!1,!1,"",yg);return t._reactRootContainer=l,t[fn]=l.current,Wo(t.nodeType===8?t.parentNode:t),Dr(function(){Xl(e,l,n,r)}),l}function Zl(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=ul(s);a.call(l)}}Xl(e,s,t,i)}else s=qC(n,e,t,i,r);return ul(s)}M0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=fo(e.pendingLanes);n!==0&&(Nh(e,n|1),Je(e,ye()),!(G&6)&&(Mi=ye()+500,ir()))}break;case 13:Dr(function(){var r=mn(t,1);if(r!==null){var i=Ve();It(r,t,1,i)}}),fp(t,1)}};Rh=function(t){if(t.tag===13){var e=mn(t,134217728);if(e!==null){var n=Ve();It(e,t,134217728,n)}fp(t,134217728)}};N0=function(t){if(t.tag===13){var e=Kn(t),n=mn(t,e);if(n!==null){var r=Ve();It(n,t,e,r)}fp(t,e)}};R0=function(){return Q};D0=function(t,e){var n=Q;try{return Q=t,e()}finally{Q=n}};Gu=function(t,e,n){switch(e){case"input":if(Uu(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Hl(r);if(!i)throw Error(O(90));f0(r),Uu(r,i)}}}break;case"textarea":g0(t,n);break;case"select":e=n.value,e!=null&&gi(t,!!n.multiple,e,!1)}};E0=cp;S0=Dr;var GC={usingClientEntryPoint:!1,Events:[gs,ri,Hl,k0,x0,cp]},oo={findFiberByHostInstance:br,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},YC={bundleType:oo.bundleType,version:oo.version,rendererPackageName:oo.rendererPackageName,rendererConfig:oo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=_0(t),t===null?null:t.stateNode},findFiberByHostInstance:oo.findFiberByHostInstance||KC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zs.isDisabled&&Zs.supportsFiber)try{Fl=Zs.inject(YC),jt=Zs}catch{}}ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GC;ct.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gp(e))throw Error(O(200));return WC(t,e,null,n)};ct.createRoot=function(t,e){if(!gp(t))throw Error(O(299));var n=!1,r="",i=ow;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=pp(t,1,!1,null,null,n,!1,r,i),t[fn]=e.current,Wo(t.nodeType===8?t.parentNode:t),new mp(e)};ct.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(O(188)):(t=Object.keys(t).join(","),Error(O(268,t)));return t=_0(e),t=t===null?null:t.stateNode,t};ct.flushSync=function(t){return Dr(t)};ct.hydrate=function(t,e,n){if(!Ql(e))throw Error(O(200));return Zl(null,t,e,!0,n)};ct.hydrateRoot=function(t,e,n){if(!gp(t))throw Error(O(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=ow;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=iw(e,null,t,1,n??null,i,!1,o,s),t[fn]=e.current,Wo(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Jl(e)};ct.render=function(t,e,n){if(!Ql(e))throw Error(O(200));return Zl(null,t,e,!1,n)};ct.unmountComponentAtNode=function(t){if(!Ql(t))throw Error(O(40));return t._reactRootContainer?(Dr(function(){Zl(null,null,t,!1,function(){t._reactRootContainer=null,t[fn]=null})}),!0):!1};ct.unstable_batchedUpdates=cp;ct.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ql(n))throw Error(O(200));if(t==null||t._reactInternals===void 0)throw Error(O(38));return Zl(t,e,n,!1,r)};ct.version="18.3.1-next-f1338f8080-20240426";function sw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sw)}catch(t){console.error(t)}}sw(),s0.exports=ct;var XC=s0.exports,wg=XC;Mu.createRoot=wg.createRoot,Mu.hydrateRoot=wg.hydrateRoot;/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function es(){return es=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},es.apply(this,arguments)}var Fn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Fn||(Fn={}));const bg="popstate";function JC(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return _d("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:dl(i)}return ZC(e,n,null,t)}function we(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function aw(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function QC(){return Math.random().toString(36).substr(2,8)}function kg(t,e){return{usr:t.state,key:t.key,idx:e}}function _d(t,e,n,r){return n===void 0&&(n=null),es({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Hi(e):e,{state:n,key:e&&e.key||r||QC()})}function dl(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Hi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function ZC(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Fn.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(es({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function d(){a=Fn.Pop;let w=u(),g=w==null?null:w-c;c=w,l&&l({action:a,location:m.location,delta:g})}function h(w,g){a=Fn.Push;let p=_d(m.location,w,g);c=u()+1;let v=kg(p,c),k=m.createHref(p);try{s.pushState(v,"",k)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;i.location.assign(k)}o&&l&&l({action:a,location:m.location,delta:1})}function y(w,g){a=Fn.Replace;let p=_d(m.location,w,g);c=u();let v=kg(p,c),k=m.createHref(p);s.replaceState(v,"",k),o&&l&&l({action:a,location:m.location,delta:0})}function f(w){let g=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof w=="string"?w:dl(w);return p=p.replace(/ $/,"%20"),we(g,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,g)}let m={get action(){return a},get location(){return t(i,s)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(bg,d),l=w,()=>{i.removeEventListener(bg,d),l=null}},createHref(w){return e(i,w)},createURL:f,encodeLocation(w){let g=f(w);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:y,go(w){return s.go(w)}};return m}var xg;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(xg||(xg={}));function eT(t,e,n){return n===void 0&&(n="/"),tT(t,e,n,!1)}function tT(t,e,n,r){let i=typeof e=="string"?Hi(e):e,o=vp(i.pathname||"/",n);if(o==null)return null;let s=lw(t);nT(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let c=pT(o);a=dT(s[l],c,r)}return a}function lw(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(we(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Gn([r,l.relativePath]),u=n.concat(l);o.children&&o.children.length>0&&(we(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),lw(o.children,e,u,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:cT(c,o.index),routesMeta:u})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of cw(o.path))i(o,s,l)}),e}function cw(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=cw(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function nT(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:uT(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const rT=/^:[\w-]+$/,iT=3,oT=2,sT=1,aT=10,lT=-2,Eg=t=>t==="*";function cT(t,e){let n=t.split("/"),r=n.length;return n.some(Eg)&&(r+=lT),e&&(r+=oT),n.filter(i=>!Eg(i)).reduce((i,o)=>i+(rT.test(o)?iT:o===""?sT:aT),r)}function uT(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function dT(t,e,n){let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=o==="/"?e:e.slice(o.length)||"/",d=Sg({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=Sg({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(i,d.params),s.push({params:i,pathname:Gn([o,d.pathname]),pathnameBase:vT(Gn([o,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(o=Gn([o,d.pathnameBase]))}return s}function Sg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=hT(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:h,isOptional:y}=u;if(h==="*"){let m=a[d]||"";s=o.slice(0,o.length-m.length).replace(/(.)\/+$/,"$1")}const f=a[d];return y&&!f?c[h]=void 0:c[h]=(f||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:t}}function hT(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),aw(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function pT(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return aw(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function vp(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function fT(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Hi(t):t;return{pathname:n?n.startsWith("/")?n:mT(n,e):e,search:yT(r),hash:wT(i)}}function mT(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Zc(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function gT(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function yp(t,e){let n=gT(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function wp(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Hi(t):(i=es({},t),we(!i.pathname||!i.pathname.includes("?"),Zc("?","pathname","search",i)),we(!i.pathname||!i.pathname.includes("#"),Zc("#","pathname","hash",i)),we(!i.search||!i.search.includes("#"),Zc("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let d=e.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=fT(i,a),c=s&&s!=="/"&&s.endsWith("/"),u=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Gn=t=>t.join("/").replace(/\/\/+/g,"/"),vT=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),yT=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,wT=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function bT(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const uw=["post","put","patch","delete"];new Set(uw);const kT=["get",...uw];new Set(kT);/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ts(){return ts=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ts.apply(this,arguments)}const bp=E.createContext(null),xT=E.createContext(null),or=E.createContext(null),ec=E.createContext(null),zt=E.createContext({outlet:null,matches:[],isDataRoute:!1}),dw=E.createContext(null);function ET(t,e){let{relative:n}=e===void 0?{}:e;zi()||we(!1);let{basename:r,navigator:i}=E.useContext(or),{hash:o,pathname:s,search:a}=pw(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:Gn([r,s])),i.createHref({pathname:l,search:a,hash:o})}function zi(){return E.useContext(ec)!=null}function ys(){return zi()||we(!1),E.useContext(ec).location}function hw(t){E.useContext(or).static||E.useLayoutEffect(t)}function Wt(){let{isDataRoute:t}=E.useContext(zt);return t?jT():ST()}function ST(){zi()||we(!1);let t=E.useContext(bp),{basename:e,future:n,navigator:r}=E.useContext(or),{matches:i}=E.useContext(zt),{pathname:o}=ys(),s=JSON.stringify(yp(i,n.v7_relativeSplatPath)),a=E.useRef(!1);return hw(()=>{a.current=!0}),E.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=wp(c,JSON.parse(s),o,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Gn([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,s,o,t])}const CT=E.createContext(null);function TT(t){let e=E.useContext(zt).outlet;return e&&E.createElement(CT.Provider,{value:t},e)}function tc(){let{matches:t}=E.useContext(zt),e=t[t.length-1];return e?e.params:{}}function pw(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=E.useContext(or),{matches:i}=E.useContext(zt),{pathname:o}=ys(),s=JSON.stringify(yp(i,r.v7_relativeSplatPath));return E.useMemo(()=>wp(t,JSON.parse(s),o,n==="path"),[t,s,o,n])}function _T(t,e){return IT(t,e)}function IT(t,e,n,r){zi()||we(!1);let{navigator:i}=E.useContext(or),{matches:o}=E.useContext(zt),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=ys(),u;if(e){var d;let w=typeof e=="string"?Hi(e):e;l==="/"||(d=w.pathname)!=null&&d.startsWith(l)||we(!1),u=w}else u=c;let h=u.pathname||"/",y=h;if(l!=="/"){let w=l.replace(/^\//,"").split("/");y="/"+h.replace(/^\//,"").split("/").slice(w.length).join("/")}let f=eT(t,{pathname:y}),m=LT(f&&f.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:Gn([l,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:Gn([l,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,n,r);return e&&m?E.createElement(ec.Provider,{value:{location:ts({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Fn.Pop}},m):m}function PT(){let t=DT(),e=bT(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:i},n):null,null)}const AT=E.createElement(PT,null);class OT extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?E.createElement(zt.Provider,{value:this.props.routeContext},E.createElement(dw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function BT(t){let{routeContext:e,match:n,children:r}=t,i=E.useContext(bp);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(zt.Provider,{value:e},r)}function LT(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=s.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||we(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<s.length;u++){let d=s[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:y}=n,f=d.route.loader&&h[d.route.id]===void 0&&(!y||y[d.route.id]===void 0);if(d.route.lazy||f){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,d,h)=>{let y,f=!1,m=null,w=null;n&&(y=a&&d.route.id?a[d.route.id]:void 0,m=d.route.errorElement||AT,l&&(c<0&&h===0?(f=!0,w=null):c===h&&(f=!0,w=d.route.hydrateFallbackElement||null)));let g=e.concat(s.slice(0,h+1)),p=()=>{let v;return y?v=m:f?v=w:d.route.Component?v=E.createElement(d.route.Component,null):d.route.element?v=d.route.element:v=u,E.createElement(BT,{match:d,routeContext:{outlet:u,matches:g,isDataRoute:n!=null},children:v})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?E.createElement(OT,{location:n.location,revalidation:n.revalidation,component:m,error:y,children:p(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):p()},null)}var fw=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(fw||{}),hl=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(hl||{});function MT(t){let e=E.useContext(bp);return e||we(!1),e}function NT(t){let e=E.useContext(xT);return e||we(!1),e}function RT(t){let e=E.useContext(zt);return e||we(!1),e}function mw(t){let e=RT(),n=e.matches[e.matches.length-1];return n.route.id||we(!1),n.route.id}function DT(){var t;let e=E.useContext(dw),n=NT(hl.UseRouteError),r=mw(hl.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function jT(){let{router:t}=MT(fw.UseNavigateStable),e=mw(hl.UseNavigateStable),n=E.useRef(!1);return hw(()=>{n.current=!0}),E.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ts({fromRouteId:e},o)))},[t,e])}function gw(t){let{to:e,replace:n,state:r,relative:i}=t;zi()||we(!1);let{future:o,static:s}=E.useContext(or),{matches:a}=E.useContext(zt),{pathname:l}=ys(),c=Wt(),u=wp(e,yp(a,o.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(u);return E.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:i}),[c,d,i,n,r]),null}function FT(t){return TT(t.context)}function ht(t){we(!1)}function $T(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Fn.Pop,navigator:o,static:s=!1,future:a}=t;zi()&&we(!1);let l=e.replace(/^\/*/,"/"),c=E.useMemo(()=>({basename:l,navigator:o,static:s,future:ts({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=Hi(r));let{pathname:u="/",search:d="",hash:h="",state:y=null,key:f="default"}=r,m=E.useMemo(()=>{let w=vp(u,l);return w==null?null:{location:{pathname:w,search:d,hash:h,state:y,key:f},navigationType:i}},[l,u,d,h,y,f,i]);return m==null?null:E.createElement(or.Provider,{value:c},E.createElement(ec.Provider,{children:n,value:m}))}function UT(t){let{children:e,location:n}=t;return _T(Id(e),n)}new Promise(()=>{});function Id(t,e){e===void 0&&(e=[]);let n=[];return E.Children.forEach(t,(r,i)=>{if(!E.isValidElement(r))return;let o=[...e,i];if(r.type===E.Fragment){n.push.apply(n,Id(r.props.children,o));return}r.type!==ht&&we(!1),!r.props.index||!r.props.children||we(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Id(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pd(){return Pd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pd.apply(this,arguments)}function VT(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function HT(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function zT(t,e){return t.button===0&&(!e||e==="_self")&&!HT(t)}const WT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],KT="6";try{window.__reactRouterVersion=KT}catch{}const qT="startTransition",Cg=FE[qT];function GT(t){let{basename:e,children:n,future:r,window:i}=t,o=E.useRef();o.current==null&&(o.current=JC({window:i,v5Compat:!0}));let s=o.current,[a,l]=E.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},u=E.useCallback(d=>{c&&Cg?Cg(()=>l(d)):l(d)},[l,c]);return E.useLayoutEffect(()=>s.listen(u),[s,u]),E.createElement($T,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}const YT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",XT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qe=E.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:c,preventScrollReset:u,unstable_viewTransition:d}=e,h=VT(e,WT),{basename:y}=E.useContext(or),f,m=!1;if(typeof c=="string"&&XT.test(c)&&(f=c,YT))try{let v=new URL(window.location.href),k=c.startsWith("//")?new URL(v.protocol+c):new URL(c),x=vp(k.pathname,y);k.origin===v.origin&&x!=null?c=x+k.search+k.hash:m=!0}catch{}let w=ET(c,{relative:i}),g=JT(c,{replace:s,state:a,target:l,preventScrollReset:u,relative:i,unstable_viewTransition:d});function p(v){r&&r(v),v.defaultPrevented||g(v)}return E.createElement("a",Pd({},h,{href:f||w,onClick:m||o?r:p,ref:n,target:l}))});var Tg;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Tg||(Tg={}));var _g;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(_g||(_g={}));function JT(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:a}=e===void 0?{}:e,l=Wt(),c=ys(),u=pw(t,{relative:s});return E.useCallback(d=>{if(zT(d,n)){d.preventDefault();let h=r!==void 0?r:dl(c)===dl(u);l(t,{replace:h,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:a})}},[c,l,u,r,i,n,t,o,s,a])}const vw="/assets/favicon.png";function QT(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}function ns(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Ad=t=>Array.isArray(t);function yw(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function rs(t){return typeof t=="string"||Array.isArray(t)}function Ig(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function kp(t,e,n,r){if(typeof e=="function"){const[i,o]=Ig(r);e=e(n!==void 0?n:t.custom,i,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,o]=Ig(r);e=e(n!==void 0?n:t.custom,i,o)}return e}function nc(t,e,n){const r=t.getProps();return kp(r,e,n!==void 0?n:r.custom,t)}const xp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ep=["initial",...xp],ws=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],sr=new Set(ws),ln=t=>t*1e3,cn=t=>t/1e3,ZT={type:"spring",stiffness:500,damping:25,restSpeed:10},e_=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),t_={type:"keyframes",duration:.8},n_={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},r_=(t,{keyframes:e})=>e.length>2?t_:sr.has(t)?t.startsWith("scale")?e_(e[1]):ZT:n_;function i_({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:s,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function Sp(t,e){return t[e]||t.default||t}const o_={skipAnimations:!1,useManualTiming:!1},s_=t=>t!==null;function rc(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(s_),o=e&&n!=="loop"&&e%2===1?0:i.length-1;return!o||r===void 0?i[o]:r}const Re=t=>t;function a_(t){let e=new Set,n=new Set,r=!1,i=!1;const o=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1};function a(c){o.has(c)&&(l.schedule(c),t()),c(s)}const l={schedule:(c,u=!1,d=!1)=>{const y=d&&r?e:n;return u&&o.add(c),y.has(c)||y.add(c),c},cancel:c=>{n.delete(c),o.delete(c)},process:c=>{if(s=c,r){i=!0;return}r=!0,[e,n]=[n,e],n.clear(),e.forEach(a),r=!1,i&&(i=!1,l.process(c))}};return l}const ea=["read","resolveKeyframes","update","preRender","render","postRender"],l_=40;function ww(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,s=ea.reduce((g,p)=>(g[p]=a_(o),g),{}),{read:a,resolveKeyframes:l,update:c,preRender:u,render:d,postRender:h}=s,y=()=>{const g=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(g-i.timestamp,l_),1),i.timestamp=g,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),u.process(i),d.process(i),h.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(y))},f=()=>{n=!0,r=!0,i.isProcessing||t(y)};return{schedule:ea.reduce((g,p)=>{const v=s[p];return g[p]=(k,x=!1,T=!1)=>(n||f(),v.schedule(k,x,T)),g},{}),cancel:g=>{for(let p=0;p<ea.length;p++)s[ea[p]].cancel(g)},state:i,steps:s}}const{schedule:J,cancel:vn,state:Te,steps:eu}=ww(typeof requestAnimationFrame<"u"?requestAnimationFrame:Re,!0),bw=t=>/^0[^.\s]+$/u.test(t);function c_(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||bw(t):!0}let Od=Re;const kw=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),xw=t=>e=>typeof e=="string"&&e.startsWith(t),Ew=xw("--"),u_=xw("var(--"),Cp=t=>u_(t)?d_.test(t.split("/*")[0].trim()):!1,d_=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,h_=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function p_(t){const e=h_.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function Sw(t,e,n=1){const[r,i]=p_(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const s=o.trim();return kw(s)?parseFloat(s):s}return Cp(i)?Sw(i,e,n+1):i}const Zn=(t,e,n)=>n>e?e:n<t?t:n,Wi={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Oo={...Wi,transform:t=>Zn(0,1,t)},ta={...Wi,default:1},Bo=t=>Math.round(t*1e5)/1e5,Tp=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,f_=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,m_=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function bs(t){return typeof t=="string"}function g_(t){return t==null}const ks=t=>({test:e=>bs(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Tn=ks("deg"),$t=ks("%"),R=ks("px"),v_=ks("vh"),y_=ks("vw"),Pg={...$t,parse:t=>$t.parse(t)/100,transform:t=>$t.transform(t*100)},w_=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Ag=t=>t===Wi||t===R,Og=(t,e)=>parseFloat(t.split(", ")[e]),Bg=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return Og(i[1],e);{const o=r.match(/^matrix\((.+)\)$/u);return o?Og(o[1],t):0}},b_=new Set(["x","y","z"]),k_=ws.filter(t=>!b_.has(t));function x_(t){const e=[];return k_.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Ni={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Bg(4,13),y:Bg(5,14)};Ni.translateX=Ni.x;Ni.translateY=Ni.y;const Cw=t=>e=>e.test(t),E_={test:t=>t==="auto",parse:t=>t},Tw=[Wi,R,$t,Tn,y_,v_,E_],Lg=t=>Tw.find(Cw(t)),Pr=new Set;let Bd=!1,Ld=!1;function _w(){if(Ld){const t=Array.from(Pr).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=x_(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([o,s])=>{var a;(a=r.getValue(o))===null||a===void 0||a.set(s)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Ld=!1,Bd=!1,Pr.forEach(t=>t.complete()),Pr.clear()}function Iw(){Pr.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Ld=!0)})}function S_(){Iw(),_w()}class _p{constructor(e,n,r,i,o,s=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=o,this.isAsync=s}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Pr.add(this),Bd||(Bd=!0,J.read(Iw),J.resolveKeyframes(_w))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let o=0;o<e.length;o++)if(e[o]===null)if(o===0){const s=i==null?void 0:i.get(),a=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&s===void 0&&i.set(e[0])}else e[o]=e[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Pr.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Pr.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Ip=(t,e)=>n=>!!(bs(n)&&m_.test(n)&&n.startsWith(t)||e&&!g_(n)&&Object.prototype.hasOwnProperty.call(n,e)),Pw=(t,e,n)=>r=>{if(!bs(r))return r;const[i,o,s,a]=r.match(Tp);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},C_=t=>Zn(0,255,t),tu={...Wi,transform:t=>Math.round(C_(t))},Er={test:Ip("rgb","red"),parse:Pw("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+tu.transform(t)+", "+tu.transform(e)+", "+tu.transform(n)+", "+Bo(Oo.transform(r))+")"};function T_(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Md={test:Ip("#"),parse:T_,transform:Er.transform},ui={test:Ip("hsl","hue"),parse:Pw("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+$t.transform(Bo(e))+", "+$t.transform(Bo(n))+", "+Bo(Oo.transform(r))+")"},Be={test:t=>Er.test(t)||Md.test(t)||ui.test(t),parse:t=>Er.test(t)?Er.parse(t):ui.test(t)?ui.parse(t):Md.parse(t),transform:t=>bs(t)?t:t.hasOwnProperty("red")?Er.transform(t):ui.transform(t)};function __(t){var e,n;return isNaN(t)&&bs(t)&&(((e=t.match(Tp))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(f_))===null||n===void 0?void 0:n.length)||0)>0}const Aw="number",Ow="color",I_="var",P_="var(",Mg="${}",A_=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function is(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const a=e.replace(A_,l=>(Be.test(l)?(r.color.push(o),i.push(Ow),n.push(Be.parse(l))):l.startsWith(P_)?(r.var.push(o),i.push(I_),n.push(l)):(r.number.push(o),i.push(Aw),n.push(parseFloat(l))),++o,Mg)).split(Mg);return{values:n,split:a,indexes:r,types:i}}function Bw(t){return is(t).values}function Lw(t){const{split:e,types:n}=is(t),r=e.length;return i=>{let o="";for(let s=0;s<r;s++)if(o+=e[s],i[s]!==void 0){const a=n[s];a===Aw?o+=Bo(i[s]):a===Ow?o+=Be.transform(i[s]):o+=i[s]}return o}}const O_=t=>typeof t=="number"?0:t;function B_(t){const e=Bw(t);return Lw(t)(e.map(O_))}const er={test:__,parse:Bw,createTransformer:Lw,getAnimatableNone:B_},L_=new Set(["brightness","contrast","saturate","opacity"]);function M_(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Tp)||[];if(!r)return t;const i=n.replace(r,"");let o=L_.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}const N_=/\b([a-z-]*)\(.*?\)/gu,Nd={...er,getAnimatableNone:t=>{const e=t.match(N_);return e?e.map(M_).join(" "):t}},Ng={...Wi,transform:Math.round},Pp={borderWidth:R,borderTopWidth:R,borderRightWidth:R,borderBottomWidth:R,borderLeftWidth:R,borderRadius:R,radius:R,borderTopLeftRadius:R,borderTopRightRadius:R,borderBottomRightRadius:R,borderBottomLeftRadius:R,width:R,maxWidth:R,height:R,maxHeight:R,size:R,top:R,right:R,bottom:R,left:R,padding:R,paddingTop:R,paddingRight:R,paddingBottom:R,paddingLeft:R,margin:R,marginTop:R,marginRight:R,marginBottom:R,marginLeft:R,rotate:Tn,rotateX:Tn,rotateY:Tn,rotateZ:Tn,scale:ta,scaleX:ta,scaleY:ta,scaleZ:ta,skew:Tn,skewX:Tn,skewY:Tn,distance:R,translateX:R,translateY:R,translateZ:R,x:R,y:R,z:R,perspective:R,transformPerspective:R,opacity:Oo,originX:Pg,originY:Pg,originZ:R,zIndex:Ng,backgroundPositionX:R,backgroundPositionY:R,fillOpacity:Oo,strokeOpacity:Oo,numOctaves:Ng},R_={...Pp,color:Be,backgroundColor:Be,outlineColor:Be,fill:Be,stroke:Be,borderColor:Be,borderTopColor:Be,borderRightColor:Be,borderBottomColor:Be,borderLeftColor:Be,filter:Nd,WebkitFilter:Nd},Ap=t=>R_[t];function Mw(t,e){let n=Ap(t);return n!==Nd&&(n=er),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const D_=new Set(["auto","none","0"]);function j_(t,e,n){let r=0,i;for(;r<t.length&&!i;){const o=t[r];typeof o=="string"&&!D_.has(o)&&is(o).values.length&&(i=t[r]),r++}if(i&&n)for(const o of e)t[o]=Mw(n,i)}class Nw extends _p{constructor(e,n,r,i,o){super(e,n,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),Cp(c))){const u=Sw(c,n.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!w_.has(r)||e.length!==2)return;const[i,o]=e,s=Lg(i),a=Lg(o);if(s!==a)if(Ag(s)&&Ag(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)c_(e[i])&&r.push(i);r.length&&j_(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ni[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const o=n.getValue(r);o&&o.jump(this.measuredOrigin,!1);const s=i.length-1,a=i[s];i[s]=Ni[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function Rw(t){let e;return()=>(e===void 0&&(e=t()),e)}let ka;function F_(){ka=void 0}const un={now:()=>(ka===void 0&&un.set(Te.isProcessing||o_.useManualTiming?Te.timestamp:performance.now()),ka),set:t=>{ka=t,queueMicrotask(F_)}},Rg=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(er.test(t)||t==="0")&&!t.startsWith("url("));function $_(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function U_(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],s=Rg(i,e),a=Rg(o,e);return!s||!a?!1:$_(t)||n==="spring"&&r}const V_=40;class Dw{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:s="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=un.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:s,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>V_?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&S_(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=un.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:o,delay:s,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!U_(e,r,i,o))if(s)this.options.duration=0;else{l==null||l(rc(e,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,n);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function jw(t,e){return e?t*(1e3/e):0}const H_=5;function Fw(t,e,n){const r=Math.max(e-H_,0);return jw(n-t(r),e-r)}const nu=.001,z_=.01,W_=10,K_=.05,q_=1;function G_({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,o,s=1-e;s=Zn(K_,q_,s),t=Zn(z_,W_,cn(t)),s<1?(i=c=>{const u=c*s,d=u*t,h=u-n,y=Rd(c,s),f=Math.exp(-d);return nu-h/y*f},o=c=>{const d=c*s*t,h=d*n+n,y=Math.pow(s,2)*Math.pow(c,2)*t,f=Math.exp(-d),m=Rd(Math.pow(c,2),s);return(-i(c)+nu>0?-1:1)*((h-y)*f)/m}):(i=c=>{const u=Math.exp(-c*t),d=(c-n)*t+1;return-nu+u*d},o=c=>{const u=Math.exp(-c*t),d=(n-c)*(t*t);return u*d});const a=5/t,l=X_(i,o,a);if(t=ln(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:s*2*Math.sqrt(r*c),duration:t}}}const Y_=12;function X_(t,e,n){let r=n;for(let i=1;i<Y_;i++)r=r-t(r)/e(r);return r}function Rd(t,e){return t*Math.sqrt(1-e*e)}const J_=["duration","bounce"],Q_=["stiffness","damping","mass"];function Dg(t,e){return e.some(n=>t[n]!==void 0)}function Z_(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!Dg(t,Q_)&&Dg(t,J_)){const n=G_(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function $w({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],o=t[t.length-1],s={done:!1,value:i},{stiffness:a,damping:l,mass:c,duration:u,velocity:d,isResolvedFromDuration:h}=Z_({...r,velocity:-cn(r.velocity||0)}),y=d||0,f=l/(2*Math.sqrt(a*c)),m=o-i,w=cn(Math.sqrt(a/c)),g=Math.abs(m)<5;n||(n=g?.01:2),e||(e=g?.005:.5);let p;if(f<1){const v=Rd(w,f);p=k=>{const x=Math.exp(-f*w*k);return o-x*((y+f*w*m)/v*Math.sin(v*k)+m*Math.cos(v*k))}}else if(f===1)p=v=>o-Math.exp(-w*v)*(m+(y+w*m)*v);else{const v=w*Math.sqrt(f*f-1);p=k=>{const x=Math.exp(-f*w*k),T=Math.min(v*k,300);return o-x*((y+f*w*m)*Math.sinh(T)+v*m*Math.cosh(T))/v}}return{calculatedDuration:h&&u||null,next:v=>{const k=p(v);if(h)s.done=v>=u;else{let x=0;f<1&&(x=v===0?ln(y):Fw(p,v,k));const T=Math.abs(x)<=n,P=Math.abs(o-k)<=e;s.done=T&&P}return s.value=s.done?o:k,s}}}function jg({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:s,min:a,max:l,restDelta:c=.5,restSpeed:u}){const d=t[0],h={done:!1,value:d},y=S=>a!==void 0&&S<a||l!==void 0&&S>l,f=S=>a===void 0?l:l===void 0||Math.abs(a-S)<Math.abs(l-S)?a:l;let m=n*e;const w=d+m,g=s===void 0?w:s(w);g!==w&&(m=g-d);const p=S=>-m*Math.exp(-S/r),v=S=>g+p(S),k=S=>{const I=p(S),A=v(S);h.done=Math.abs(I)<=c,h.value=h.done?g:A};let x,T;const P=S=>{y(h.value)&&(x=S,T=$w({keyframes:[h.value,f(h.value)],velocity:Fw(v,S,h.value),damping:i,stiffness:o,restDelta:c,restSpeed:u}))};return P(0),{calculatedDuration:null,next:S=>{let I=!1;return!T&&x===void 0&&(I=!0,k(S),P(S)),x!==void 0&&S>=x?T.next(S-x):(!I&&k(S),h)}}}const Uw=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,e2=1e-7,t2=12;function n2(t,e,n,r,i){let o,s,a=0;do s=e+(n-e)/2,o=Uw(s,r,i)-t,o>0?n=s:e=s;while(Math.abs(o)>e2&&++a<t2);return s}function xs(t,e,n,r){if(t===e&&n===r)return Re;const i=o=>n2(o,0,1,t,n);return o=>o===0||o===1?o:Uw(i(o),e,r)}const r2=xs(.42,0,1,1),i2=xs(0,0,.58,1),Vw=xs(.42,0,.58,1),o2=t=>Array.isArray(t)&&typeof t[0]!="number",Hw=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,zw=t=>e=>1-t(1-e),Op=t=>1-Math.sin(Math.acos(t)),Ww=zw(Op),s2=Hw(Op),Kw=xs(.33,1.53,.69,.99),Bp=zw(Kw),a2=Hw(Bp),l2=t=>(t*=2)<1?.5*Bp(t):.5*(2-Math.pow(2,-10*(t-1))),Fg={linear:Re,easeIn:r2,easeInOut:Vw,easeOut:i2,circIn:Op,circInOut:s2,circOut:Ww,backIn:Bp,backInOut:a2,backOut:Kw,anticipate:l2},$g=t=>{if(Array.isArray(t)){Od(t.length===4);const[e,n,r,i]=t;return xs(e,n,r,i)}else if(typeof t=="string")return Od(Fg[t]!==void 0),Fg[t];return t},c2=(t,e)=>n=>e(t(n)),dn=(...t)=>t.reduce(c2),os=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},ce=(t,e,n)=>t+(e-t)*n;function ru(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function u2({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,o=0,s=0;if(!e)i=o=s=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=ru(l,a,t+1/3),o=ru(l,a,t),s=ru(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(s*255),alpha:r}}function pl(t,e){return n=>n>0?e:t}const iu=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},d2=[Md,Er,ui],h2=t=>d2.find(e=>e.test(t));function Ug(t){const e=h2(t);if(!e)return!1;let n=e.parse(t);return e===ui&&(n=u2(n)),n}const Vg=(t,e)=>{const n=Ug(t),r=Ug(e);if(!n||!r)return pl(t,e);const i={...n};return o=>(i.red=iu(n.red,r.red,o),i.green=iu(n.green,r.green,o),i.blue=iu(n.blue,r.blue,o),i.alpha=ce(n.alpha,r.alpha,o),Er.transform(i))},Dd=new Set(["none","hidden"]);function p2(t,e){return Dd.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function f2(t,e){return n=>ce(t,e,n)}function Lp(t){return typeof t=="number"?f2:typeof t=="string"?Cp(t)?pl:Be.test(t)?Vg:v2:Array.isArray(t)?qw:typeof t=="object"?Be.test(t)?Vg:m2:pl}function qw(t,e){const n=[...t],r=n.length,i=t.map((o,s)=>Lp(o)(o,e[s]));return o=>{for(let s=0;s<r;s++)n[s]=i[s](o);return n}}function m2(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=Lp(t[i])(t[i],e[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}}function g2(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const s=e.types[o],a=t.indexes[s][i[s]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[o]=l,i[s]++}return r}const v2=(t,e)=>{const n=er.createTransformer(e),r=is(t),i=is(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Dd.has(t)&&!i.values.length||Dd.has(e)&&!r.values.length?p2(t,e):dn(qw(g2(r,i),i.values),n):pl(t,e)};function Gw(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ce(t,e,n):Lp(t)(t,e)}function y2(t,e,n){const r=[],i=n||Gw,o=t.length-1;for(let s=0;s<o;s++){let a=i(t[s],t[s+1]);if(e){const l=Array.isArray(e)?e[s]||Re:e;a=dn(l,a)}r.push(a)}return r}function w2(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const o=t.length;if(Od(o===e.length),o===1)return()=>e[0];if(o===2&&t[0]===t[1])return()=>e[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const s=y2(e,r,i),a=s.length,l=c=>{let u=0;if(a>1)for(;u<t.length-2&&!(c<t[u+1]);u++);const d=os(t[u],t[u+1],c);return s[u](d)};return n?c=>l(Zn(t[0],t[o-1],c)):l}function b2(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=os(0,e,r);t.push(ce(n,1,i))}}function k2(t){const e=[0];return b2(e,t.length-1),e}function x2(t,e){return t.map(n=>n*e)}function E2(t,e){return t.map(()=>e||Vw).splice(0,t.length-1)}function fl({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=o2(r)?r.map($g):$g(r),o={done:!1,value:e[0]},s=x2(n&&n.length===e.length?n:k2(e),t),a=w2(s,e,{ease:Array.isArray(i)?i:E2(e,i)});return{calculatedDuration:t,next:l=>(o.value=a(l),o.done=l>=t,o)}}const Hg=2e4;function S2(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Hg;)e+=n,r=t.next(e);return e>=Hg?1/0:e}const C2=t=>{const e=({timestamp:n})=>t(n);return{start:()=>J.update(e,!0),stop:()=>vn(e),now:()=>Te.isProcessing?Te.timestamp:un.now()}},T2={decay:jg,inertia:jg,tween:fl,keyframes:fl,spring:$w},_2=t=>t/100;class Mp extends Dw{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:o}=this.options,s=(i==null?void 0:i.KeyframeResolver)||_p,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new s(o,a,n,r,i),this.resolver.scheduleResolve()}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:s=0}=this.options,a=T2[n]||fl;let l,c;a!==fl&&typeof e[0]!="number"&&(l=dn(_2,Gw(e[0],e[1])),e=[0,100]);const u=a({...this.options,keyframes:e});o==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-s})),u.calculatedDuration===null&&(u.calculatedDuration=S2(u));const{calculatedDuration:d}=u,h=d+i,y=h*(r+1)-i;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:h,totalDuration:y}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:S}=this.options;return{done:!0,value:S[S.length-1]}}const{finalKeyframe:i,generator:o,mirroredGenerator:s,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:u,resolvedDuration:d}=r;if(this.startTime===null)return o.next(0);const{delay:h,repeat:y,repeatType:f,repeatDelay:m,onUpdate:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const g=this.currentTime-h*(this.speed>=0?1:-1),p=this.speed>=0?g<0:g>u;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let v=this.currentTime,k=o;if(y){const S=Math.min(this.currentTime,u)/d;let I=Math.floor(S),A=S%1;!A&&S>=1&&(A=1),A===1&&I--,I=Math.min(I,y+1),!!(I%2)&&(f==="reverse"?(A=1-A,m&&(A-=m/d)):f==="mirror"&&(k=s)),v=Zn(0,1,A)*d}const x=p?{done:!1,value:l[0]}:k.next(v);a&&(x.value=a(x.value));let{done:T}=x;!p&&c!==null&&(T=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return P&&i!==void 0&&(x.value=rc(l,this.options,i)),w&&w(x.value),P&&this.finish(),x}get duration(){const{resolved:e}=this;return e?cn(e.calculatedDuration):0}get time(){return cn(this.currentTime)}set time(e){e=ln(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=cn(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=C2,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const Yw=new Set(["opacity","clipPath","filter","transform"]),Xw=t=>Array.isArray(t)&&typeof t[0]=="number";function Jw(t){return!!(!t||typeof t=="string"&&t in Np||Xw(t)||Array.isArray(t)&&t.every(Jw))}const go=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Np={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:go([0,.65,.55,1]),circOut:go([.55,0,1,.45]),backIn:go([.31,.01,.66,-.59]),backOut:go([.33,1.53,.69,.99])};function I2(t){return Qw(t)||Np.easeOut}function Qw(t){if(t)return Xw(t)?go(t):Array.isArray(t)?t.map(I2):Np[t]}function P2(t,e,n,{delay:r=0,duration:i=300,repeat:o=0,repeatType:s="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=Qw(a);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:o+1,direction:s==="reverse"?"alternate":"normal"})}const A2=Rw(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),ml=10,O2=2e4;function B2(t){return t.type==="spring"||!Jw(t.ease)}function L2(t,e){const n=new Mp({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let o=0;for(;!r.done&&o<O2;)r=n.sample(o),i.push(r.value),o+=ml;return{times:void 0,keyframes:i,duration:o-ml,ease:"linear"}}class zg extends Dw{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:o}=this.options;this.resolver=new Nw(o,(s,a)=>this.onKeyframesResolved(s,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:i=300,times:o,ease:s,type:a,motionValue:l,name:c,startTime:u}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(B2(this.options)){const{onComplete:h,onUpdate:y,motionValue:f,element:m,...w}=this.options,g=L2(e,w);e=g.keyframes,e.length===1&&(e[1]=e[0]),i=g.duration,o=g.times,s=g.ease,a="keyframes"}const d=P2(l.owner.current,c,e,{...this.options,duration:i,times:o,ease:s});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(d.timeline=this.pendingTimeline,this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;l.set(rc(e,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:i,times:o,type:a,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return cn(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return cn(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=ln(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Re;const{animation:r}=n;r.timeline=e,r.onfinish=null}return Re}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:o,ease:s,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:u,onComplete:d,element:h,...y}=this.options,f=new Mp({...y,keyframes:r,duration:i,type:o,ease:s,times:a,isGenerator:!0}),m=ln(this.time);c.setWithVelocity(f.sample(m-ml).value,f.sample(m).value,ml)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:o,damping:s,type:a}=e;return A2()&&r&&Yw.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!i&&o!=="mirror"&&s!==0&&a!=="inertia"}}function M2(t,e){let n;const r=()=>{const{currentTime:i}=e,s=(i===null?0:i.value)/100;n!==s&&t(s),n=s};return J.update(r,!0),()=>vn(r)}const N2=Rw(()=>window.ScrollTimeline!==void 0);class R2{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e){const n=this.animations.map(r=>{if(N2()&&r.attachTimeline)r.attachTimeline(e);else return r.pause(),M2(i=>{r.time=r.duration*i},e)});return()=>{n.forEach((r,i)=>{r&&r(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const Rp=(t,e,n,r={},i,o,s)=>a=>{const l=Sp(r,t)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-ln(c);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-u,onUpdate:y=>{e.set(y),l.onUpdate&&l.onUpdate(y)},onComplete:()=>{a(),l.onComplete&&l.onComplete(),s&&s()},onStop:s,name:t,motionValue:e,element:o?void 0:i};i_(l)||(d={...d,...r_(t,d)}),d.duration&&(d.duration=ln(d.duration)),d.repeatDelay&&(d.repeatDelay=ln(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!o&&e.get()!==void 0){const y=rc(d.keyframes,l);if(y!==void 0)return J.update(()=>{d.onUpdate(y),d.onComplete()}),new R2([])}return!o&&zg.supports(d)?new zg(d):new Mp(d)},D2=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),j2=t=>Ad(t)?t[t.length-1]||0:t;function ic(t,e){t.indexOf(e)===-1&&t.push(e)}function oc(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Dp{constructor(){this.subscriptions=[]}add(e){return ic(this.subscriptions,e),()=>oc(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let o=0;o<i;o++){const s=this.subscriptions[o];s&&s(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Wg=30,F2=t=>!isNaN(parseFloat(t));class Zw{constructor(e,n={}){this.version="11.5.4",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const o=un.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=un.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=F2(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Dp);const r=this.events[e].add(n);return e==="change"?()=>{r(),J.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=un.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Wg)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Wg);return jw(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ss(t,e){return new Zw(t,e)}function $2(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ss(n))}function U2(t,e){const n=nc(t,e);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const s in o){const a=j2(o[s]);$2(t,s,a)}}const sc=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),V2="framerAppearId",eb="data-"+sc(V2);function tb(t){return t.props[eb]}function nb(t){if(sr.has(t))return"transform";if(Yw.has(t))return sc(t)}class H2 extends Zw{constructor(){super(...arguments),this.output=[],this.counts=new Map}add(e){const n=nb(e);if(!n)return;const r=this.counts.get(n)||0;this.counts.set(n,r+1),r===0&&(this.output.push(n),this.update());let i=!1;return()=>{if(i)return;i=!0;const o=this.counts.get(n)-1;this.counts.set(n,o),o===0&&(oc(this.output,n),this.update())}}update(){this.set(this.output.length?this.output.join(", "):"auto")}}const Me=t=>!!(t&&t.getVelocity);function z2(t){return!!(Me(t)&&t.add)}function jd(t,e){var n;if(!t.applyWillChange)return;let r=t.getValue("willChange");if(!r&&!(!((n=t.props.style)===null||n===void 0)&&n.willChange)&&(r=new H2("auto"),t.addValue("willChange",r)),z2(r))return r.add(e)}function W2({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function rb(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var o;let{transition:s=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(s=r);const c=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const d in l){const h=t.getValue(d,(o=t.latestValues[d])!==null&&o!==void 0?o:null),y=l[d];if(y===void 0||u&&W2(u,d))continue;const f={delay:n,...Sp(s||{},d)};let m=!1;if(window.MotionHandoffAnimation){const g=tb(t);if(g){const p=window.MotionHandoffAnimation(g,d,J);p!==null&&(f.startTime=p,m=!0)}}h.start(Rp(d,h,y,t.shouldReduceMotion&&sr.has(d)?{type:!1}:f,t,m,jd(t,d)));const w=h.animation;w&&c.push(w)}return a&&Promise.all(c).then(()=>{J.update(()=>{a&&U2(t,a)})}),c}function Fd(t,e,n={}){var r;const i=nc(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(o=n.transitionOverride);const s=i?()=>Promise.all(rb(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=o;return K2(t,e,u+c,d,h,n)}:()=>Promise.resolve(),{when:l}=o;if(l){const[c,u]=l==="beforeChildren"?[s,a]:[a,s];return c().then(()=>u())}else return Promise.all([s(),a(n.delay)])}function K2(t,e,n=0,r=0,i=1,o){const s=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(q2).forEach((c,u)=>{c.notify("AnimationStart",e),s.push(Fd(c,e,{...o,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(s)}function q2(t,e){return t.sortNodePosition(e)}function G2(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(o=>Fd(t,o,n));r=Promise.all(i)}else if(typeof e=="string")r=Fd(t,e,n);else{const i=typeof e=="function"?nc(t,e,n.custom):e;r=Promise.all(rb(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const Y2=[...xp].reverse(),X2=xp.length;function J2(t){return e=>Promise.all(e.map(({animation:n,options:r})=>G2(t,n,r)))}function Q2(t){let e=J2(t),n=Kg(),r=!0;const i=l=>(c,u)=>{var d;const h=nc(t,u,l==="exit"?(d=t.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(h){const{transition:y,transitionEnd:f,...m}=h;c={...c,...m,...f}}return c};function o(l){e=l(t)}function s(l){const c=t.getProps(),u=t.getVariantContext(!0)||{},d=[],h=new Set;let y={},f=1/0;for(let w=0;w<X2;w++){const g=Y2[w],p=n[g],v=c[g]!==void 0?c[g]:u[g],k=rs(v),x=g===l?p.isActive:null;x===!1&&(f=w);let T=v===u[g]&&v!==c[g]&&k;if(T&&r&&t.manuallyAnimateOnMount&&(T=!1),p.protectedKeys={...y},!p.isActive&&x===null||!v&&!p.prevProp||ns(v)||typeof v=="boolean")continue;let S=Z2(p.prevProp,v)||g===l&&p.isActive&&!T&&k||w>f&&k,I=!1;const A=Array.isArray(v)?v:[v];let M=A.reduce(i(g),{});x===!1&&(M={});const{prevResolvedValues:K={}}=p,z={...K,...M},se=N=>{S=!0,h.has(N)&&(I=!0,h.delete(N)),p.needsAnimating[N]=!0;const Z=t.getValue(N);Z&&(Z.liveStyle=!1)};for(const N in z){const Z=M[N],et=K[N];if(y.hasOwnProperty(N))continue;let B=!1;Ad(Z)&&Ad(et)?B=!yw(Z,et):B=Z!==et,B?Z!=null?se(N):h.add(N):Z!==void 0&&h.has(N)?se(N):p.protectedKeys[N]=!0}p.prevProp=v,p.prevResolvedValues=M,p.isActive&&(y={...y,...M}),r&&t.blockInitialAnimation&&(S=!1),S&&(!T||I)&&d.push(...A.map(N=>({animation:N,options:{type:g}})))}if(h.size){const w={};h.forEach(g=>{const p=t.getBaseTarget(g),v=t.getValue(g);v&&(v.liveStyle=!0),w[g]=p??null}),d.push({animation:w})}let m=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(m=!1),r=!1,m?e(d):Promise.resolve()}function a(l,c){var u;if(n[l].isActive===c)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(h=>{var y;return(y=h.animationState)===null||y===void 0?void 0:y.setActive(l,c)}),n[l].isActive=c;const d=s(l);for(const h in n)n[h].protectedKeys={};return d}return{animateChanges:s,setActive:a,setAnimateFunction:o,getState:()=>n,reset:()=>{n=Kg(),r=!0}}}function Z2(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!yw(e,t):!1}function pr(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Kg(){return{animate:pr(!0),whileInView:pr(),whileHover:pr(),whileTap:pr(),whileDrag:pr(),whileFocus:pr(),exit:pr()}}class ar{constructor(e){this.isMounted=!1,this.node=e}update(){}}class eI extends ar{constructor(e){super(e),e.animationState||(e.animationState=Q2(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ns(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let tI=0;class nI extends ar{constructor(){super(...arguments),this.id=tI++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const rI={animation:{Feature:eI},exit:{Feature:nI}},ib=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function ac(t,e="page"){return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}const iI=t=>e=>ib(e)&&t(e,ac(e));function en(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function hn(t,e,n,r){return en(t,e,iI(n),r)}const qg=(t,e)=>Math.abs(t-e);function oI(t,e){const n=qg(t.x,e.x),r=qg(t.y,e.y);return Math.sqrt(n**2+r**2)}class ob{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=su(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,y=oI(d.offset,{x:0,y:0})>=3;if(!h&&!y)return;const{point:f}=d,{timestamp:m}=Te;this.history.push({...f,timestamp:m});const{onStart:w,onMove:g}=this.handlers;h||(w&&w(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,d)},this.handlePointerMove=(d,h)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=ou(h,this.transformPagePoint),J.update(this.updatePoint,!0)},this.handlePointerUp=(d,h)=>{this.end();const{onEnd:y,onSessionEnd:f,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=su(d.type==="pointercancel"?this.lastMoveEventInfo:ou(h,this.transformPagePoint),this.history);this.startEvent&&y&&y(d,w),f&&f(d,w)},!ib(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=ac(e),a=ou(s,this.transformPagePoint),{point:l}=a,{timestamp:c}=Te;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,su(a,this.history)),this.removeListeners=dn(hn(this.contextWindow,"pointermove",this.handlePointerMove),hn(this.contextWindow,"pointerup",this.handlePointerUp),hn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),vn(this.updatePoint)}}function ou(t,e){return e?{point:e(t.point)}:t}function Gg(t,e){return{x:t.x-e.x,y:t.y-e.y}}function su({point:t},e){return{point:t,delta:Gg(t,sb(e)),offset:Gg(t,sI(e)),velocity:aI(e,.1)}}function sI(t){return t[0]}function sb(t){return t[t.length-1]}function aI(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=sb(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>ln(e)));)n--;if(!r)return{x:0,y:0};const o=cn(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function ab(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const Yg=ab("dragHorizontal"),Xg=ab("dragVertical");function lb(t){let e=!1;if(t==="y")e=Xg();else if(t==="x")e=Yg();else{const n=Yg(),r=Xg();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function cb(){const t=lb(!0);return t?(t(),!1):!0}function di(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const ub=1e-4,lI=1-ub,cI=1+ub,db=.01,uI=0-db,dI=0+db;function lt(t){return t.max-t.min}function hI(t,e,n){return Math.abs(t-e)<=n}function Jg(t,e,n,r=.5){t.origin=r,t.originPoint=ce(e.min,e.max,t.origin),t.scale=lt(n)/lt(e),t.translate=ce(n.min,n.max,t.origin)-t.originPoint,(t.scale>=lI&&t.scale<=cI||isNaN(t.scale))&&(t.scale=1),(t.translate>=uI&&t.translate<=dI||isNaN(t.translate))&&(t.translate=0)}function Lo(t,e,n,r){Jg(t.x,e.x,n.x,r?r.originX:void 0),Jg(t.y,e.y,n.y,r?r.originY:void 0)}function Qg(t,e,n){t.min=n.min+e.min,t.max=t.min+lt(e)}function pI(t,e,n){Qg(t.x,e.x,n.x),Qg(t.y,e.y,n.y)}function Zg(t,e,n){t.min=e.min-n.min,t.max=t.min+lt(e)}function Mo(t,e,n){Zg(t.x,e.x,n.x),Zg(t.y,e.y,n.y)}function fI(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ce(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ce(n,t,r.max):Math.min(t,n)),t}function ev(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function mI(t,{top:e,left:n,bottom:r,right:i}){return{x:ev(t.x,n,i),y:ev(t.y,e,r)}}function tv(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function gI(t,e){return{x:tv(t.x,e.x),y:tv(t.y,e.y)}}function vI(t,e){let n=.5;const r=lt(t),i=lt(e);return i>r?n=os(e.min,e.max-r,t.min):r>i&&(n=os(t.min,t.max-i,e.min)),Zn(0,1,n)}function yI(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const $d=.35;function wI(t=$d){return t===!1?t=0:t===!0&&(t=$d),{x:nv(t,"left","right"),y:nv(t,"top","bottom")}}function nv(t,e,n){return{min:rv(t,e),max:rv(t,n)}}function rv(t,e){return typeof t=="number"?t:t[e]||0}const iv=()=>({translate:0,scale:1,origin:0,originPoint:0}),hi=()=>({x:iv(),y:iv()}),ov=()=>({min:0,max:0}),ge=()=>({x:ov(),y:ov()});function pt(t){return[t("x"),t("y")]}function hb({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function bI({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function kI(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function au(t){return t===void 0||t===1}function Ud({scale:t,scaleX:e,scaleY:n}){return!au(t)||!au(e)||!au(n)}function gr(t){return Ud(t)||pb(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function pb(t){return sv(t.x)||sv(t.y)}function sv(t){return t&&t!=="0%"}function gl(t,e,n){const r=t-n,i=e*r;return n+i}function av(t,e,n,r,i){return i!==void 0&&(t=gl(t,i,r)),gl(t,n,r)+e}function Vd(t,e=0,n=1,r,i){t.min=av(t.min,e,n,r,i),t.max=av(t.max,e,n,r,i)}function fb(t,{x:e,y:n}){Vd(t.x,e.translate,e.scale,e.originPoint),Vd(t.y,n.translate,n.scale,n.originPoint)}const lv=.999999999999,cv=1.0000000000001;function xI(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let o,s;for(let a=0;a<i;a++){o=n[a],s=o.projectionDelta;const{visualElement:l}=o.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&fi(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,fb(t,s)),r&&gr(o.latestValues)&&fi(t,o.latestValues))}e.x<cv&&e.x>lv&&(e.x=1),e.y<cv&&e.y>lv&&(e.y=1)}function pi(t,e){t.min=t.min+e,t.max=t.max+e}function uv(t,e,n,r,i=.5){const o=ce(t.min,t.max,i);Vd(t,e,n,o,r)}function fi(t,e){uv(t.x,e.x,e.scaleX,e.scale,e.originX),uv(t.y,e.y,e.scaleY,e.scale,e.originY)}function mb(t,e){return hb(kI(t.getBoundingClientRect(),e))}function EI(t,e,n){const r=mb(t,n),{scroll:i}=e;return i&&(pi(r.x,i.offset.x),pi(r.y,i.offset.y)),r}const gb=({current:t})=>t?t.ownerDocument.defaultView:null,SI=new WeakMap;class CI{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ge(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ac(u,"page").point)},o=(u,d)=>{var h;const{drag:y,dragPropagation:f,onDragStart:m}=this.getProps();if(y&&!f&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=lb(y),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),pt(g=>{let p=this.getAxisMotionValue(g).get()||0;if($t.test(p)){const{projection:v}=this.visualElement;if(v&&v.layout){const k=v.layout.layoutBox[g];k&&(p=lt(k)*(parseFloat(p)/100))}}this.originPoint[g]=p}),m&&J.postRender(()=>m(u,d)),(h=this.removeWillChange)===null||h===void 0||h.call(this),this.removeWillChange=jd(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},s=(u,d)=>{const{dragPropagation:h,dragDirectionLock:y,onDirectionLock:f,onDrag:m}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:w}=d;if(y&&this.currentDirection===null){this.currentDirection=TI(w),this.currentDirection!==null&&f&&f(this.currentDirection);return}this.updateAxis("x",d.point,w),this.updateAxis("y",d.point,w),this.visualElement.render(),m&&m(u,d)},a=(u,d)=>this.stop(u,d),l=()=>pt(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new ob(e,{onSessionStart:i,onStart:o,onMove:s,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:gb(this.visualElement)})}stop(e,n){var r;(r=this.removeWillChange)===null||r===void 0||r.call(this);const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:s}=this.getProps();s&&J.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!na(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=fI(s,this.constraints[e],this.elastic[e])),o.set(s)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;n&&di(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=mI(i.layoutBox,n):this.constraints=!1,this.elastic=wI(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&pt(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=yI(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!di(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=EI(r,i.root,this.visualElement.getTransformPagePoint());let s=gI(i.layout.layoutBox,o);if(n){const a=n(bI(s));this.hasMutatedConstraints=!!a,a&&(s=hb(a))}return s}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=pt(u=>{if(!na(u,n,this.currentDirection))return;let d=l&&l[u]||{};s&&(d={min:0,max:0});const h=i?200:1e6,y=i?40:1e7,f={type:"inertia",velocity:r?e[u]:0,bounceStiffness:h,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...o,...d};return this.startAxisValueAnimation(u,f)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(Rp(e,r,0,n,this.visualElement,!1,jd(this.visualElement,e)))}stopAnimation(){pt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){pt(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){pt(n=>{const{drag:r}=this.getProps();if(!na(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:a}=i.layout.layoutBox[n];o.set(e[n]-ce(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!di(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};pt(s=>{const a=this.getAxisMotionValue(s);if(a&&this.constraints!==!1){const l=a.get();i[s]=vI({min:l,max:l},this.constraints[s])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),pt(s=>{if(!na(s,e,null))return;const a=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];a.set(ce(l,c,i[s]))})}addListeners(){if(!this.visualElement.current)return;SI.set(this.visualElement,this);const e=this.visualElement.current,n=hn(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();di(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),J.read(r);const s=en(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(pt(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{s(),n(),o(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:s=$d,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:s,dragMomentum:a}}}function na(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function TI(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class _I extends ar{constructor(e){super(e),this.removeGroupControls=Re,this.removeListeners=Re,this.controls=new CI(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Re}unmount(){this.removeGroupControls(),this.removeListeners()}}const dv=t=>(e,n)=>{t&&J.postRender(()=>t(e,n))};class II extends ar{constructor(){super(...arguments),this.removePointerDownListener=Re}onPointerDown(e){this.session=new ob(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:gb(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:dv(e),onStart:dv(n),onMove:r,onEnd:(o,s)=>{delete this.session,i&&J.postRender(()=>i(o,s))}}}mount(){this.removePointerDownListener=hn(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const lc=E.createContext(null);function PI(){const t=E.useContext(lc);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=E.useId();E.useEffect(()=>r(i),[]);const o=E.useCallback(()=>n&&n(i),[i,n]);return!e&&n?[!1,o]:[!0]}const jp=E.createContext({}),vb=E.createContext({}),xa={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function hv(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const so={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(R.test(t))t=parseFloat(t);else return t;const n=hv(t,e.target.x),r=hv(t,e.target.y);return`${n}% ${r}%`}},AI={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=er.parse(t);if(i.length>5)return r;const o=er.createTransformer(t),s=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+s]/=a,i[1+s]/=l;const c=ce(a,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=c),typeof i[3+s]=="number"&&(i[3+s]/=c),o(i)}},vl={};function OI(t){Object.assign(vl,t)}const{schedule:Fp,cancel:rj}=ww(queueMicrotask,!1);class BI extends E.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=e;OI(LI),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),xa.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,s=r.projection;return s&&(s.isPresent=o,i||e.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?s.promote():s.relegate()||J.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Fp.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function yb(t){const[e,n]=PI(),r=E.useContext(jp);return b.jsx(BI,{...t,layoutGroup:r,switchLayoutGroup:E.useContext(vb),isPresent:e,safeToRemove:n})}const LI={borderRadius:{...so,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:so,borderTopRightRadius:so,borderBottomLeftRadius:so,borderBottomRightRadius:so,boxShadow:AI},wb=["TopLeft","TopRight","BottomLeft","BottomRight"],MI=wb.length,pv=t=>typeof t=="string"?parseFloat(t):t,fv=t=>typeof t=="number"||R.test(t);function NI(t,e,n,r,i,o){i?(t.opacity=ce(0,n.opacity!==void 0?n.opacity:1,RI(r)),t.opacityExit=ce(e.opacity!==void 0?e.opacity:1,0,DI(r))):o&&(t.opacity=ce(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<MI;s++){const a=`border${wb[s]}Radius`;let l=mv(e,a),c=mv(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||fv(l)===fv(c)?(t[a]=Math.max(ce(pv(l),pv(c),r),0),($t.test(c)||$t.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=ce(e.rotate||0,n.rotate||0,r))}function mv(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const RI=bb(0,.5,Ww),DI=bb(.5,.95,Re);function bb(t,e,n){return r=>r<t?0:r>e?1:n(os(t,e,r))}function gv(t,e){t.min=e.min,t.max=e.max}function dt(t,e){gv(t.x,e.x),gv(t.y,e.y)}function vv(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function yv(t,e,n,r,i){return t-=e,t=gl(t,1/n,r),i!==void 0&&(t=gl(t,1/i,r)),t}function jI(t,e=0,n=1,r=.5,i,o=t,s=t){if($t.test(e)&&(e=parseFloat(e),e=ce(s.min,s.max,e/100)-s.min),typeof e!="number")return;let a=ce(o.min,o.max,r);t===o&&(a-=e),t.min=yv(t.min,e,n,a,i),t.max=yv(t.max,e,n,a,i)}function wv(t,e,[n,r,i],o,s){jI(t,e[n],e[r],e[i],e.scale,o,s)}const FI=["x","scaleX","originX"],$I=["y","scaleY","originY"];function bv(t,e,n,r){wv(t.x,e,FI,n?n.x:void 0,r?r.x:void 0),wv(t.y,e,$I,n?n.y:void 0,r?r.y:void 0)}function kv(t){return t.translate===0&&t.scale===1}function kb(t){return kv(t.x)&&kv(t.y)}function xv(t,e){return t.min===e.min&&t.max===e.max}function UI(t,e){return xv(t.x,e.x)&&xv(t.y,e.y)}function Ev(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function xb(t,e){return Ev(t.x,e.x)&&Ev(t.y,e.y)}function Sv(t){return lt(t.x)/lt(t.y)}function Cv(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class VI{constructor(){this.members=[]}add(e){ic(this.members,e),e.scheduleRender()}remove(e){if(oc(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function HI(t,e,n){let r="";const i=t.x.translate/e.x,o=t.y.translate/e.y,s=(n==null?void 0:n.z)||0;if((i||o||s)&&(r=`translate3d(${i}px, ${o}px, ${s}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:d,rotateY:h,skewX:y,skewY:f}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),d&&(r+=`rotateX(${d}deg) `),h&&(r+=`rotateY(${h}deg) `),y&&(r+=`skewX(${y}deg) `),f&&(r+=`skewY(${f}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const zI=(t,e)=>t.depth-e.depth;class WI{constructor(){this.children=[],this.isDirty=!1}add(e){ic(this.children,e),this.isDirty=!0}remove(e){oc(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(zI),this.isDirty=!1,this.children.forEach(e)}}function Ea(t){const e=Me(t)?t.get():t;return D2(e)?e.toValue():e}function KI(t,e){const n=un.now(),r=({timestamp:i})=>{const o=i-n;o>=e&&(vn(r),t(o-e))};return J.read(r,!0),()=>vn(r)}function qI(t){return t instanceof SVGElement&&t.tagName!=="svg"}function GI(t,e,n){const r=Me(t)?t:ss(t);return r.start(Rp("",r,e,n)),r.animation}const vr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},vo=typeof window<"u"&&window.MotionDebug!==void 0,lu=["","X","Y","Z"],YI={visibility:"hidden"},Tv=1e3;let XI=0;function cu(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function Eb(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=tb(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",J,!(i||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&Eb(r)}function Sb({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},a=e==null?void 0:e()){this.id=XI++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,vo&&(vr.totalNodes=vr.resolvedTargetDeltas=vr.recalculatedProjection=0),this.nodes.forEach(ZI),this.nodes.forEach(iP),this.nodes.forEach(oP),this.nodes.forEach(eP),vo&&window.MotionDebug.record(vr)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new WI)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new Dp),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const l=this.eventHandlers.get(s);l&&l.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=qI(s),this.instance=s;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let d;const h=()=>this.root.updateBlockedByResize=!1;t(s,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=KI(h,250),xa.hasAnimatedSinceResize&&(xa.hasAnimatedSinceResize=!1,this.nodes.forEach(Iv))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeTargetChanged:y,layout:f})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||u.getDefaultTransition()||uP,{onLayoutAnimationStart:w,onLayoutAnimationComplete:g}=u.getProps(),p=!this.targetLayout||!xb(this.targetLayout,f)||y,v=!h&&y;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||v||h&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,v);const k={...Sp(m,"layout"),onPlay:w,onComplete:g};(u.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k)}else h||Iv(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=f})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,vn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(sP),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Eb(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(_v);return}this.isUpdating||this.nodes.forEach(nP),this.isUpdating=!1,this.nodes.forEach(rP),this.nodes.forEach(JI),this.nodes.forEach(QI),this.clearAllSnapshots();const a=un.now();Te.delta=Zn(0,1e3/60,a-Te.timestamp),Te.timestamp=a,Te.isProcessing=!0,eu.update.process(Te),eu.preRender.process(Te),eu.render.process(Te),Te.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Fp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(tP),this.sharedNodes.forEach(aP)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,J.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){J.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ge(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!kb(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;s&&(a||gr(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return s&&(l=this.removeTransform(l)),dP(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var s;const{visualElement:a}=this.options;if(!a)return ge();const l=a.measureViewportBox();if(!(((s=this.scroll)===null||s===void 0?void 0:s.wasRoot)||this.path.some(hP))){const{scroll:u}=this.root;u&&(pi(l.x,u.offset.x),pi(l.y,u.offset.y))}return l}removeElementScroll(s){var a;const l=ge();if(dt(l,s),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:h}=u;u!==this.root&&d&&h.layoutScroll&&(d.wasRoot&&dt(l,s),pi(l.x,d.offset.x),pi(l.y,d.offset.y))}return l}applyTransform(s,a=!1){const l=ge();dt(l,s);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&fi(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),gr(u.latestValues)&&fi(l,u.latestValues)}return gr(this.latestValues)&&fi(l,this.latestValues),l}removeTransform(s){const a=ge();dt(a,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!gr(c.latestValues))continue;Ud(c.latestValues)&&c.updateSnapshot();const u=ge(),d=c.measurePageBox();dt(u,d),bv(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return gr(this.latestValues)&&bv(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Te.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(s||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=Te.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ge(),this.relativeTargetOrigin=ge(),Mo(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),dt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ge(),this.targetWithTransforms=ge()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),pI(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):dt(this.target,this.layout.layoutBox),fb(this.target,this.targetDelta)):dt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ge(),this.relativeTargetOrigin=ge(),Mo(this.relativeTargetOrigin,this.target,y.target),dt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}vo&&vr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Ud(this.parent.latestValues)||pb(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Te.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;dt(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,y=this.treeScale.y;xI(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=ge());const{target:f}=a;if(!f){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(vv(this.prevProjectionDelta.x,this.projectionDelta.x),vv(this.prevProjectionDelta.y,this.projectionDelta.y)),Lo(this.projectionDelta,this.layoutCorrected,f,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==y||!Cv(this.projectionDelta.x,this.prevProjectionDelta.x)||!Cv(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",f)),vo&&vr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=hi(),this.projectionDelta=hi(),this.projectionDeltaWithTransform=hi()}setAnimationOrigin(s,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=hi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=ge(),y=l?l.source:void 0,f=this.layout?this.layout.source:void 0,m=y!==f,w=this.getStack(),g=!w||w.members.length<=1,p=!!(m&&!g&&this.options.crossfade===!0&&!this.path.some(cP));this.animationProgress=0;let v;this.mixTargetDelta=k=>{const x=k/1e3;Pv(d.x,s.x,x),Pv(d.y,s.y,x),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Mo(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),lP(this.relativeTarget,this.relativeTargetOrigin,h,x),v&&UI(this.relativeTarget,v)&&(this.isProjectionDirty=!1),v||(v=ge()),dt(v,this.relativeTarget)),m&&(this.animationValues=u,NI(u,c,this.latestValues,x,p,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=x},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(vn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=J.update(()=>{xa.hasAnimatedSinceResize=!0,this.currentAnimation=GI(0,Tv,{...s,onUpdate:a=>{this.mixTargetDelta(a),s.onUpdate&&s.onUpdate(a)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Tv),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=s;if(!(!a||!l||!c)){if(this!==s&&this.layout&&c&&Cb(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||ge();const d=lt(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+d;const h=lt(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+h}dt(a,l),fi(a,u),Lo(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new VI),this.sharedNodes.get(s).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:a}=this.options;return a?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:a}=this.options;return a?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:l}=s;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&cu("z",s,c,this.animationValues);for(let u=0;u<lu.length;u++)cu(`rotate${lu[u]}`,s,c,this.animationValues),cu(`skew${lu[u]}`,s,c,this.animationValues);s.render();for(const u in c)s.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);s.scheduleRender()}getProjectionStyles(s){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return YI;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Ea(s==null?void 0:s.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=Ea(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!gr(this.latestValues)&&(m.transform=u?u({},""):"none",this.hasProjected=!1),m}const h=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=HI(this.projectionDeltaWithTransform,this.treeScale,h),u&&(c.transform=u(h,c.transform));const{x:y,y:f}=this.projectionDelta;c.transformOrigin=`${y.origin*100}% ${f.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const m in vl){if(h[m]===void 0)continue;const{correct:w,applyTo:g}=vl[m],p=c.transform==="none"?h[m]:w(h[m],d);if(g){const v=g.length;for(let k=0;k<v;k++)c[g[k]]=p}else c[m]=p}return this.options.layoutId&&(c.pointerEvents=d===this?Ea(s==null?void 0:s.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(_v),this.root.sharedNodes.clear()}}}function JI(t){t.updateLayout()}function QI(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:o}=t.options,s=n.source!==t.layout.source;o==="size"?pt(d=>{const h=s?n.measuredBox[d]:n.layoutBox[d],y=lt(h);h.min=r[d].min,h.max=h.min+y}):Cb(o,n.layoutBox,r)&&pt(d=>{const h=s?n.measuredBox[d]:n.layoutBox[d],y=lt(r[d]);h.max=h.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+y)});const a=hi();Lo(a,r,n.layoutBox);const l=hi();s?Lo(l,t.applyTransform(i,!0),n.measuredBox):Lo(l,r,n.layoutBox);const c=!kb(a);let u=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:y}=d;if(h&&y){const f=ge();Mo(f,n.layoutBox,h.layoutBox);const m=ge();Mo(m,r,y.layoutBox),xb(f,m)||(u=!0),d.options.layoutRoot&&(t.relativeTarget=m,t.relativeTargetOrigin=f,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function ZI(t){vo&&vr.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function eP(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function tP(t){t.clearSnapshot()}function _v(t){t.clearMeasurements()}function nP(t){t.isLayoutDirty=!1}function rP(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Iv(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function iP(t){t.resolveTargetDelta()}function oP(t){t.calcProjection()}function sP(t){t.resetSkewAndRotation()}function aP(t){t.removeLeadSnapshot()}function Pv(t,e,n){t.translate=ce(e.translate,0,n),t.scale=ce(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Av(t,e,n,r){t.min=ce(e.min,n.min,r),t.max=ce(e.max,n.max,r)}function lP(t,e,n,r){Av(t.x,e.x,n.x,r),Av(t.y,e.y,n.y,r)}function cP(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const uP={duration:.45,ease:[.4,0,.1,1]},Ov=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Bv=Ov("applewebkit/")&&!Ov("chrome/")?Math.round:Re;function Lv(t){t.min=Bv(t.min),t.max=Bv(t.max)}function dP(t){Lv(t.x),Lv(t.y)}function Cb(t,e,n){return t==="position"||t==="preserve-aspect"&&!hI(Sv(e),Sv(n),.2)}function hP(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const pP=Sb({attachResizeListener:(t,e)=>en(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),uu={current:void 0},Tb=Sb({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!uu.current){const t=new pP({});t.mount(window),t.setOptions({layoutScroll:!0}),uu.current=t}return uu.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),fP={pan:{Feature:II},drag:{Feature:_I,ProjectionNode:Tb,MeasureLayout:yb}};function Mv(t,e){const n=e?"pointerenter":"pointerleave",r=e?"onHoverStart":"onHoverEnd",i=(o,s)=>{if(o.pointerType==="touch"||cb())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e);const l=a[r];l&&J.postRender(()=>l(o,s))};return hn(t.current,n,i,{passive:!t.getProps()[r]})}class mP extends ar{mount(){this.unmount=dn(Mv(this.node,!0),Mv(this.node,!1))}unmount(){}}class gP extends ar{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=dn(en(this.node.current,"focus",()=>this.onFocus()),en(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const _b=(t,e)=>e?t===e?!0:_b(t,e.parentElement):!1;function du(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,ac(n))}class vP extends ar{constructor(){super(...arguments),this.removeStartListeners=Re,this.removeEndListeners=Re,this.removeAccessibleListeners=Re,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),o=hn(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u,globalTapTarget:d}=this.node.getProps(),h=!d&&!_b(this.node.current,a.target)?u:c;h&&J.update(()=>h(a,l))},{passive:!(r.onTap||r.onPointerUp)}),s=hn(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=dn(o,s),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=o=>{if(o.key!=="Enter"||this.isPressing)return;const s=a=>{a.key!=="Enter"||!this.checkPressEnd()||du("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&J.postRender(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=en(this.node.current,"keyup",s),du("down",(a,l)=>{this.startPress(a,l)})},n=en(this.node.current,"keydown",e),r=()=>{this.isPressing&&du("cancel",(o,s)=>this.cancelPress(o,s))},i=en(this.node.current,"blur",r);this.removeAccessibleListeners=dn(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&J.postRender(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!cb()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&J.postRender(()=>r(e,n))}mount(){const e=this.node.getProps(),n=hn(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=en(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=dn(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Hd=new WeakMap,hu=new WeakMap,yP=t=>{const e=Hd.get(t.target);e&&e(t)},wP=t=>{t.forEach(yP)};function bP({root:t,...e}){const n=t||document;hu.has(n)||hu.set(n,{});const r=hu.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(wP,{root:t,...e})),r[i]}function kP(t,e,n){const r=bP(e);return Hd.set(t,n),r.observe(t),()=>{Hd.delete(t),r.unobserve(t)}}const xP={some:0,all:1};class EP extends ar{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=e,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:xP[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,o&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),h=c?u:d;h&&h(l)};return kP(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(SP(e,n))&&this.startObserver()}unmount(){}}function SP({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const CP={inView:{Feature:EP},tap:{Feature:vP},focus:{Feature:gP},hover:{Feature:mP}},TP={layout:{ProjectionNode:Tb,MeasureLayout:yb}},$p=E.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),cc=E.createContext({}),Up=typeof window<"u",Ib=Up?E.useLayoutEffect:E.useEffect,Pb=E.createContext({strict:!1});let Nv=!1;function _P(t,e,n,r,i){var o;const{visualElement:s}=E.useContext(cc),a=E.useContext(Pb),l=E.useContext(lc),c=E.useContext($p).reducedMotion,u=E.useRef();r=r||a.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:s,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,h=E.useContext(vb);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&PP(u.current,n,i,h),E.useInsertionEffect(()=>{d&&d.update(n,l)});const y=n[eb],f=E.useRef(!!y&&!window.MotionHandoffIsComplete&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,y)));return Ib(()=>{d&&(d.updateFeatures(),Fp.render(d.render),f.current&&d.animationState&&d.animationState.animateChanges())}),E.useEffect(()=>{d&&(!f.current&&d.animationState&&d.animationState.animateChanges(),f.current=!1,Nv||(Nv=!0,queueMicrotask(IP)))}),d}function IP(){window.MotionHandoffIsComplete=!0}function PP(t,e,n,r){const{layoutId:i,layout:o,drag:s,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Ab(t.parent)),t.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!s||a&&di(a),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function Ab(t){if(t)return t.options.allowProjection!==!1?t.projection:Ab(t.parent)}function AP(t,e,n){return E.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):di(n)&&(n.current=r))},[e])}function uc(t){return ns(t.animate)||Ep.some(e=>rs(t[e]))}function Ob(t){return!!(uc(t)||t.variants)}function OP(t,e){if(uc(t)){const{initial:n,animate:r}=t;return{initial:n===!1||rs(n)?n:void 0,animate:rs(r)?r:void 0}}return t.inherit!==!1?e:{}}function BP(t){const{initial:e,animate:n}=OP(t,E.useContext(cc));return E.useMemo(()=>({initial:e,animate:n}),[Rv(e),Rv(n)])}function Rv(t){return Array.isArray(t)?t.join(" "):t}const Dv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ri={};for(const t in Dv)Ri[t]={isEnabled:e=>Dv[t].some(n=>!!e[n])};function LP(t){for(const e in t)Ri[e]={...Ri[e],...t[e]}}const MP=Symbol.for("motionComponentSymbol");function NP({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&LP(t);function o(a,l){let c;const u={...E.useContext($p),...a,layoutId:RP(a)},{isStatic:d}=u,h=BP(a),y=r(a,d);if(!d&&Up){DP();const f=jP(u);c=f.MeasureLayout,h.visualElement=_P(i,y,u,e,f.ProjectionNode)}return b.jsxs(cc.Provider,{value:h,children:[c&&h.visualElement?b.jsx(c,{visualElement:h.visualElement,...u}):null,n(i,a,AP(y,h.visualElement,l),y,d,h.visualElement)]})}const s=E.forwardRef(o);return s[MP]=i,s}function RP({layoutId:t}){const e=E.useContext(jp).id;return e&&t!==void 0?e+"-"+t:t}function DP(t,e){E.useContext(Pb).strict}function jP(t){const{drag:e,layout:n}=Ri;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const FP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Vp(t){return typeof t!="string"||t.includes("-")?!1:!!(FP.indexOf(t)>-1||/[A-Z]/u.test(t))}function Bb(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}const Lb=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Mb(t,e,n,r){Bb(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(Lb.has(i)?i:sc(i),e.attrs[i])}function Nb(t,{layout:e,layoutId:n}){return sr.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!vl[t]||t==="opacity")}function Hp(t,e,n){var r;const{style:i}=t,o={};for(const s in i)(Me(i[s])||e.style&&Me(e.style[s])||Nb(s,t)||((r=n==null?void 0:n.getValue(s))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(o[s]=i[s]);return n&&i&&typeof i.willChange=="string"&&(n.applyWillChange=!1),o}function Rb(t,e,n){const r=Hp(t,e,n);for(const i in t)if(Me(t[i])||Me(e[i])){const o=ws.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=t[i]}return r}function zp(t){const e=E.useRef(null);return e.current===null&&(e.current=t()),e.current}function $P({applyWillChange:t=!1,scrapeMotionValuesFromProps:e,createRenderState:n,onMount:r},i,o,s,a){const l={latestValues:VP(i,o,s,a?!1:t,e),renderState:n()};return r&&(l.mount=c=>r(i,c,l)),l}const Db=t=>(e,n)=>{const r=E.useContext(cc),i=E.useContext(lc),o=()=>$P(t,e,r,i,n);return n?o():zp(o)};function UP(t,e){const n=nb(e);n&&ic(t,n)}function jv(t,e,n){const r=Array.isArray(e)?e:[e];for(let i=0;i<r.length;i++){const o=kp(t,r[i]);if(o){const{transitionEnd:s,transition:a,...l}=o;n(l,s)}}}function VP(t,e,n,r,i){var o;const s={},a=[],l=r&&((o=t.style)===null||o===void 0?void 0:o.willChange)===void 0,c=i(t,{});for(const w in c)s[w]=Ea(c[w]);let{initial:u,animate:d}=t;const h=uc(t),y=Ob(t);e&&y&&!h&&t.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let f=n?n.initial===!1:!1;f=f||u===!1;const m=f?d:u;return m&&typeof m!="boolean"&&!ns(m)&&jv(t,m,(w,g)=>{for(const p in w){let v=w[p];if(Array.isArray(v)){const k=f?v.length-1:0;v=v[k]}v!==null&&(s[p]=v)}for(const p in g)s[p]=g[p]}),l&&(d&&u!==!1&&!ns(d)&&jv(t,d,w=>{for(const g in w)UP(a,g)}),a.length&&(s.willChange=a.join(","))),s}const Wp=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),jb=()=>({...Wp(),attrs:{}}),Fb=(t,e)=>e&&typeof t=="number"?e.transform(t):t,HP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},zP=ws.length;function WP(t,e,n){let r="",i=!0;for(let o=0;o<zP;o++){const s=ws[o],a=t[s];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(s.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=Fb(a,Pp[s]);if(!l){i=!1;const u=HP[s]||s;r+=`${u}(${c}) `}n&&(e[s]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function Kp(t,e,n){const{style:r,vars:i,transformOrigin:o}=t;let s=!1,a=!1;for(const l in e){const c=e[l];if(sr.has(l)){s=!0;continue}else if(Ew(l)){i[l]=c;continue}else{const u=Fb(c,Pp[l]);l.startsWith("origin")?(a=!0,o[l]=u):r[l]=u}}if(e.transform||(s||n?r.transform=WP(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=o;r.transformOrigin=`${l} ${c} ${u}`}}function Fv(t,e,n){return typeof t=="string"?t:R.transform(e+n*t)}function KP(t,e,n){const r=Fv(e,t.x,t.width),i=Fv(n,t.y,t.height);return`${r} ${i}`}const qP={offset:"stroke-dashoffset",array:"stroke-dasharray"},GP={offset:"strokeDashoffset",array:"strokeDasharray"};function YP(t,e,n=1,r=0,i=!0){t.pathLength=1;const o=i?qP:GP;t[o.offset]=R.transform(-r);const s=R.transform(e),a=R.transform(n);t[o.array]=`${s} ${a}`}function qp(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:o,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...c},u,d){if(Kp(t,c,d),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:y,dimensions:f}=t;h.transform&&(f&&(y.transform=h.transform),delete h.transform),f&&(i!==void 0||o!==void 0||y.transform)&&(y.transformOrigin=KP(f,i!==void 0?i:.5,o!==void 0?o:.5)),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),s!==void 0&&YP(h,s,a,l,!1)}const Gp=t=>typeof t=="string"&&t.toLowerCase()==="svg",XP={useVisualState:Db({scrapeMotionValuesFromProps:Rb,createRenderState:jb,onMount:(t,e,{renderState:n,latestValues:r})=>{J.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),J.render(()=>{qp(n,r,Gp(e.tagName),t.transformTemplate),Mb(e,n)})}})},JP={useVisualState:Db({applyWillChange:!0,scrapeMotionValuesFromProps:Hp,createRenderState:Wp})};function $b(t,e,n){for(const r in e)!Me(e[r])&&!Nb(r,n)&&(t[r]=e[r])}function QP({transformTemplate:t},e){return E.useMemo(()=>{const n=Wp();return Kp(n,e,t),Object.assign({},n.vars,n.style)},[e])}function ZP(t,e){const n=t.style||{},r={};return $b(r,n,t),Object.assign(r,QP(t,e)),r}function eA(t,e){const n={},r=ZP(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const tA=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function yl(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||tA.has(t)}let Ub=t=>!yl(t);function nA(t){t&&(Ub=e=>e.startsWith("on")?!yl(e):t(e))}try{nA(require("@emotion/is-prop-valid").default)}catch{}function rA(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(Ub(i)||n===!0&&yl(i)||!e&&!yl(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function iA(t,e,n,r){const i=E.useMemo(()=>{const o=jb();return qp(o,e,Gp(r),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};$b(o,t.style,t),i.style={...o,...i.style}}return i}function oA(t=!1){return(n,r,i,{latestValues:o},s)=>{const l=(Vp(n)?iA:eA)(r,o,s,n),c=rA(r,typeof n=="string",t),u=n!==E.Fragment?{...c,...l,ref:i}:{},{children:d}=r,h=E.useMemo(()=>Me(d)?d.get():d,[d]);return E.createElement(n,{...u,children:h})}}function sA(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const s={...Vp(r)?XP:JP,preloadedFeatures:t,useRender:oA(i),createVisualElement:e,Component:r};return NP(s)}}const zd={current:null},Vb={current:!1};function aA(){if(Vb.current=!0,!!Up)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>zd.current=t.matches;t.addListener(e),e()}else zd.current=!1}function lA(t,e,n){for(const r in e){const i=e[r],o=n[r];if(Me(i))t.addValue(r,i);else if(Me(o))t.addValue(r,ss(i,{owner:t}));else if(o!==i)if(t.hasValue(r)){const s=t.getValue(r);s.liveStyle===!0?s.jump(i):s.hasAnimated||s.set(i)}else{const s=t.getStaticValue(r);t.addValue(r,ss(s!==void 0?s:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const $v=new WeakMap,cA=[...Tw,Be,er],uA=t=>cA.find(Cw(t)),Uv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],dA=Ep.length;class hA{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:s},a={}){this.applyWillChange=!1,this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=_p,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.isRenderScheduled=!1,this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.isRenderScheduled=!1,this.scheduleRender=()=>{this.isRenderScheduled||(this.isRenderScheduled=!0,J.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!o,this.isControllingVariants=uc(n),this.isVariantNode=Ob(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in d){const y=d[h];l[h]!==void 0&&Me(y)&&y.set(l[h],!1)}}mount(e){this.current=e,$v.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Vb.current||aA(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:zd.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){$v.delete(this.current),this.projection&&this.projection.unmount(),vn(this.notifyUpdate),vn(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=sr.has(e),i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&J.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),o(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ri){const n=Ri[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ge()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Uv.length;r++){const i=Uv[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,s=e[o];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=lA(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<dA;r++){const i=Ep[r],o=this.props[i];(rs(o)||o===!1)&&(n[i]=o)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ss(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(kw(i)||bw(i))?i=parseFloat(i):!uA(i)&&er.test(n)&&(i=Mw(e,n)),this.setBaseTarget(e,Me(i)?i.get():i)),Me(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const s=kp(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);s&&(i=s[e])}if(r&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Me(o)?o:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Dp),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class Hb extends hA{constructor(){super(...arguments),this.KeyframeResolver=Nw}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}}function pA(t){return window.getComputedStyle(t)}class fA extends Hb{constructor(){super(...arguments),this.type="html",this.applyWillChange=!0,this.renderInstance=Bb}readValueFromInstance(e,n){if(sr.has(n)){const r=Ap(n);return r&&r.default||0}else{const r=pA(e),i=(Ew(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return mb(e,n)}build(e,n,r){Kp(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Hp(e,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Me(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class mA extends Hb{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ge}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(sr.has(n)){const r=Ap(n);return r&&r.default||0}return n=Lb.has(n)?n:sc(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return Rb(e,n,r)}build(e,n,r){qp(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){Mb(e,n,r,i)}mount(e){this.isSVGTag=Gp(e.tagName),super.mount(e)}}const gA=(t,e)=>Vp(t)?new mA(e):new fA(e,{allowProjection:t!==E.Fragment}),vA=sA({...rI,...CP,...fP,...TP},gA),Ne=QT(vA);class yA extends E.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function wA({children:t,isPresent:e}){const n=E.useId(),r=E.useRef(null),i=E.useRef({width:0,height:0,top:0,left:0}),{nonce:o}=E.useContext($p);return E.useInsertionEffect(()=>{const{width:s,height:a,top:l,left:c}=i.current;if(e||!r.current||!s||!a)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return o&&(u.nonce=o),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),b.jsx(yA,{isPresent:e,childRef:r,sizeRef:i,children:E.cloneElement(t,{ref:r})})}const bA=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:s})=>{const a=zp(kA),l=E.useId(),c=E.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:u=>{a.set(u,!0);for(const d of a.values())if(!d)return;r&&r()},register:u=>(a.set(u,!1),()=>a.delete(u))}),o?[Math.random()]:[n]);return E.useMemo(()=>{a.forEach((u,d)=>a.set(d,!1))},[n]),E.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),s==="popLayout"&&(t=b.jsx(wA,{isPresent:n,children:t})),b.jsx(lc.Provider,{value:c,children:t})};function kA(){return new Map}const ra=t=>t.key||"";function Vv(t){const e=[];return E.Children.forEach(t,n=>{E.isValidElement(n)&&e.push(n)}),e}const xA=({children:t,exitBeforeEnter:e,custom:n,initial:r=!0,onExitComplete:i,presenceAffectsLayout:o=!0,mode:s="sync"})=>{const a=E.useMemo(()=>Vv(t),[t]),l=a.map(ra),c=E.useRef(!0),u=E.useRef(a),d=zp(()=>new Map),[h,y]=E.useState(a),[f,m]=E.useState(a);Ib(()=>{c.current=!1,u.current=a;for(let p=0;p<f.length;p++){const v=ra(f[p]);l.includes(v)?d.delete(v):d.get(v)!==!0&&d.set(v,!1)}},[f,l.length,l.join("-")]);const w=[];if(a!==h){let p=[...a];for(let v=0;v<f.length;v++){const k=f[v],x=ra(k);l.includes(x)||(p.splice(v,0,k),w.push(k))}s==="wait"&&w.length&&(p=w),m(Vv(p)),y(a);return}const{forceRender:g}=E.useContext(jp);return b.jsx(b.Fragment,{children:f.map(p=>{const v=ra(p),k=a===f||l.includes(v),x=()=>{if(d.has(v))d.set(v,!0);else return;let T=!0;d.forEach(P=>{P||(T=!1)}),T&&(g==null||g(),m(u.current),i&&i())};return b.jsx(bA,{isPresent:k,initial:!c.current||r?void 0:!1,custom:k?void 0:n,presenceAffectsLayout:o,mode:s,onExitComplete:k?void 0:x,children:p},v)})})},gt=({children:t,keyValue:e,initial:n={opacity:0},animate:r={opacity:1},transition:i={duration:1},className:o})=>b.jsx(xA,{children:b.jsx(Ne.div,{initial:n,animate:r,transition:i,className:o,children:t},e)}),EA=(t,e)=>sessionStorage.setItem(t,e),SA=t=>sessionStorage.getItem(t),CA=t=>sessionStorage.removeItem(t),TA=()=>{console.log("UserNavigation dirender");const{userAuth:{username:t},setUserAuth:e}=E.useContext(Wr),n=()=>{try{CA("user"),e({access_token:null})}catch(r){console.error("Error saat sign out:",r)}};return b.jsx(gt,{className:"absolute right-0 z-50",transition:{duration:.2},children:b.jsxs("div",{className:"bg-white absolute right-0 border border-grey w-60 overflow-hidden duration-200",children:[b.jsxs(qe,{to:"/editor",className:"flex gap-2 link md:hidden pl-8 py-4",children:[b.jsx("i",{className:"fi fi-rr-pen-square"}),b.jsx("p",{children:"Write"})]}),b.jsx(qe,{to:`/user/${t}`,className:"link pl-8 py-4",children:"Profile"}),b.jsx(qe,{to:"/dashboard/notifications",className:"link pl-8 py-4",children:"Dashboard"}),b.jsx(qe,{to:"/settings/edit-profile",className:"link pl-8 py-4",children:"Settings"}),b.jsx("span",{className:"absolute border-t border-grey w-[100%]"}),b.jsxs("button",{className:"text-left p-4 hover:bg-grey w-full pl-8 py-4",onClick:r=>{r.preventDefault(),console.log("Tombol sign out diklik"),n()},children:[b.jsx("h1",{className:"font-bold text-xl mb-1",children:"Sign Out"}),b.jsxs("p",{children:["@",t]})]})]})})},_A=()=>{const[t,e]=E.useState(!1),[n,r]=E.useState(!1);let i=Wt();const{userAuth:o,userAuth:{access_token:s,profile_img:a}}=E.useContext(Wr);E.useEffect(()=>{},[o]);const l=()=>{r(u=>!u)},c=u=>{let d=u.target.value;console.log(u),u.keyCode==13&&d.length&&i(`/search/${d}`)};return b.jsxs(b.Fragment,{children:[b.jsxs("nav",{className:"navbar",children:[b.jsx(qe,{to:"/",className:"flex-none w-14 p-2",children:b.jsx("img",{src:vw,alt:"logo",className:"w-full "})}),b.jsxs("div",{className:"absolute bg-white w-full left-0 top-full mt-0.! border-b border-grey py-4 px-[5vw] md:border-0 md:block md:relative md:inset-0 md:p-0 md:w-auto md:show "+(t?"show":"hide"),children:[b.jsx("input",{type:"text",placeholder:"Search",className:"w-full md:w-auto bg-grey p-4 pl-6 pr-[12%] md:pr-6 rounded-full placeholder:text-dark-grey md:pl-12",onKeyDown:c}),b.jsx("i",{className:"fi fi-rr-search absolute right-[10%] md:pointer-events-none md:left-5 top-1/2 -translate-y-1/2 text-2xl text-dark-grey"})]}),b.jsxs("div",{className:"flex items-center gap-3 md:gap-6 ml-auto",children:[b.jsx("button",{className:"md:hidden  w-12 h-12 rounded-full flex items-center justify-center",onClick:()=>e(u=>!u),children:b.jsx("i",{class:"fi fi-rr-search block mt-1 -mr-6 text-2xl"})}),b.jsxs(qe,{to:"/editor",className:"hidden md:flex gap-2 link",children:[b.jsx("i",{className:"fi fi-rr-pen-square"}),b.jsx("p",{children:"Write"})]}),s?b.jsxs(b.Fragment,{children:[b.jsx(qe,{to:"/dashboard/notifications",children:b.jsx("button",{className:"w-12 h-12 relative hover:bg-black/10",children:b.jsx("i",{className:"fi fi-rr-bell text-2xl block mt-1 "})})}),b.jsxs("div",{className:"relative",onClick:l,children:[b.jsx("button",{className:"w-12 h-12 mt-1",children:b.jsx("img",{src:a,alt:"profile",className:"w-full h-full object-cover rounded-full"})}),n?b.jsx(TA,{}):""]})]}):b.jsxs(b.Fragment,{children:[b.jsx(qe,{className:"btn-dark py-2",to:"/signIn",children:"Sign In"}),b.jsx(qe,{className:"btn-light py-2 hidden md:block",to:"/signUp",children:"Sign Up"})]})]})]}),b.jsx(FT,{})]})},pu=({name:t,type:e,id:n,value:r,placeholder:i,icon:o})=>{const[s,a]=E.useState(!1);return b.jsxs("div",{className:"relative w-[100%] mb-4",children:[b.jsx("input",{name:t,type:e=="password"?s?"text":"password":e,placeholder:i,id:n,defaultValue:r,className:"input-box"}),b.jsx("i",{className:"fi "+o+" input-icon"}),e=="password"?b.jsx("i",{className:"fi fi-rr-eye"+(a?"":"-crossed")+" input-icon left-[auto]  right-4 cursor-pointer",onClick:()=>a(l=>!l)}):""]})},IA="/assets/google.png";let PA={data:""},AA=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||PA,OA=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,BA=/\/\*[^]*?\*\/|  +/g,Hv=/\n+/g,Ln=(t,e)=>{let n="",r="",i="";for(let o in t){let s=t[o];o[0]=="@"?o[1]=="i"?n=o+" "+s+";":r+=o[1]=="f"?Ln(s,o):o+"{"+Ln(s,o[1]=="k"?"":e)+"}":typeof s=="object"?r+=Ln(s,e?e.replace(/([^,])+/g,a=>o.replace(/(^:.*)|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):o):s!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Ln.p?Ln.p(o,s):o+":"+s+";")}return n+(e&&i?e+"{"+i+"}":i)+r},Kt={},zb=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+zb(t[n]);return e}return t},LA=(t,e,n,r,i)=>{let o=zb(t),s=Kt[o]||(Kt[o]=(l=>{let c=0,u=11;for(;c<l.length;)u=101*u+l.charCodeAt(c++)>>>0;return"go"+u})(o));if(!Kt[s]){let l=o!==t?t:(c=>{let u,d,h=[{}];for(;u=OA.exec(c.replace(BA,""));)u[4]?h.shift():u[3]?(d=u[3].replace(Hv," ").trim(),h.unshift(h[0][d]=h[0][d]||{})):h[0][u[1]]=u[2].replace(Hv," ").trim();return h[0]})(t);Kt[s]=Ln(i?{["@keyframes "+s]:l}:l,n?"":"."+s)}let a=n&&Kt.g?Kt.g:null;return n&&(Kt.g=Kt[s]),((l,c,u,d)=>{d?c.data=c.data.replace(d,l):c.data.indexOf(l)===-1&&(c.data=u?l+c.data:c.data+l)})(Kt[s],e,r,a),s},MA=(t,e,n)=>t.reduce((r,i,o)=>{let s=e[o];if(s&&s.call){let a=s(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;s=l?"."+l:a&&typeof a=="object"?a.props?"":Ln(a,""):a===!1?"":a}return r+i+(s??"")},"");function dc(t){let e=this||{},n=t.call?t(e.p):t;return LA(n.unshift?n.raw?MA(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,AA(e.target),e.g,e.o,e.k)}let Wb,Wd,Kd;dc.bind({g:1});let yn=dc.bind({k:1});function NA(t,e,n,r){Ln.p=e,Wb=t,Wd=n,Kd=r}function lr(t,e){let n=this||{};return function(){let r=arguments;function i(o,s){let a=Object.assign({},o),l=a.className||i.className;n.p=Object.assign({theme:Wd&&Wd()},a),n.o=/ *go\d+/.test(l),a.className=dc.apply(n,r)+(l?" "+l:"");let c=t;return t[0]&&(c=a.as||t,delete a.as),Kd&&c[0]&&Kd(a),Wb(c,a)}return i}}var RA=t=>typeof t=="function",wl=(t,e)=>RA(t)?t(e):t,DA=(()=>{let t=0;return()=>(++t).toString()})(),Kb=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),jA=20,Sa=new Map,FA=1e3,zv=t=>{if(Sa.has(t))return;let e=setTimeout(()=>{Sa.delete(t),Hr({type:4,toastId:t})},FA);Sa.set(t,e)},$A=t=>{let e=Sa.get(t);e&&clearTimeout(e)},qd=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,jA)};case 1:return e.toast.id&&$A(e.toast.id),{...t,toasts:t.toasts.map(o=>o.id===e.toast.id?{...o,...e.toast}:o)};case 2:let{toast:n}=e;return t.toasts.find(o=>o.id===n.id)?qd(t,{type:1,toast:n}):qd(t,{type:0,toast:n});case 3:let{toastId:r}=e;return r?zv(r):t.toasts.forEach(o=>{zv(o.id)}),{...t,toasts:t.toasts.map(o=>o.id===r||r===void 0?{...o,visible:!1}:o)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(o=>o.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},Ca=[],Ta={toasts:[],pausedAt:void 0},Hr=t=>{Ta=qd(Ta,t),Ca.forEach(e=>{e(Ta)})},UA={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},VA=(t={})=>{let[e,n]=E.useState(Ta);E.useEffect(()=>(Ca.push(n),()=>{let i=Ca.indexOf(n);i>-1&&Ca.splice(i,1)}),[e]);let r=e.toasts.map(i=>{var o,s;return{...t,...t[i.type],...i,duration:i.duration||((o=t[i.type])==null?void 0:o.duration)||(t==null?void 0:t.duration)||UA[i.type],style:{...t.style,...(s=t[i.type])==null?void 0:s.style,...i.style}}});return{...e,toasts:r}},HA=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||DA()}),Es=t=>(e,n)=>{let r=HA(e,t,n);return Hr({type:2,toast:r}),r.id},U=(t,e)=>Es("blank")(t,e);U.error=Es("error");U.success=Es("success");U.loading=Es("loading");U.custom=Es("custom");U.dismiss=t=>{Hr({type:3,toastId:t})};U.remove=t=>Hr({type:4,toastId:t});U.promise=(t,e,n)=>{let r=U.loading(e.loading,{...n,...n==null?void 0:n.loading});return t.then(i=>(U.success(wl(e.success,i),{id:r,...n,...n==null?void 0:n.success}),i)).catch(i=>{U.error(wl(e.error,i),{id:r,...n,...n==null?void 0:n.error})}),t};var zA=(t,e)=>{Hr({type:1,toast:{id:t,height:e}})},WA=()=>{Hr({type:5,time:Date.now()})},KA=t=>{let{toasts:e,pausedAt:n}=VA(t);E.useEffect(()=>{if(n)return;let o=Date.now(),s=e.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(o-a.createdAt);if(l<0){a.visible&&U.dismiss(a.id);return}return setTimeout(()=>U.dismiss(a.id),l)});return()=>{s.forEach(a=>a&&clearTimeout(a))}},[e,n]);let r=E.useCallback(()=>{n&&Hr({type:6,time:Date.now()})},[n]),i=E.useCallback((o,s)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:c}=s||{},u=e.filter(y=>(y.position||c)===(o.position||c)&&y.height),d=u.findIndex(y=>y.id===o.id),h=u.filter((y,f)=>f<d&&y.visible).length;return u.filter(y=>y.visible).slice(...a?[h+1]:[0,h]).reduce((y,f)=>y+(f.height||0)+l,0)},[e]);return{toasts:e,handlers:{updateHeight:zA,startPause:WA,endPause:r,calculateOffset:i}}},qA=yn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,GA=yn`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,YA=yn`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,XA=lr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${qA} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${GA} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${YA} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,JA=yn`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,QA=lr("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${JA} 1s linear infinite;
`,ZA=yn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,eO=yn`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,tO=lr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ZA} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${eO} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,nO=lr("div")`
  position: absolute;
`,rO=lr("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,iO=yn`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,oO=lr("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${iO} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,sO=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?E.createElement(oO,null,e):e:n==="blank"?null:E.createElement(rO,null,E.createElement(QA,{...r}),n!=="loading"&&E.createElement(nO,null,n==="error"?E.createElement(XA,{...r}):E.createElement(tO,{...r})))},aO=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,lO=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,cO="0%{opacity:0;} 100%{opacity:1;}",uO="0%{opacity:1;} 100%{opacity:0;}",dO=lr("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,hO=lr("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,pO=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=Kb()?[cO,uO]:[aO(n),lO(n)];return{animation:e?`${yn(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${yn(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},fO=E.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?pO(t.position||e||"top-center",t.visible):{opacity:0},o=E.createElement(sO,{toast:t}),s=E.createElement(hO,{...t.ariaProps},wl(t.message,t));return E.createElement(dO,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:o,message:s}):E.createElement(E.Fragment,null,o,s))});NA(E.createElement);var mO=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let o=E.useCallback(s=>{if(s){let a=()=>{let l=s.getBoundingClientRect().height;r(t,l)};a(),new MutationObserver(a).observe(s,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return E.createElement("div",{ref:o,className:e,style:n},i)},gO=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Kb()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},vO=dc`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,ia=16,Yp=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,containerStyle:o,containerClassName:s})=>{let{toasts:a,handlers:l}=KA(n);return E.createElement("div",{style:{position:"fixed",zIndex:9999,top:ia,left:ia,right:ia,bottom:ia,pointerEvents:"none",...o},className:s,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(c=>{let u=c.position||e,d=l.calculateOffset(c,{reverseOrder:t,gutter:r,defaultPosition:e}),h=gO(u,d);return E.createElement(mO,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?vO:"",style:h},c.type==="custom"?wl(c.message,c):i?i(c):E.createElement(fO,{toast:c,position:u}))}))};function qb(t,e){return function(){return t.apply(e,arguments)}}const{toString:yO}=Object.prototype,{getPrototypeOf:Xp}=Object,hc=(t=>e=>{const n=yO.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Bt=t=>(t=t.toLowerCase(),e=>hc(e)===t),pc=t=>e=>typeof e===t,{isArray:Ki}=Array,as=pc("undefined");function wO(t){return t!==null&&!as(t)&&t.constructor!==null&&!as(t.constructor)&&st(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Gb=Bt("ArrayBuffer");function bO(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Gb(t.buffer),e}const kO=pc("string"),st=pc("function"),Yb=pc("number"),fc=t=>t!==null&&typeof t=="object",xO=t=>t===!0||t===!1,_a=t=>{if(hc(t)!=="object")return!1;const e=Xp(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},EO=Bt("Date"),SO=Bt("File"),CO=Bt("Blob"),TO=Bt("FileList"),_O=t=>fc(t)&&st(t.pipe),IO=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||st(t.append)&&((e=hc(t))==="formdata"||e==="object"&&st(t.toString)&&t.toString()==="[object FormData]"))},PO=Bt("URLSearchParams"),[AO,OO,BO,LO]=["ReadableStream","Request","Response","Headers"].map(Bt),MO=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ss(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Ki(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),s=o.length;let a;for(r=0;r<s;r++)a=o[r],e.call(null,t[a],a,t)}}function Xb(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Sr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Jb=t=>!as(t)&&t!==Sr;function Gd(){const{caseless:t}=Jb(this)&&this||{},e={},n=(r,i)=>{const o=t&&Xb(e,i)||i;_a(e[o])&&_a(r)?e[o]=Gd(e[o],r):_a(r)?e[o]=Gd({},r):Ki(r)?e[o]=r.slice():e[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Ss(arguments[r],n);return e}const NO=(t,e,n,{allOwnKeys:r}={})=>(Ss(e,(i,o)=>{n&&st(i)?t[o]=qb(i,n):t[o]=i},{allOwnKeys:r}),t),RO=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),DO=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},jO=(t,e,n,r)=>{let i,o,s;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)s=i[o],(!r||r(s,t,e))&&!a[s]&&(e[s]=t[s],a[s]=!0);t=n!==!1&&Xp(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},FO=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},$O=t=>{if(!t)return null;if(Ki(t))return t;let e=t.length;if(!Yb(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},UO=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Xp(Uint8Array)),VO=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(t,o[0],o[1])}},HO=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},zO=Bt("HTMLFormElement"),WO=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),Wv=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),KO=Bt("RegExp"),Qb=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Ss(n,(i,o)=>{let s;(s=e(i,o,t))!==!1&&(r[o]=s||i)}),Object.defineProperties(t,r)},qO=t=>{Qb(t,(e,n)=>{if(st(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(st(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},GO=(t,e)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return Ki(t)?r(t):r(String(t).split(e)),n},YO=()=>{},XO=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,fu="abcdefghijklmnopqrstuvwxyz",Kv="0123456789",Zb={DIGIT:Kv,ALPHA:fu,ALPHA_DIGIT:fu+fu.toUpperCase()+Kv},JO=(t=16,e=Zb.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function QO(t){return!!(t&&st(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const ZO=t=>{const e=new Array(10),n=(r,i)=>{if(fc(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const o=Ki(r)?[]:{};return Ss(r,(s,a)=>{const l=n(s,i+1);!as(l)&&(o[a]=l)}),e[i]=void 0,o}}return r};return n(t,0)},eB=Bt("AsyncFunction"),tB=t=>t&&(fc(t)||st(t))&&st(t.then)&&st(t.catch),ek=((t,e)=>t?setImmediate:e?((n,r)=>(Sr.addEventListener("message",({source:i,data:o})=>{i===Sr&&o===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Sr.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",st(Sr.postMessage)),nB=typeof queueMicrotask<"u"?queueMicrotask.bind(Sr):typeof process<"u"&&process.nextTick||ek,C={isArray:Ki,isArrayBuffer:Gb,isBuffer:wO,isFormData:IO,isArrayBufferView:bO,isString:kO,isNumber:Yb,isBoolean:xO,isObject:fc,isPlainObject:_a,isReadableStream:AO,isRequest:OO,isResponse:BO,isHeaders:LO,isUndefined:as,isDate:EO,isFile:SO,isBlob:CO,isRegExp:KO,isFunction:st,isStream:_O,isURLSearchParams:PO,isTypedArray:UO,isFileList:TO,forEach:Ss,merge:Gd,extend:NO,trim:MO,stripBOM:RO,inherits:DO,toFlatObject:jO,kindOf:hc,kindOfTest:Bt,endsWith:FO,toArray:$O,forEachEntry:VO,matchAll:HO,isHTMLForm:zO,hasOwnProperty:Wv,hasOwnProp:Wv,reduceDescriptors:Qb,freezeMethods:qO,toObjectSet:GO,toCamelCase:WO,noop:YO,toFiniteNumber:XO,findKey:Xb,global:Sr,isContextDefined:Jb,ALPHABET:Zb,generateString:JO,isSpecCompliantForm:QO,toJSONObject:ZO,isAsyncFn:eB,isThenable:tB,setImmediate:ek,asap:nB};function V(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}C.inherits(V,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:C.toJSONObject(this.config),code:this.code,status:this.status}}});const tk=V.prototype,nk={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{nk[t]={value:t}});Object.defineProperties(V,nk);Object.defineProperty(tk,"isAxiosError",{value:!0});V.from=(t,e,n,r,i,o)=>{const s=Object.create(tk);return C.toFlatObject(t,s,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),V.call(s,t.message,e,n,r,i),s.cause=t,s.name=t.name,o&&Object.assign(s,o),s};const rB=null;function Yd(t){return C.isPlainObject(t)||C.isArray(t)}function rk(t){return C.endsWith(t,"[]")?t.slice(0,-2):t}function qv(t,e,n){return t?t.concat(e).map(function(i,o){return i=rk(i),!n&&o?"["+i+"]":i}).join(n?".":""):e}function iB(t){return C.isArray(t)&&!t.some(Yd)}const oB=C.toFlatObject(C,{},null,function(e){return/^is[A-Z]/.test(e)});function mc(t,e,n){if(!C.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=C.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,w){return!C.isUndefined(w[m])});const r=n.metaTokens,i=n.visitor||u,o=n.dots,s=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&C.isSpecCompliantForm(e);if(!C.isFunction(i))throw new TypeError("visitor must be a function");function c(f){if(f===null)return"";if(C.isDate(f))return f.toISOString();if(!l&&C.isBlob(f))throw new V("Blob is not supported. Use a Buffer instead.");return C.isArrayBuffer(f)||C.isTypedArray(f)?l&&typeof Blob=="function"?new Blob([f]):Buffer.from(f):f}function u(f,m,w){let g=f;if(f&&!w&&typeof f=="object"){if(C.endsWith(m,"{}"))m=r?m:m.slice(0,-2),f=JSON.stringify(f);else if(C.isArray(f)&&iB(f)||(C.isFileList(f)||C.endsWith(m,"[]"))&&(g=C.toArray(f)))return m=rk(m),g.forEach(function(v,k){!(C.isUndefined(v)||v===null)&&e.append(s===!0?qv([m],k,o):s===null?m:m+"[]",c(v))}),!1}return Yd(f)?!0:(e.append(qv(w,m,o),c(f)),!1)}const d=[],h=Object.assign(oB,{defaultVisitor:u,convertValue:c,isVisitable:Yd});function y(f,m){if(!C.isUndefined(f)){if(d.indexOf(f)!==-1)throw Error("Circular reference detected in "+m.join("."));d.push(f),C.forEach(f,function(g,p){(!(C.isUndefined(g)||g===null)&&i.call(e,g,C.isString(p)?p.trim():p,m,h))===!0&&y(g,m?m.concat(p):[p])}),d.pop()}}if(!C.isObject(t))throw new TypeError("data must be an object");return y(t),e}function Gv(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Jp(t,e){this._pairs=[],t&&mc(t,this,e)}const ik=Jp.prototype;ik.append=function(e,n){this._pairs.push([e,n])};ik.toString=function(e){const n=e?function(r){return e.call(this,r,Gv)}:Gv;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function sB(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ok(t,e,n){if(!e)return t;const r=n&&n.encode||sB,i=n&&n.serialize;let o;if(i?o=i(e,n):o=C.isURLSearchParams(e)?e.toString():new Jp(e,n).toString(r),o){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class Yv{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){C.forEach(this.handlers,function(r){r!==null&&e(r)})}}const sk={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},aB=typeof URLSearchParams<"u"?URLSearchParams:Jp,lB=typeof FormData<"u"?FormData:null,cB=typeof Blob<"u"?Blob:null,uB={isBrowser:!0,classes:{URLSearchParams:aB,FormData:lB,Blob:cB},protocols:["http","https","file","blob","url","data"]},Qp=typeof window<"u"&&typeof document<"u",Xd=typeof navigator=="object"&&navigator||void 0,dB=Qp&&(!Xd||["ReactNative","NativeScript","NS"].indexOf(Xd.product)<0),hB=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",pB=Qp&&window.location.href||"http://localhost",fB=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Qp,hasStandardBrowserEnv:dB,hasStandardBrowserWebWorkerEnv:hB,navigator:Xd,origin:pB},Symbol.toStringTag,{value:"Module"})),Qe={...fB,...uB};function mB(t,e){return mc(t,new Qe.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,o){return Qe.isNode&&C.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function gB(t){return C.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function vB(t){const e={},n=Object.keys(t);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],e[o]=t[o];return e}function ak(t){function e(n,r,i,o){let s=n[o++];if(s==="__proto__")return!0;const a=Number.isFinite(+s),l=o>=n.length;return s=!s&&C.isArray(i)?i.length:s,l?(C.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!a):((!i[s]||!C.isObject(i[s]))&&(i[s]=[]),e(n,r,i[s],o)&&C.isArray(i[s])&&(i[s]=vB(i[s])),!a)}if(C.isFormData(t)&&C.isFunction(t.entries)){const n={};return C.forEachEntry(t,(r,i)=>{e(gB(r),i,n,0)}),n}return null}function yB(t,e,n){if(C.isString(t))try{return(e||JSON.parse)(t),C.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Cs={transitional:sk,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=C.isObject(e);if(o&&C.isHTMLForm(e)&&(e=new FormData(e)),C.isFormData(e))return i?JSON.stringify(ak(e)):e;if(C.isArrayBuffer(e)||C.isBuffer(e)||C.isStream(e)||C.isFile(e)||C.isBlob(e)||C.isReadableStream(e))return e;if(C.isArrayBufferView(e))return e.buffer;if(C.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return mB(e,this.formSerializer).toString();if((a=C.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return mc(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),yB(e)):e}],transformResponse:[function(e){const n=this.transitional||Cs.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(C.isResponse(e)||C.isReadableStream(e))return e;if(e&&C.isString(e)&&(r&&!this.responseType||i)){const s=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(s)throw a.name==="SyntaxError"?V.from(a,V.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Qe.classes.FormData,Blob:Qe.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};C.forEach(["delete","get","head","post","put","patch"],t=>{Cs.headers[t]={}});const wB=C.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),bB=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(s){i=s.indexOf(":"),n=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!n||e[n]&&wB[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Xv=Symbol("internals");function ao(t){return t&&String(t).trim().toLowerCase()}function Ia(t){return t===!1||t==null?t:C.isArray(t)?t.map(Ia):String(t)}function kB(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const xB=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function mu(t,e,n,r,i){if(C.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!C.isString(e)){if(C.isString(r))return e.indexOf(r)!==-1;if(C.isRegExp(r))return r.test(e)}}function EB(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function SB(t,e){const n=C.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,o,s){return this[r].call(this,e,i,o,s)},configurable:!0})})}class Ze{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function o(a,l,c){const u=ao(l);if(!u)throw new Error("header name must be a non-empty string");const d=C.findKey(i,u);(!d||i[d]===void 0||c===!0||c===void 0&&i[d]!==!1)&&(i[d||l]=Ia(a))}const s=(a,l)=>C.forEach(a,(c,u)=>o(c,u,l));if(C.isPlainObject(e)||e instanceof this.constructor)s(e,n);else if(C.isString(e)&&(e=e.trim())&&!xB(e))s(bB(e),n);else if(C.isHeaders(e))for(const[a,l]of e.entries())o(l,a,r);else e!=null&&o(n,e,r);return this}get(e,n){if(e=ao(e),e){const r=C.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return kB(i);if(C.isFunction(n))return n.call(this,i,r);if(C.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=ao(e),e){const r=C.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||mu(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function o(s){if(s=ao(s),s){const a=C.findKey(r,s);a&&(!n||mu(r,r[a],a,n))&&(delete r[a],i=!0)}}return C.isArray(e)?e.forEach(o):o(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!e||mu(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const n=this,r={};return C.forEach(this,(i,o)=>{const s=C.findKey(r,o);if(s){n[s]=Ia(i),delete n[o];return}const a=e?EB(o):String(o).trim();a!==o&&delete n[o],n[a]=Ia(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return C.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&C.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[Xv]=this[Xv]={accessors:{}}).accessors,i=this.prototype;function o(s){const a=ao(s);r[a]||(SB(i,s),r[a]=!0)}return C.isArray(e)?e.forEach(o):o(e),this}}Ze.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);C.reduceDescriptors(Ze.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});C.freezeMethods(Ze);function gu(t,e){const n=this||Cs,r=e||n,i=Ze.from(r.headers);let o=r.data;return C.forEach(t,function(a){o=a.call(n,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function lk(t){return!!(t&&t.__CANCEL__)}function qi(t,e,n){V.call(this,t??"canceled",V.ERR_CANCELED,e,n),this.name="CanceledError"}C.inherits(qi,V,{__CANCEL__:!0});function ck(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new V("Request failed with status code "+n.status,[V.ERR_BAD_REQUEST,V.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function CB(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function TB(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,o=0,s;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=r[o];s||(s=c),n[i]=l,r[i]=c;let d=o,h=0;for(;d!==i;)h+=n[d++],d=d%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),c-s<e)return;const y=u&&c-u;return y?Math.round(h*1e3/y):void 0}}function _B(t,e){let n=0,r=1e3/e,i,o;const s=(c,u=Date.now())=>{n=u,i=null,o&&(clearTimeout(o),o=null),t.apply(null,c)};return[(...c)=>{const u=Date.now(),d=u-n;d>=r?s(c,u):(i=c,o||(o=setTimeout(()=>{o=null,s(i)},r-d)))},()=>i&&s(i)]}const bl=(t,e,n=3)=>{let r=0;const i=TB(50,250);return _B(o=>{const s=o.loaded,a=o.lengthComputable?o.total:void 0,l=s-r,c=i(l),u=s<=a;r=s;const d={loaded:s,total:a,progress:a?s/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-s)/c:void 0,event:o,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(d)},n)},Jv=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},Qv=t=>(...e)=>C.asap(()=>t(...e)),IB=Qe.hasStandardBrowserEnv?function(){const e=Qe.navigator&&/(msie|trident)/i.test(Qe.navigator.userAgent),n=document.createElement("a");let r;function i(o){let s=o;return e&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(s){const a=C.isString(s)?i(s):s;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}(),PB=Qe.hasStandardBrowserEnv?{write(t,e,n,r,i,o){const s=[t+"="+encodeURIComponent(e)];C.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),C.isString(r)&&s.push("path="+r),C.isString(i)&&s.push("domain="+i),o===!0&&s.push("secure"),document.cookie=s.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function AB(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function OB(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function uk(t,e){return t&&!AB(e)?OB(t,e):e}const Zv=t=>t instanceof Ze?{...t}:t;function jr(t,e){e=e||{};const n={};function r(c,u,d){return C.isPlainObject(c)&&C.isPlainObject(u)?C.merge.call({caseless:d},c,u):C.isPlainObject(u)?C.merge({},u):C.isArray(u)?u.slice():u}function i(c,u,d){if(C.isUndefined(u)){if(!C.isUndefined(c))return r(void 0,c,d)}else return r(c,u,d)}function o(c,u){if(!C.isUndefined(u))return r(void 0,u)}function s(c,u){if(C.isUndefined(u)){if(!C.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function a(c,u,d){if(d in e)return r(c,u);if(d in t)return r(void 0,c)}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(c,u)=>i(Zv(c),Zv(u),!0)};return C.forEach(Object.keys(Object.assign({},t,e)),function(u){const d=l[u]||i,h=d(t[u],e[u],u);C.isUndefined(h)&&d!==a||(n[u]=h)}),n}const dk=t=>{const e=jr({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:s,auth:a}=e;e.headers=s=Ze.from(s),e.url=ok(uk(e.baseURL,e.url),t.params,t.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(C.isFormData(n)){if(Qe.hasStandardBrowserEnv||Qe.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((l=s.getContentType())!==!1){const[c,...u]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];s.setContentType([c||"multipart/form-data",...u].join("; "))}}if(Qe.hasStandardBrowserEnv&&(r&&C.isFunction(r)&&(r=r(e)),r||r!==!1&&IB(e.url))){const c=i&&o&&PB.read(o);c&&s.set(i,c)}return e},BB=typeof XMLHttpRequest<"u",LB=BB&&function(t){return new Promise(function(n,r){const i=dk(t);let o=i.data;const s=Ze.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=i,u,d,h,y,f;function m(){y&&y(),f&&f(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let w=new XMLHttpRequest;w.open(i.method.toUpperCase(),i.url,!0),w.timeout=i.timeout;function g(){if(!w)return;const v=Ze.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),x={data:!a||a==="text"||a==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:v,config:t,request:w};ck(function(P){n(P),m()},function(P){r(P),m()},x),w=null}"onloadend"in w?w.onloadend=g:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(g)},w.onabort=function(){w&&(r(new V("Request aborted",V.ECONNABORTED,t,w)),w=null)},w.onerror=function(){r(new V("Network Error",V.ERR_NETWORK,t,w)),w=null},w.ontimeout=function(){let k=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const x=i.transitional||sk;i.timeoutErrorMessage&&(k=i.timeoutErrorMessage),r(new V(k,x.clarifyTimeoutError?V.ETIMEDOUT:V.ECONNABORTED,t,w)),w=null},o===void 0&&s.setContentType(null),"setRequestHeader"in w&&C.forEach(s.toJSON(),function(k,x){w.setRequestHeader(x,k)}),C.isUndefined(i.withCredentials)||(w.withCredentials=!!i.withCredentials),a&&a!=="json"&&(w.responseType=i.responseType),c&&([h,f]=bl(c,!0),w.addEventListener("progress",h)),l&&w.upload&&([d,y]=bl(l),w.upload.addEventListener("progress",d),w.upload.addEventListener("loadend",y)),(i.cancelToken||i.signal)&&(u=v=>{w&&(r(!v||v.type?new qi(null,t,w):v),w.abort(),w=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const p=CB(i.url);if(p&&Qe.protocols.indexOf(p)===-1){r(new V("Unsupported protocol "+p+":",V.ERR_BAD_REQUEST,t));return}w.send(o||null)})},MB=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const o=function(c){if(!i){i=!0,a();const u=c instanceof Error?c:this.reason;r.abort(u instanceof V?u:new qi(u instanceof Error?u.message:u))}};let s=e&&setTimeout(()=>{s=null,o(new V(`timeout ${e} of ms exceeded`,V.ETIMEDOUT))},e);const a=()=>{t&&(s&&clearTimeout(s),s=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(o):c.removeEventListener("abort",o)}),t=null)};t.forEach(c=>c.addEventListener("abort",o));const{signal:l}=r;return l.unsubscribe=()=>C.asap(a),l}},NB=function*(t,e){let n=t.byteLength;if(!e||n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},RB=async function*(t,e){for await(const n of DB(t))yield*NB(n,e)},DB=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},ey=(t,e,n,r)=>{const i=RB(t,e);let o=0,s,a=l=>{s||(s=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await i.next();if(c){a(),l.close();return}let d=u.byteLength;if(n){let h=o+=d;n(h)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},gc=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",hk=gc&&typeof ReadableStream=="function",jB=gc&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),pk=(t,...e)=>{try{return!!t(...e)}catch{return!1}},FB=hk&&pk(()=>{let t=!1;const e=new Request(Qe.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),ty=64*1024,Jd=hk&&pk(()=>C.isReadableStream(new Response("").body)),kl={stream:Jd&&(t=>t.body)};gc&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!kl[e]&&(kl[e]=C.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new V(`Response type '${e}' is not supported`,V.ERR_NOT_SUPPORT,r)})})})(new Response);const $B=async t=>{if(t==null)return 0;if(C.isBlob(t))return t.size;if(C.isSpecCompliantForm(t))return(await new Request(Qe.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(C.isArrayBufferView(t)||C.isArrayBuffer(t))return t.byteLength;if(C.isURLSearchParams(t)&&(t=t+""),C.isString(t))return(await jB(t)).byteLength},UB=async(t,e)=>{const n=C.toFiniteNumber(t.getContentLength());return n??$B(e)},VB=gc&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:o,timeout:s,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:h}=dk(t);c=c?(c+"").toLowerCase():"text";let y=MB([i,o&&o.toAbortSignal()],s),f;const m=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let w;try{if(l&&FB&&n!=="get"&&n!=="head"&&(w=await UB(u,r))!==0){let x=new Request(e,{method:"POST",body:r,duplex:"half"}),T;if(C.isFormData(r)&&(T=x.headers.get("content-type"))&&u.setContentType(T),x.body){const[P,S]=Jv(w,bl(Qv(l)));r=ey(x.body,ty,P,S)}}C.isString(d)||(d=d?"include":"omit");const g="credentials"in Request.prototype;f=new Request(e,{...h,signal:y,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:g?d:void 0});let p=await fetch(f);const v=Jd&&(c==="stream"||c==="response");if(Jd&&(a||v&&m)){const x={};["status","statusText","headers"].forEach(I=>{x[I]=p[I]});const T=C.toFiniteNumber(p.headers.get("content-length")),[P,S]=a&&Jv(T,bl(Qv(a),!0))||[];p=new Response(ey(p.body,ty,P,()=>{S&&S(),m&&m()}),x)}c=c||"text";let k=await kl[C.findKey(kl,c)||"text"](p,t);return!v&&m&&m(),await new Promise((x,T)=>{ck(x,T,{data:k,headers:Ze.from(p.headers),status:p.status,statusText:p.statusText,config:t,request:f})})}catch(g){throw m&&m(),g&&g.name==="TypeError"&&/fetch/i.test(g.message)?Object.assign(new V("Network Error",V.ERR_NETWORK,t,f),{cause:g.cause||g}):V.from(g,g&&g.code,t,f)}}),Qd={http:rB,xhr:LB,fetch:VB};C.forEach(Qd,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const ny=t=>`- ${t}`,HB=t=>C.isFunction(t)||t===null||t===!1,fk={getAdapter:t=>{t=C.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let o=0;o<e;o++){n=t[o];let s;if(r=n,!HB(n)&&(r=Qd[(s=String(n)).toLowerCase()],r===void 0))throw new V(`Unknown adapter '${s}'`);if(r)break;i[s||"#"+o]=r}if(!r){const o=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let s=e?o.length>1?`since :
`+o.map(ny).join(`
`):" "+ny(o[0]):"as no adapter specified";throw new V("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:Qd};function vu(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new qi(null,t)}function ry(t){return vu(t),t.headers=Ze.from(t.headers),t.data=gu.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),fk.getAdapter(t.adapter||Cs.adapter)(t).then(function(r){return vu(t),r.data=gu.call(t,t.transformResponse,r),r.headers=Ze.from(r.headers),r},function(r){return lk(r)||(vu(t),r&&r.response&&(r.response.data=gu.call(t,t.transformResponse,r.response),r.response.headers=Ze.from(r.response.headers))),Promise.reject(r)})}const mk="1.7.7",Zp={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Zp[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const iy={};Zp.transitional=function(e,n,r){function i(o,s){return"[Axios v"+mk+"] Transitional option '"+o+"'"+s+(r?". "+r:"")}return(o,s,a)=>{if(e===!1)throw new V(i(s," has been removed"+(n?" in "+n:"")),V.ERR_DEPRECATED);return n&&!iy[s]&&(iy[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,s,a):!0}};function zB(t,e,n){if(typeof t!="object")throw new V("options must be an object",V.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const o=r[i],s=e[o];if(s){const a=t[o],l=a===void 0||s(a,o,t);if(l!==!0)throw new V("option "+o+" must be "+l,V.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new V("Unknown option "+o,V.ERR_BAD_OPTION)}}const Zd={assertOptions:zB,validators:Zp},Sn=Zd.validators;class Ar{constructor(e){this.defaults=e,this.interceptors={request:new Yv,response:new Yv}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=jr(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&Zd.assertOptions(r,{silentJSONParsing:Sn.transitional(Sn.boolean),forcedJSONParsing:Sn.transitional(Sn.boolean),clarifyTimeoutError:Sn.transitional(Sn.boolean)},!1),i!=null&&(C.isFunction(i)?n.paramsSerializer={serialize:i}:Zd.assertOptions(i,{encode:Sn.function,serialize:Sn.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=o&&C.merge(o.common,o[n.method]);o&&C.forEach(["delete","get","head","post","put","patch","common"],f=>{delete o[f]}),n.headers=Ze.concat(s,o);const a=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(l=l&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const c=[];this.interceptors.response.forEach(function(m){c.push(m.fulfilled,m.rejected)});let u,d=0,h;if(!l){const f=[ry.bind(this),void 0];for(f.unshift.apply(f,a),f.push.apply(f,c),h=f.length,u=Promise.resolve(n);d<h;)u=u.then(f[d++],f[d++]);return u}h=a.length;let y=n;for(d=0;d<h;){const f=a[d++],m=a[d++];try{y=f(y)}catch(w){m.call(this,w);break}}try{u=ry.call(this,y)}catch(f){return Promise.reject(f)}for(d=0,h=c.length;d<h;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=jr(this.defaults,e);const n=uk(e.baseURL,e.url);return ok(n,e.params,e.paramsSerializer)}}C.forEach(["delete","get","head","options"],function(e){Ar.prototype[e]=function(n,r){return this.request(jr(r||{},{method:e,url:n,data:(r||{}).data}))}});C.forEach(["post","put","patch"],function(e){function n(r){return function(o,s,a){return this.request(jr(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}Ar.prototype[e]=n(),Ar.prototype[e+"Form"]=n(!0)});class ef{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const s=new Promise(a=>{r.subscribe(a),o=a}).then(i);return s.cancel=function(){r.unsubscribe(o)},s},e(function(o,s,a){r.reason||(r.reason=new qi(o,s,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new ef(function(i){e=i}),cancel:e}}}function WB(t){return function(n){return t.apply(null,n)}}function KB(t){return C.isObject(t)&&t.isAxiosError===!0}const eh={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(eh).forEach(([t,e])=>{eh[e]=t});function gk(t){const e=new Ar(t),n=qb(Ar.prototype.request,e);return C.extend(n,Ar.prototype,e,{allOwnKeys:!0}),C.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return gk(jr(t,i))},n}const Y=gk(Cs);Y.Axios=Ar;Y.CanceledError=qi;Y.CancelToken=ef;Y.isCancel=lk;Y.VERSION=mk;Y.toFormData=mc;Y.AxiosError=V;Y.Cancel=Y.CanceledError;Y.all=function(e){return Promise.all(e)};Y.spread=WB;Y.isAxiosError=KB;Y.mergeConfig=jr;Y.AxiosHeaders=Ze;Y.formToJSON=t=>ak(C.isHTMLForm(t)?new FormData(t):t);Y.getAdapter=fk.getAdapter;Y.HttpStatusCode=eh;Y.default=Y;var oy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},qB=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},yk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4;let h=(a&15)<<2|c>>6,y=c&63;l||(y=64,s||(h=64)),r.push(n[u],n[d],n[h],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(vk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):qB(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||c==null||d==null)throw new GB;const h=o<<2|a>>4;if(r.push(h),c!==64){const y=a<<4&240|c>>2;if(r.push(y),d!==64){const f=c<<6&192|d;r.push(f)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class GB extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const YB=function(t){const e=vk(t);return yk.encodeByteArray(e,!0)},wk=function(t){return YB(t).replace(/\./g,"")},bk=function(t){try{return yk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XB(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JB=()=>XB().__FIREBASE_DEFAULTS__,QB=()=>{if(typeof process>"u"||typeof oy>"u")return;const t=oy.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ZB=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&bk(t[1]);return e&&JSON.parse(e)},tf=()=>{try{return JB()||QB()||ZB()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},eL=t=>{var e,n;return(n=(e=tf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},kk=()=>{var t;return(t=tf())===null||t===void 0?void 0:t.config},xk=t=>{var e;return(e=tf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function He(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(He())}function rL(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function iL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oL(){const t=He();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function sL(){try{return typeof indexedDB=="object"}catch{return!1}}function aL(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL="FirebaseError";class cr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=lL,Object.setPrototypeOf(this,cr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ts.prototype.create)}}class Ts{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?cL(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new cr(i,a,r)}}function cL(t,e){return t.replace(uL,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const uL=/\{\$([^}]+)}/g;function dL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function xl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(sy(o)&&sy(s)){if(!xl(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function sy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _s(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function hL(t,e){const n=new pL(t,e);return n.subscribe.bind(n)}class pL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");fL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=yu),i.error===void 0&&(i.error=yu),i.complete===void 0&&(i.complete=yu);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function yu(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(t){return t&&t._delegate?t._delegate:t}class Di{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new tL;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vL(e))try{this.getOrInitializeService({instanceIdentifier:yr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=yr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=yr){return this.instances.has(e)}getOptions(e=yr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:gL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=yr){return this.component?this.component.multipleInstances?e:yr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gL(t){return t===yr?void 0:t}function vL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new mL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ee;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ee||(ee={}));const wL={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},bL=ee.INFO,kL={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},xL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=kL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ek{constructor(e){this.name=e,this._logLevel=bL,this._logHandler=xL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...e),this._logHandler(this,ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...e),this._logHandler(this,ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...e),this._logHandler(this,ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...e),this._logHandler(this,ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...e),this._logHandler(this,ee.ERROR,...e)}}const EL=(t,e)=>e.some(n=>t instanceof n);let ay,ly;function SL(){return ay||(ay=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CL(){return ly||(ly=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Sk=new WeakMap,th=new WeakMap,Ck=new WeakMap,wu=new WeakMap,nf=new WeakMap;function TL(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Yn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&Sk.set(n,t)}).catch(()=>{}),nf.set(e,t),e}function _L(t){if(th.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});th.set(t,e)}let nh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return th.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ck.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function IL(t){nh=t(nh)}function PL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(bu(this),e,...n);return Ck.set(r,e.sort?e.sort():[e]),Yn(r)}:CL().includes(t)?function(...e){return t.apply(bu(this),e),Yn(Sk.get(this))}:function(...e){return Yn(t.apply(bu(this),e))}}function AL(t){return typeof t=="function"?PL(t):(t instanceof IDBTransaction&&_L(t),EL(t,SL())?new Proxy(t,nh):t)}function Yn(t){if(t instanceof IDBRequest)return TL(t);if(wu.has(t))return wu.get(t);const e=AL(t);return e!==t&&(wu.set(t,e),nf.set(e,t)),e}const bu=t=>nf.get(t);function OL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Yn(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Yn(s.result),l.oldVersion,l.newVersion,Yn(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const BL=["get","getKey","getAll","getAllKeys","count"],LL=["put","add","delete","clear"],ku=new Map;function cy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ku.get(e))return ku.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=LL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||BL.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return ku.set(e,o),o}IL(t=>({...t,get:(e,n,r)=>cy(e,n)||t.get(e,n,r),has:(e,n)=>!!cy(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(NL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function NL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const rh="@firebase/app",uy="0.10.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wn=new Ek("@firebase/app"),RL="@firebase/app-compat",DL="@firebase/analytics-compat",jL="@firebase/analytics",FL="@firebase/app-check-compat",$L="@firebase/app-check",UL="@firebase/auth",VL="@firebase/auth-compat",HL="@firebase/database",zL="@firebase/database-compat",WL="@firebase/functions",KL="@firebase/functions-compat",qL="@firebase/installations",GL="@firebase/installations-compat",YL="@firebase/messaging",XL="@firebase/messaging-compat",JL="@firebase/performance",QL="@firebase/performance-compat",ZL="@firebase/remote-config",eM="@firebase/remote-config-compat",tM="@firebase/storage",nM="@firebase/storage-compat",rM="@firebase/firestore",iM="@firebase/vertexai-preview",oM="@firebase/firestore-compat",sM="firebase",aM="10.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih="[DEFAULT]",lM={[rh]:"fire-core",[RL]:"fire-core-compat",[jL]:"fire-analytics",[DL]:"fire-analytics-compat",[$L]:"fire-app-check",[FL]:"fire-app-check-compat",[UL]:"fire-auth",[VL]:"fire-auth-compat",[HL]:"fire-rtdb",[zL]:"fire-rtdb-compat",[WL]:"fire-fn",[KL]:"fire-fn-compat",[qL]:"fire-iid",[GL]:"fire-iid-compat",[YL]:"fire-fcm",[XL]:"fire-fcm-compat",[JL]:"fire-perf",[QL]:"fire-perf-compat",[ZL]:"fire-rc",[eM]:"fire-rc-compat",[tM]:"fire-gcs",[nM]:"fire-gcs-compat",[rM]:"fire-fst",[oM]:"fire-fst-compat",[iM]:"fire-vertex","fire-js":"fire-js",[sM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El=new Map,cM=new Map,oh=new Map;function dy(t,e){try{t.container.addComponent(e)}catch(n){wn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ls(t){const e=t.name;if(oh.has(e))return wn.debug(`There were multiple attempts to register component ${e}.`),!1;oh.set(e,t);for(const n of El.values())dy(n,t);for(const n of cM.values())dy(n,t);return!0}function Tk(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function tn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xn=new Ts("app","Firebase",uM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Di("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is=aM;function _k(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ih,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Xn.create("bad-app-name",{appName:String(i)});if(n||(n=kk()),!n)throw Xn.create("no-options");const o=El.get(i);if(o){if(xl(n,o.options)&&xl(r,o.config))return o;throw Xn.create("duplicate-app",{appName:i})}const s=new yL(i);for(const l of oh.values())s.addComponent(l);const a=new dM(n,r,s);return El.set(i,a),a}function hM(t=ih){const e=El.get(t);if(!e&&t===ih&&kk())return _k();if(!e)throw Xn.create("no-app",{appName:t});return e}function xi(t,e,n){var r;let i=(r=lM[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wn.warn(a.join(" "));return}ls(new Di(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM="firebase-heartbeat-database",fM=1,cs="firebase-heartbeat-store";let xu=null;function Ik(){return xu||(xu=OL(pM,fM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(cs)}catch(n){console.warn(n)}}}}).catch(t=>{throw Xn.create("idb-open",{originalErrorMessage:t.message})})),xu}async function mM(t){try{const n=(await Ik()).transaction(cs),r=await n.objectStore(cs).get(Pk(t));return await n.done,r}catch(e){if(e instanceof cr)wn.warn(e.message);else{const n=Xn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});wn.warn(n.message)}}}async function hy(t,e){try{const r=(await Ik()).transaction(cs,"readwrite");await r.objectStore(cs).put(e,Pk(t)),await r.done}catch(n){if(n instanceof cr)wn.warn(n.message);else{const r=Xn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});wn.warn(r.message)}}}function Pk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM=1024,vM=30*24*60*60*1e3;class yM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new bM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=py();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=vM}),this._storage.overwrite(this._heartbeatsCache))}catch(r){wn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=py(),{heartbeatsToSend:r,unsentEntries:i}=wM(this._heartbeatsCache.heartbeats),o=wk(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return wn.warn(n),""}}}function py(){return new Date().toISOString().substring(0,10)}function wM(t,e=gM){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),fy(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),fy(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class bM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sL()?aL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await mM(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return hy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return hy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function fy(t){return wk(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kM(t){ls(new Di("platform-logger",e=>new ML(e),"PRIVATE")),ls(new Di("heartbeat",e=>new yM(e),"PRIVATE")),xi(rh,uy,t),xi(rh,uy,"esm2017"),xi("fire-js","")}kM("");var xM="firebase",EM="10.13.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xi(xM,EM,"app");function rf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Ak(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const SM=Ak,Ok=new Ts("auth","Firebase",Ak());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sl=new Ek("@firebase/auth");function CM(t,...e){Sl.logLevel<=ee.WARN&&Sl.warn(`Auth (${Is}): ${t}`,...e)}function Pa(t,...e){Sl.logLevel<=ee.ERROR&&Sl.error(`Auth (${Is}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(t,...e){throw sf(t,...e)}function Pt(t,...e){return sf(t,...e)}function of(t,e,n){const r=Object.assign(Object.assign({},SM()),{[e]:n});return new Ts("auth","Firebase",r).create(e,{appName:t.name})}function Or(t){return of(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function TM(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ht(t,"argument-error"),of(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function sf(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Ok.create(t,...e)}function j(t,e,...n){if(!t)throw sf(e,...n)}function nn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Pa(e),new Error(e)}function bn(t,e){t||nn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sh(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function _M(){return my()==="http:"||my()==="https:"}function my(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_M()||rL()||"connection"in navigator)?navigator.onLine:!0}function PM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e,n){this.shortDelay=e,this.longDelay=n,bn(n>e,"Short delay should be less than long delay!"),this.isMobile=nL()||iL()}get(){return IM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function af(t,e){bn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;nn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;nn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;nn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM=new Ps(3e4,6e4);function lf(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Yi(t,e,n,r,i={}){return Lk(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=_s(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),Bk.fetch()(Mk(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},o))})}async function Lk(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},AM),e);try{const i=new LM(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw oa(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw oa(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw oa(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw oa(t,"user-disabled",s);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw of(t,u,c);Ht(t,u)}}catch(i){if(i instanceof cr)throw i;Ht(t,"network-request-failed",{message:String(i)})}}async function BM(t,e,n,r,i={}){const o=await Yi(t,e,n,r,i);return"mfaPendingCredential"in o&&Ht(t,"multi-factor-auth-required",{_serverResponse:o}),o}function Mk(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?af(t.config,i):`${t.config.apiScheme}://${i}`}class LM{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Pt(this.auth,"network-request-failed")),OM.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function oa(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Pt(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MM(t,e){return Yi(t,"POST","/v1/accounts:delete",e)}async function Nk(t,e){return Yi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function No(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function NM(t,e=!1){const n=Gi(t),r=await n.getIdToken(e),i=cf(r);j(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:No(Eu(i.auth_time)),issuedAtTime:No(Eu(i.iat)),expirationTime:No(Eu(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Eu(t){return Number(t)*1e3}function cf(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Pa("JWT malformed, contained fewer than 3 sections"),null;try{const i=bk(n);return i?JSON.parse(i):(Pa("Failed to decode base64 JWT payload"),null)}catch(i){return Pa("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function gy(t){const e=cf(t);return j(e,"internal-error"),j(typeof e.exp<"u","internal-error"),j(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function us(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof cr&&RM(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function RM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=No(this.lastLoginAt),this.creationTime=No(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cl(t){var e;const n=t.auth,r=await t.getIdToken(),i=await us(t,Nk(n,{idToken:r}));j(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Rk(o.providerUserInfo):[],a=FM(t.providerData,s),l=t.isAnonymous,c=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new ah(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function jM(t){const e=Gi(t);await Cl(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function FM(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Rk(t){return t.map(e=>{var{providerId:n}=e,r=rf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $M(t,e){const n=await Lk(t,{},async()=>{const r=_s({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=Mk(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Bk.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function UM(t,e){return Yi(t,"POST","/v2/accounts:revokeToken",lf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){j(e.idToken,"internal-error"),j(typeof e.idToken<"u","internal-error"),j(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):gy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){j(e.length!==0,"internal-error");const n=gy(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(j(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await $M(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Ei;return r&&(j(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(j(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(j(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ei,this.toJSON())}_performRefresh(){return nn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(t,e){j(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class rn{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=rf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new DM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ah(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await us(this,this.stsTokenManager.getToken(this.auth,e));return j(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return NM(this,e)}reload(){return jM(this)}_assign(e){this!==e&&(j(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new rn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){j(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Cl(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(tn(this.auth.app))return Promise.reject(Or(this.auth));const e=await this.getIdToken();return await us(this,MM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,c,u;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,f=(s=n.photoURL)!==null&&s!==void 0?s:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(c=n.createdAt)!==null&&c!==void 0?c:void 0,p=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:v,emailVerified:k,isAnonymous:x,providerData:T,stsTokenManager:P}=n;j(v&&P,e,"internal-error");const S=Ei.fromJSON(this.name,P);j(typeof v=="string",e,"internal-error"),Cn(d,e.name),Cn(h,e.name),j(typeof k=="boolean",e,"internal-error"),j(typeof x=="boolean",e,"internal-error"),Cn(y,e.name),Cn(f,e.name),Cn(m,e.name),Cn(w,e.name),Cn(g,e.name),Cn(p,e.name);const I=new rn({uid:v,auth:e,email:h,emailVerified:k,displayName:d,isAnonymous:x,photoURL:f,phoneNumber:y,tenantId:m,stsTokenManager:S,createdAt:g,lastLoginAt:p});return T&&Array.isArray(T)&&(I.providerData=T.map(A=>Object.assign({},A))),w&&(I._redirectEventId=w),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ei;i.updateFromServerResponse(n);const o=new rn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Cl(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];j(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?Rk(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new Ei;a.updateFromIdToken(r);const l=new rn({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new ah(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy=new Map;function on(t){bn(t instanceof Function,"Expected a class definition");let e=vy.get(t);return e?(bn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,vy.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Dk.type="NONE";const yy=Dk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aa(t,e,n){return`firebase:${t}:${e}:${n}`}class Si{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Aa(this.userKey,i.apiKey,o),this.fullPersistenceKey=Aa("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?rn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Si(on(yy),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let o=i[0]||on(yy);const s=Aa(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(s);if(u){const d=rn._fromJSON(e,u);c!==o&&(a=d),o=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Si(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==o)try{await c._remove(s)}catch{}})),new Si(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wy(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Uk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Hk(e))return"Blackberry";if(zk(e))return"Webos";if(Fk(e))return"Safari";if((e.includes("chrome/")||$k(e))&&!e.includes("edge/"))return"Chrome";if(Vk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function jk(t=He()){return/firefox\//i.test(t)}function Fk(t=He()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $k(t=He()){return/crios\//i.test(t)}function Uk(t=He()){return/iemobile/i.test(t)}function Vk(t=He()){return/android/i.test(t)}function Hk(t=He()){return/blackberry/i.test(t)}function zk(t=He()){return/webos/i.test(t)}function uf(t=He()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function VM(t=He()){var e;return uf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function HM(){return oL()&&document.documentMode===10}function Wk(t=He()){return uf(t)||Vk(t)||zk(t)||Hk(t)||/windows phone/i.test(t)||Uk(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(t,e=[]){let n;switch(t){case"Browser":n=wy(He());break;case"Worker":n=`${wy(He())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Is}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WM(t,e={}){return Yi(t,"GET","/v2/passwordPolicy",lf(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KM=6;class qM{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:KM,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new by(this),this.idTokenSubscription=new by(this),this.beforeStateQueue=new zM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ok,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=on(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Si.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Nk(this,{idToken:e}),r=await rn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(tn(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return j(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Cl(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=PM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(tn(this.app))return Promise.reject(Or(this));const n=e?Gi(e):null;return n&&j(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&j(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return tn(this.app)?Promise.reject(Or(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return tn(this.app)?Promise.reject(Or(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(on(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await WM(this),n=new qM(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ts("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await UM(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&on(e)||this._popupRedirectResolver;j(n,this,"argument-error"),this.redirectPersistenceManager=await Si.create(this,[on(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(j(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return j(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Kk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&CM(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function vc(t){return Gi(t)}class by{constructor(e){this.auth=e,this.observer=null,this.addObserver=hL(n=>this.observer=n)}get next(){return j(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let df={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function YM(t){df=t}function XM(t){return df.loadJS(t)}function JM(){return df.gapiScript}function QM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZM(t,e){const n=Tk(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(xl(o,e??{}))return i;Ht(i,"already-initialized")}return n.initialize({options:e})}function eN(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(on);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function tN(t,e,n){const r=vc(t);j(r._canInitEmulator,r,"emulator-config-failed"),j(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=qk(e),{host:s,port:a}=nN(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),rN()}function qk(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function nN(t){const e=qk(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:ky(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:ky(s)}}}function ky(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function rN(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return nn("not implemented")}_getIdTokenResponse(e){return nn("not implemented")}_linkToIdToken(e,n){return nn("not implemented")}_getReauthenticationResolver(e){return nn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ci(t,e){return BM(t,"POST","/v1/accounts:signInWithIdp",lf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN="http://localhost";class Fr extends Gk{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Fr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ht("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=rf(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new Fr(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Ci(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ci(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ci(e,n)}buildRequest(){const e={requestUri:iN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=_s(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends hf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn extends As{constructor(){super("facebook.com")}static credential(e){return Fr._fromParams({providerId:Mn.PROVIDER_ID,signInMethod:Mn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mn.credentialFromTaggedObject(e)}static credentialFromError(e){return Mn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mn.credential(e.oauthAccessToken)}catch{return null}}}Mn.FACEBOOK_SIGN_IN_METHOD="facebook.com";Mn.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt extends As{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Fr._fromParams({providerId:Jt.PROVIDER_ID,signInMethod:Jt.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Jt.credentialFromTaggedObject(e)}static credentialFromError(e){return Jt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Jt.credential(n,r)}catch{return null}}}Jt.GOOGLE_SIGN_IN_METHOD="google.com";Jt.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn extends As{constructor(){super("github.com")}static credential(e){return Fr._fromParams({providerId:Nn.PROVIDER_ID,signInMethod:Nn.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Nn.credentialFromTaggedObject(e)}static credentialFromError(e){return Nn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Nn.credential(e.oauthAccessToken)}catch{return null}}}Nn.GITHUB_SIGN_IN_METHOD="github.com";Nn.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn extends As{constructor(){super("twitter.com")}static credential(e,n){return Fr._fromParams({providerId:Rn.PROVIDER_ID,signInMethod:Rn.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Rn.credentialFromTaggedObject(e)}static credentialFromError(e){return Rn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Rn.credential(n,r)}catch{return null}}}Rn.TWITTER_SIGN_IN_METHOD="twitter.com";Rn.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await rn._fromIdTokenResponse(e,r,i),s=xy(r);return new ji({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=xy(r);return new ji({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function xy(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl extends cr{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Tl.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Tl(e,n,r,i)}}function Yk(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Tl._fromErrorAndOperation(t,o,e,r):o})}async function oN(t,e,n=!1){const r=await us(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ji._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sN(t,e,n=!1){const{auth:r}=t;if(tn(r.app))return Promise.reject(Or(r));const i="reauthenticate";try{const o=await us(t,Yk(r,i,e,t),n);j(o.idToken,r,"internal-error");const s=cf(o.idToken);j(s,r,"internal-error");const{sub:a}=s;return j(t.uid===a,r,"user-mismatch"),ji._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Ht(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aN(t,e,n=!1){if(tn(t.app))return Promise.reject(Or(t));const r="signIn",i=await Yk(t,r,e),o=await ji._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function lN(t,e,n,r){return Gi(t).onIdTokenChanged(e,n,r)}function cN(t,e,n){return Gi(t).beforeAuthStateChanged(e,n)}const _l="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_l,"1"),this.storage.removeItem(_l),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN=1e3,dN=10;class Jk extends Xk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Wk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);HM()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,dN):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},uN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Jk.type="LOCAL";const hN=Jk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk extends Xk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Qk.type="SESSION";const Zk=Qk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new yc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async c=>c(n.origin,o)),l=await pN(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pf(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const c=pf("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(u),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(){return window}function mN(t){Ut().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(){return typeof Ut().WorkerGlobalScope<"u"&&typeof Ut().importScripts=="function"}async function gN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function vN(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function yN(){return ex()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx="firebaseLocalStorageDb",wN=1,Il="firebaseLocalStorage",nx="fbase_key";class Os{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function wc(t,e){return t.transaction([Il],e?"readwrite":"readonly").objectStore(Il)}function bN(){const t=indexedDB.deleteDatabase(tx);return new Os(t).toPromise()}function lh(){const t=indexedDB.open(tx,wN);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Il,{keyPath:nx})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Il)?e(r):(r.close(),await bN(),e(await lh()))})})}async function Ey(t,e,n){const r=wc(t,!0).put({[nx]:e,value:n});return new Os(r).toPromise()}async function kN(t,e){const n=wc(t,!1).get(e),r=await new Os(n).toPromise();return r===void 0?null:r.value}function Sy(t,e){const n=wc(t,!0).delete(e);return new Os(n).toPromise()}const xN=800,EN=3;class rx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lh(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>EN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ex()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yc._getInstance(yN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await gN(),!this.activeServiceWorker)return;this.sender=new fN(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||vN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await lh();return await Ey(e,_l,"1"),await Sy(e,_l),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Ey(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>kN(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Sy(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=wc(i,!1).getAll();return new Os(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),xN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rx.type="LOCAL";const SN=rx;new Ps(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(t,e){return e?on(e):(j(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff extends Gk{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ci(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ci(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ci(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function CN(t){return aN(t.auth,new ff(t),t.bypassAuthState)}function TN(t){const{auth:e,user:n}=t;return j(n,e,"internal-error"),sN(n,new ff(t),t.bypassAuthState)}async function _N(t){const{auth:e,user:n}=t;return j(n,e,"internal-error"),oN(n,new ff(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return CN;case"linkViaPopup":case"linkViaRedirect":return _N;case"reauthViaPopup":case"reauthViaRedirect":return TN;default:Ht(this.auth,"internal-error")}}resolve(e){bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=new Ps(2e3,1e4);async function PN(t,e,n){if(tn(t.app))return Promise.reject(Pt(t,"operation-not-supported-in-this-environment"));const r=vc(t);TM(t,e,hf);const i=ix(r,n);return new Cr(r,"signInViaPopup",e,i).executeNotNull()}class Cr extends ox{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Cr.currentPopupAction&&Cr.currentPopupAction.cancel(),Cr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return j(e,this.auth,"internal-error"),e}async onExecution(){bn(this.filter.length===1,"Popup operations only handle one event");const e=pf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Pt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Cr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,IN.get())};e()}}Cr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN="pendingRedirect",Oa=new Map;class ON extends ox{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Oa.get(this.auth._key());if(!e){try{const r=await BN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Oa.set(this.auth._key(),e)}return this.bypassAuthState||Oa.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function BN(t,e){const n=NN(e),r=MN(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function LN(t,e){Oa.set(t._key(),e)}function MN(t){return on(t._redirectPersistence)}function NN(t){return Aa(AN,t.config.apiKey,t.name)}async function RN(t,e,n=!1){if(tn(t.app))return Promise.reject(Or(t));const r=vc(t),i=ix(r,e),s=await new ON(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN=10*60*1e3;class jN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!FN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!sx(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Pt(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=DN&&this.cachedEventUids.clear(),this.cachedEventUids.has(Cy(e))}saveEventToCache(e){this.cachedEventUids.add(Cy(e)),this.lastProcessedEventTime=Date.now()}}function Cy(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function sx({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function FN(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sx(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $N(t,e={}){return Yi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,VN=/^https?/;async function HN(t){if(t.config.emulator)return;const{authorizedDomains:e}=await $N(t);for(const n of e)try{if(zN(n))return}catch{}Ht(t,"unauthorized-domain")}function zN(t){const e=sh(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!VN.test(n))return!1;if(UN.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN=new Ps(3e4,6e4);function Ty(){const t=Ut().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function KN(t){return new Promise((e,n)=>{var r,i,o;function s(){Ty(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ty(),n(Pt(t,"network-request-failed"))},timeout:WN.get()})}if(!((i=(r=Ut().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Ut().gapi)===null||o===void 0)&&o.load)s();else{const a=QM("iframefcb");return Ut()[a]=()=>{gapi.load?s():n(Pt(t,"network-request-failed"))},XM(`${JM()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Ba=null,e})}let Ba=null;function qN(t){return Ba=Ba||KN(t),Ba}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN=new Ps(5e3,15e3),YN="__/auth/iframe",XN="emulator/auth/iframe",JN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},QN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZN(t){const e=t.config;j(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?af(e,XN):`https://${t.config.authDomain}/${YN}`,r={apiKey:e.apiKey,appName:t.name,v:Is},i=QN.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${_s(r).slice(1)}`}async function eR(t){const e=await qN(t),n=Ut().gapi;return j(n,t,"internal-error"),e.open({where:document.body,url:ZN(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:JN,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Pt(t,"network-request-failed"),a=Ut().setTimeout(()=>{o(s)},GN.get());function l(){Ut().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nR=500,rR=600,iR="_blank",oR="http://localhost";class _y{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sR(t,e,n,r=nR,i=rR){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},tR),{width:r.toString(),height:i.toString(),top:o,left:s}),c=He().toLowerCase();n&&(a=$k(c)?iR:n),jk(c)&&(e=e||oR,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[y,f])=>`${h}${y}=${f},`,"");if(VM(c)&&a!=="_self")return aR(e||"",a),new _y(null);const d=window.open(e||"",a,u);j(d,t,"popup-blocked");try{d.focus()}catch{}return new _y(d)}function aR(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR="__/auth/handler",cR="emulator/auth/handler",uR=encodeURIComponent("fac");async function Iy(t,e,n,r,i,o){j(t.config.authDomain,t,"auth-domain-config-required"),j(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Is,eventId:i};if(e instanceof hf){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",dL(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))s[u]=d}if(e instanceof As){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${uR}=${encodeURIComponent(l)}`:"";return`${dR(t)}?${_s(a).slice(1)}${c}`}function dR({config:t}){return t.emulator?af(t,cR):`https://${t.authDomain}/${lR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Su="webStorageSupport";class hR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Zk,this._completeRedirectFn=RN,this._overrideRedirectResult=LN}async _openPopup(e,n,r,i){var o;bn((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await Iy(e,n,r,sh(),i);return sR(e,s,pf())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await Iy(e,n,r,sh(),i);return mN(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(bn(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await eR(e),r=new jN(e);return n.register("authEvent",i=>(j(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Su,{type:Su},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Su];s!==void 0&&n(!!s),Ht(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=HN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Wk()||Fk()||uf()}}const pR=hR;var Py="@firebase/auth",Ay="1.7.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){j(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function gR(t){ls(new Di("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;j(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Kk(t)},c=new GM(r,i,o,l);return eN(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ls(new Di("auth-internal",e=>{const n=vc(e.getProvider("auth").getImmediate());return(r=>new fR(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),xi(Py,Ay,mR(t)),xi(Py,Ay,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=5*60,yR=xk("authIdTokenMaxAge")||vR;let Oy=null;const wR=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>yR)return;const i=n==null?void 0:n.token;Oy!==i&&(Oy=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function bR(t=hM()){const e=Tk(t,"auth");if(e.isInitialized())return e.getImmediate();const n=ZM(t,{popupRedirectResolver:pR,persistence:[SN,hN,Zk]}),r=xk("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=wR(o.toString());cN(n,s,()=>s(n.currentUser)),lN(n,a=>s(a))}}const i=eL("auth");return i&&tN(n,`http://${i}`),n}function kR(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}YM({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Pt("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",kR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});gR("Browser");const xR={apiKey:"AIzaSyB13XM-gN4ZtIqOiTD6sSAJig5deXQhnJo",authDomain:"monogatari-react.firebaseapp.com",projectId:"monogatari-react",storageBucket:"monogatari-react.appspot.com",messagingSenderId:"939459989479",appId:"1:939459989479:web:535227f95c41b8aa1bf742"},ER=_k(xR),SR=new Jt,CR=bR(ER),TR=async()=>{try{return{idToken:await(await PN(CR,SR)).user.getIdToken()}}catch(t){throw console.error("Error during Google authentication:",t),t}},By=({type:t})=>{let{userAuth:{access_token:e},setUserAuth:n}=E.useContext(Wr);const r=(s,a)=>{Y.post("https://monogatari-backend.vercel.app/"+s,a,{headers:{"Content-Type":"application/json"}}).then(({data:l})=>{EA("user",JSON.stringify(l)),n(l)}).catch(l=>{console.error("Error detail dari server:",l.response||l),l.response?U.error(l.response.data.error):U.error("An error occurred while connecting to the server"),console.error("Error:",l)})},i=s=>{s.preventDefault();let a=t==="signIn"?"/signIn":"/signUp",l=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,c=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,20}$/,u=new FormData(formElement),d={};for(let[m,w]of u.entries())d[m]=w;let{fullname:h,email:y,password:f}=d;if(h&&h.length<3)return U.error("Fullname must be at least 3 characters");if(!y.length)return U.error("Email is required");if(!l.test(y))return U.error("Email is not valid");if(!c.test(f))return U.error("Password should be 6 to 20 characters long with at least 1 number, 1 uppercase, and 1 lowercase letter");r(a,d)},o=s=>{s.preventDefault(),TR().then(({idToken:a})=>{r("/google-auth",{idToken:a})}).catch(a=>{console.error("Error detail:",a),U.error("Failed to login with Google: "+a.message),console.error(a)})};return e?b.jsx(gw,{to:"/"}):b.jsx(gt,{keyValue:t,children:b.jsxs("section",{className:"h-cover flex items-center justify-center",children:[b.jsx(Yp,{}),b.jsxs("form",{id:"formElement",action:"",className:"w-[80%] max-w-[400px]",children:[b.jsx("h1",{className:"text-4xl font-bold mb-24 text-center",children:t==="signIn"?"Welcome Back":"Join the Community"}),t!="signIn"?b.jsx(pu,{name:"fullname",type:"text",placeholder:"Full Name",icon:"fi-rr-user"}):"",b.jsx(pu,{name:"email",type:"email",placeholder:"Email",icon:"fi-rr-at"}),b.jsx(pu,{name:"password",type:"password",placeholder:"Password",icon:"fi-rr-lock"}),b.jsx("button",{className:"whitespace-nowrap bg-black text-white rounded-md py-3 px-6 text-xl capitalize hover:bg-opacity-80 center mt-14",type:"submit",onClick:i,children:t==="signIn"?"Sign In":"Sign Up"}),b.jsxs("div",{className:"relative w-full flex items-center gap-2 my-10 opacity-10 uppercase text-black font-bold ",children:[b.jsx("hr",{className:"w-1/2 border-black"}),b.jsx("p",{children:"or"}),b.jsx("hr",{className:"w-1/2 border-black"})]}),b.jsxs("button",{className:"btn-dark flex items-center justify-center w-[90%] center gap-4",onClick:o,children:[b.jsx("img",{src:IA,className:"w-5"}),"continue with google"]}),t=="signIn"?b.jsxs("p",{className:"mt-6 text-dark-grey text-xl text-center",children:["Don't have an account yet?",b.jsx(qe,{to:"/signUp",className:"underline ml-1",children:"Join Us"})]}):b.jsxs("p",{className:"mt-6 text-dark-grey text-xl text-center",children:["Already have an account?",b.jsx(qe,{to:"/signIn",className:"underline ml-1",children:"Sign in here."})]})]})]})})},_R=({tag:t,tagIndex:e})=>{let{blog:n,blog:{tags:r}}=E.useContext(Cc);const i=a=>{a.target.setAttribute("contentEditable","true"),a.target.focus()},o=a=>{if(a.keyCode==13||a.keyCode==188){a.preventDefault();let l=a.target.innerText;r[e]=l,setBlog({...n,tags:r}),a.target.setAttribute("contentEditable","false")}},s=()=>{r=r.filter(a=>a!=t),setBlog({...n,tags:r})};return b.jsxs("div",{className:"relative p-2 mt-2 mr-2 px-5 bg-white rounded-full inline-block hover:opacity-50 pr-8",children:[b.jsx("p",{className:" outline-none",onKeyDown:o,onClick:i,contentEditable:"true",children:t}),b.jsx("button",{className:"mt-[2px] rounded-full absolute top-1/2 right-2 -translate-y-1/2",onClick:s,children:b.jsx("i",{className:"fi fi-br-cross text-sm pointer-events-none"})})]})},IR=()=>{let t=200,e=10,{blog:n,blog:{banner:r,title:i,tags:o,des:s,content:a},setEditorState:l,setBlog:c}=E.useContext(Cc),{userAuth:{access_token:u}}=E.useContext(Wr),d=Wt();const h=()=>{l("editor")},y=p=>{let v=p.target;c({...n,title:v.value})},f=p=>{let v=p.target;c({...n,des:v.value})},m=p=>{p.keyCode==13&&p.preventDefault()},w=p=>{if(p.keyCode==13||p.keyCode==188){p.preventDefault();let v=p.target.value;o.length<e?!o.includes(v)&&v.length&&c({...n,tags:[...o,v]}):U.error(`You can only add ${e} Tags`),p.target.value=""}},g=p=>{if(p.target.className.includes("disable"))return;if(!i.length)return U.error("write blog title before publish");if(!s.length||s.length>t)return U.error(`write blog description before publish ${t} characters to publish`);if(!r.length)return U.error("Please fill all the fields");if(!o.length)return U.error("Please add at least 1 tag");let v=U.loading("Publishing...");p.target.classList.add("disable");let k={title:i,banner:r,des:s,tags:o,content:a,draft:!1};Y.post("https://monogatari-backend.vercel.app//create-blog",k,{headers:{Authorization:`Bearer ${u}`}}).then(()=>{p.target.classList.remove("disable"),U.dismiss(v),U.success("Published Successfully"),setTimeout(()=>{d("/blog")},500)}).catch(({response:x})=>(p.target.classList.remove("disable"),U.dismiss(v),U.error(x.data.error)))};return b.jsx(gt,{children:b.jsxs("section",{className:"w-screen min-h-screen grid items-center lg:grid-cols-2 py-16 lg:gap-4",children:[b.jsx(Yp,{}),b.jsx("button",{className:"w-12 h-12 absolute right-[5vw] z-10 top-[5%] lg:top-[10%]",onClick:h,children:b.jsx("i",{className:"fi fi-br-cross"})}),b.jsxs("div",{className:"max-w-[550px] center",children:[b.jsx("p",{className:"text-dark-grey mb-1",children:"Preview"}),b.jsx("div",{className:"w-full aspect-video rounded-lg overflow-hidden bg-grey mt-4",children:b.jsx("img",{src:r,alt:""})}),b.jsx("h1",{className:"text-4xl font-medium mt-4 leading-tight line-clamp-2 ",children:i}),b.jsx("p",{className:"font-gelasio mt-4 line-clamp-2 leading-relaxed",children:s})]}),b.jsxs("div",{className:"border-grey lg:border-1 ",children:[b.jsx("p",{className:"text-dark-grey mb-2 mt-9",children:"Blog Title"}),b.jsx("input",{type:"text",placeholder:"Blog Title",defaultValue:i,className:"input-box pl-4",onChange:y}),b.jsx("p",{className:"text-dark-grey mb-2 mt-9",children:"Short description"}),b.jsx("textarea",{maxLength:t,placeholder:"Short description",defaultValue:s,className:"h-40 resize-none input-box pl-4 leading-7 input-box",onChange:f,onKeyDown:m}),b.jsxs("p",{className:"text-dark-grey mt-2 text-sm text-right",children:[t-s.length," characters left"]}),b.jsx("p",{children:"Topics - (Help is searching and rangking your blog) "}),b.jsxs("div",{className:"relative input-box pl-2 py-2 pb-4",children:[b.jsx("input",{type:"text",placeholder:"Topics",className:"sticky input-box bg-white top-0 left-0 pl-4 mb-3 focus:bg-white",onKeyDown:w}),o.map((p,v)=>b.jsx(_R,{tag:p,tagIndex:v},v))]}),b.jsxs("p",{className:" mt-1 mb-4 text-dark-grey text-sm text-right",children:[e-o.length," Tags left"]}),b.jsx("button",{className:"btn-dark px-8",onClick:g,children:"Publish"})]})]})})},PR="/assets/uploadbanner.png",ax=async t=>{let e=null;return await Y.get("https://monogatari-backend.vercel.app//image-upload-url").then(async({data:{uploadURL:n}})=>{await Y({method:"PUT",url:n,headers:{"Content-Type":"image/jpeg"},data:t}).then(()=>{e=n.split("?")[0]})}),e};(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".ce-hint--align-start{text-align:left}.ce-hint--align-center{text-align:center}.ce-hint__description{opacity:.6;margin-top:3px}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();var AR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Cu(){}Object.assign(Cu,{default:Cu,register:Cu,revert:function(){},__esModule:!0});Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){const e=(this.document||this.ownerDocument).querySelectorAll(t);let n=e.length;for(;--n>=0&&e.item(n)!==this;);return n>-1});Element.prototype.closest||(Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(e!==null);return null});Element.prototype.prepend||(Element.prototype.prepend=function(t){const e=document.createDocumentFragment();Array.isArray(t)||(t=[t]),t.forEach(n=>{const r=n instanceof Node;e.appendChild(r?n:document.createTextNode(n))}),this.insertBefore(e,this.firstChild)});Element.prototype.scrollIntoViewIfNeeded||(Element.prototype.scrollIntoViewIfNeeded=function(t){t=arguments.length===0?!0:!!t;const e=this.parentNode,n=window.getComputedStyle(e,null),r=parseInt(n.getPropertyValue("border-top-width")),i=parseInt(n.getPropertyValue("border-left-width")),o=this.offsetTop-e.offsetTop<e.scrollTop,s=this.offsetTop-e.offsetTop+this.clientHeight-r>e.scrollTop+e.clientHeight,a=this.offsetLeft-e.offsetLeft<e.scrollLeft,l=this.offsetLeft-e.offsetLeft+this.clientWidth-i>e.scrollLeft+e.clientWidth,c=o&&!s;(o||s)&&t&&(e.scrollTop=this.offsetTop-e.offsetTop-e.clientHeight/2-r+this.clientHeight/2),(a||l)&&t&&(e.scrollLeft=this.offsetLeft-e.offsetLeft-e.clientWidth/2-i+this.clientWidth/2),(o||s||a||l)&&!t&&this.scrollIntoView(c)});window.requestIdleCallback=window.requestIdleCallback||function(t){const e=Date.now();return setTimeout(function(){t({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-e))}})},1)};window.cancelIdleCallback=window.cancelIdleCallback||function(t){clearTimeout(t)};let OR=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");var lx=(t=>(t.VERBOSE="VERBOSE",t.INFO="INFO",t.WARN="WARN",t.ERROR="ERROR",t))(lx||{});const $={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91,SLASH:191},BR={LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4};function Bs(t,e,n="log",r,i="color: inherit"){if(!("console"in window)||!window.console[n])return;const o=["info","log","warn","error"].includes(n),s=[];switch(Bs.logLevel){case"ERROR":if(n!=="error")return;break;case"WARN":if(!["error","warn"].includes(n))return;break;case"INFO":if(!o||t)return;break}r&&s.push(r);const a="Editor.js 2.30.6";t&&(o?(s.unshift(`line-height: 1em;
            color: #006FEA;
            display: inline-block;
            font-size: 11px;
            line-height: 1em;
            background-color: #fff;
            padding: 4px 9px;
            border-radius: 30px;
            border: 1px solid rgba(56, 138, 229, 0.16);
            margin: 4px 5px 4px 0;`,i),e=`%c${a}%c ${e}`):e=`( ${a} )${e}`);try{o?r?console[n](`${e} %o`,...s):console[n](e,...s):console[n](e)}catch{}}Bs.logLevel="VERBOSE";function LR(t){Bs.logLevel=t}const X=Bs.bind(window,!1),vt=Bs.bind(window,!0);function $r(t){return Object.prototype.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function ue(t){return $r(t)==="function"||$r(t)==="asyncfunction"}function Ie(t){return $r(t)==="object"}function kn(t){return $r(t)==="string"}function MR(t){return $r(t)==="boolean"}function Ly(t){return $r(t)==="number"}function My(t){return $r(t)==="undefined"}function xt(t){return t?Object.keys(t).length===0&&t.constructor===Object:!0}function cx(t){return t>47&&t<58||t===32||t===13||t===229||t>64&&t<91||t>95&&t<112||t>185&&t<193||t>218&&t<223}async function NR(t,e=()=>{},n=()=>{}){async function r(i,o,s){try{await i.function(i.data),await o(My(i.data)?{}:i.data)}catch{s(My(i.data)?{}:i.data)}}return t.reduce(async(i,o)=>(await i,r(o,e,n)),Promise.resolve())}function ux(t){return Array.prototype.slice.call(t)}function Pl(t,e){return function(){const n=this,r=arguments;window.setTimeout(()=>t.apply(n,r),e)}}function RR(t){return t.name.split(".").pop()}function DR(t){return/^[-\w]+\/([-+\w]+|\*)$/.test(t)}function Ny(t,e,n){let r;return(...i)=>{const o=this,s=()=>{r=null,t.apply(o,i)};window.clearTimeout(r),r=window.setTimeout(s,e)}}function ch(t,e,n=void 0){let r,i,o,s=null,a=0;n||(n={});const l=function(){a=n.leading===!1?0:Date.now(),s=null,o=t.apply(r,i),s||(r=i=null)};return function(){const c=Date.now();!a&&n.leading===!1&&(a=c);const u=e-(c-a);return r=this,i=arguments,u<=0||u>e?(s&&(clearTimeout(s),s=null),a=c,o=t.apply(r,i),s||(r=i=null)):!s&&n.trailing!==!1&&(s=setTimeout(l,u)),o}}function jR(){const t={win:!1,mac:!1,x11:!1,linux:!1},e=Object.keys(t).find(n=>window.navigator.appVersion.toLowerCase().indexOf(n)!==-1);return e&&(t[e]=!0),t}function Al(t){return t[0].toUpperCase()+t.slice(1)}function uh(t,...e){if(!e.length)return t;const n=e.shift();if(Ie(t)&&Ie(n))for(const r in n)Ie(n[r])?(t[r]||Object.assign(t,{[r]:{}}),uh(t[r],n[r])):Object.assign(t,{[r]:n[r]});return uh(t,...e)}function mf(t){const e=jR();return t=t.replace(/shift/gi,"⇧").replace(/backspace/gi,"⌫").replace(/enter/gi,"⏎").replace(/up/gi,"↑").replace(/left/gi,"→").replace(/down/gi,"↓").replace(/right/gi,"←").replace(/escape/gi,"⎋").replace(/insert/gi,"Ins").replace(/delete/gi,"␡").replace(/\+/gi," + "),e.mac?t=t.replace(/ctrl|cmd/gi,"⌘").replace(/alt/gi,"⌥"):t=t.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN"),t}function FR(t){try{return new URL(t).href}catch{}return t.substring(0,2)==="//"?window.location.protocol+t:window.location.origin+t}function $R(){return OR(10)}function UR(t){window.open(t,"_blank")}function VR(t=""){return`${t}${Math.floor(Math.random()*1e8).toString(16)}`}function dh(t,e,n){const r=`«${e}» is deprecated and will be removed in the next major release. Please use the «${n}» instead.`;t&&vt(r,"warn")}function Xi(t,e,n){const r=n.value?"value":"get",i=n[r],o=`#${e}Cache`;if(n[r]=function(...s){return this[o]===void 0&&(this[o]=i.apply(this,...s)),this[o]},r==="get"&&n.set){const s=n.set;n.set=function(a){delete t[o],s.apply(this,a)}}return n}const dx=650;function Ji(){return window.matchMedia(`(max-width: ${dx}px)`).matches}const hh=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);function HR(t,e){const n=Array.isArray(t)||Ie(t),r=Array.isArray(e)||Ie(e);return n||r?JSON.stringify(t)===JSON.stringify(e):t===e}let _=class Fe{static isSingleTag(e){return e.tagName&&["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(e.tagName)}static isLineBreakTag(e){return e&&e.tagName&&["BR","WBR"].includes(e.tagName)}static make(e,n=null,r={}){const i=document.createElement(e);if(Array.isArray(n)){const o=n.filter(s=>s!==void 0);i.classList.add(...o)}else n&&i.classList.add(n);for(const o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o]);return i}static text(e){return document.createTextNode(e)}static append(e,n){Array.isArray(n)?n.forEach(r=>e.appendChild(r)):e.appendChild(n)}static prepend(e,n){Array.isArray(n)?(n=n.reverse(),n.forEach(r=>e.prepend(r))):e.prepend(n)}static swap(e,n){const r=document.createElement("div"),i=e.parentNode;i.insertBefore(r,e),i.insertBefore(e,n),i.insertBefore(n,r),i.removeChild(r)}static find(e=document,n){return e.querySelector(n)}static get(e){return document.getElementById(e)}static findAll(e=document,n){return e.querySelectorAll(n)}static get allInputsSelector(){return"[contenteditable=true], textarea, input:not([type]), "+["text","password","email","number","search","tel","url"].map(e=>`input[type="${e}"]`).join(", ")}static findAllInputs(e){return ux(e.querySelectorAll(Fe.allInputsSelector)).reduce((n,r)=>Fe.isNativeInput(r)||Fe.containsOnlyInlineElements(r)?[...n,r]:[...n,...Fe.getDeepestBlockElements(r)],[])}static getDeepestNode(e,n=!1){const r=n?"lastChild":"firstChild",i=n?"previousSibling":"nextSibling";if(e&&e.nodeType===Node.ELEMENT_NODE&&e[r]){let o=e[r];if(Fe.isSingleTag(o)&&!Fe.isNativeInput(o)&&!Fe.isLineBreakTag(o))if(o[i])o=o[i];else if(o.parentNode[i])o=o.parentNode[i];else return o.parentNode;return this.getDeepestNode(o,n)}return e}static isElement(e){return Ly(e)?!1:e&&e.nodeType&&e.nodeType===Node.ELEMENT_NODE}static isFragment(e){return Ly(e)?!1:e&&e.nodeType&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE}static isContentEditable(e){return e.contentEditable==="true"}static isNativeInput(e){const n=["INPUT","TEXTAREA"];return e&&e.tagName?n.includes(e.tagName):!1}static canSetCaret(e){let n=!0;if(Fe.isNativeInput(e))switch(e.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":n=!1;break}else n=Fe.isContentEditable(e);return n}static isNodeEmpty(e,n){let r;return this.isSingleTag(e)&&!this.isLineBreakTag(e)?!1:(this.isElement(e)&&this.isNativeInput(e)?r=e.value:r=e.textContent.replace("​",""),n&&(r=r.replace(new RegExp(n,"g"),"")),r.trim().length===0)}static isLeaf(e){return e?e.childNodes.length===0:!1}static isEmpty(e,n){e.normalize();const r=[e];for(;r.length>0;)if(e=r.shift(),!!e){if(this.isLeaf(e)&&!this.isNodeEmpty(e,n))return!1;e.childNodes&&r.push(...Array.from(e.childNodes))}return!0}static isHTMLString(e){const n=Fe.make("div");return n.innerHTML=e,n.childElementCount>0}static getContentLength(e){return Fe.isNativeInput(e)?e.value.length:e.nodeType===Node.TEXT_NODE?e.length:e.textContent.length}static get blockElements(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}static containsOnlyInlineElements(e){let n;kn(e)?(n=document.createElement("div"),n.innerHTML=e):n=e;const r=i=>!Fe.blockElements.includes(i.tagName.toLowerCase())&&Array.from(i.children).every(r);return Array.from(n.children).every(r)}static getDeepestBlockElements(e){return Fe.containsOnlyInlineElements(e)?[e]:Array.from(e.children).reduce((n,r)=>[...n,...Fe.getDeepestBlockElements(r)],[])}static getHolder(e){return kn(e)?document.getElementById(e):e}static isAnchor(e){return e.tagName.toLowerCase()==="a"}static offset(e){const n=e.getBoundingClientRect(),r=window.pageXOffset||document.documentElement.scrollLeft,i=window.pageYOffset||document.documentElement.scrollTop,o=n.top+i,s=n.left+r;return{top:o,left:s,bottom:o+n.height,right:s+n.width}}};function zR(t){return!/[^\t\n\r ]/.test(t)}function WR(t){const e=window.getComputedStyle(t),n=parseFloat(e.fontSize),r=parseFloat(e.lineHeight)||n*1.2,i=parseFloat(e.paddingTop),o=parseFloat(e.borderTopWidth),s=parseFloat(e.marginTop),a=n*.8,l=(r-n)/2;return s+o+i+l+a}function hx(t){t.dataset.empty=_.isEmpty(t)?"true":"false"}const KR={blockTunes:{toggler:{"Click to tune":"","or drag to move":""}},inlineToolbar:{converter:{"Convert to":""}},toolbar:{toolbox:{Add:""}},popover:{Filter:"","Nothing found":"","Convert to":""}},qR={Text:"",Link:"",Bold:"",Italic:""},GR={link:{"Add a link":""},stub:{"The block can not be displayed correctly.":""}},YR={delete:{Delete:"","Click to delete":""},moveUp:{"Move up":""},moveDown:{"Move down":""}},px={ui:KR,toolNames:qR,tools:GR,blockTunes:YR},fx=class Yr{static ui(e,n){return Yr._t(e,n)}static t(e,n){return Yr._t(e,n)}static setDictionary(e){Yr.currentDictionary=e}static _t(e,n){const r=Yr.getNamespace(e);return!r||!r[n]?n:r[n]}static getNamespace(e){return e.split(".").reduce((n,r)=>!n||!Object.keys(n).length?{}:n[r],Yr.currentDictionary)}};fx.currentDictionary=px;let Ue=fx,mx=class extends Error{};class Ls{constructor(){this.subscribers={}}on(e,n){e in this.subscribers||(this.subscribers[e]=[]),this.subscribers[e].push(n)}once(e,n){e in this.subscribers||(this.subscribers[e]=[]);const r=i=>{const o=n(i),s=this.subscribers[e].indexOf(r);return s!==-1&&this.subscribers[e].splice(s,1),o};this.subscribers[e].push(r)}emit(e,n){xt(this.subscribers)||!this.subscribers[e]||this.subscribers[e].reduce((r,i)=>{const o=i(r);return o!==void 0?o:r},n)}off(e,n){if(this.subscribers[e]===void 0){console.warn(`EventDispatcher .off(): there is no subscribers for event "${e.toString()}". Probably, .off() called before .on()`);return}for(let r=0;r<this.subscribers[e].length;r++)if(this.subscribers[e][r]===n){delete this.subscribers[e][r];break}}destroy(){this.subscribers={}}}function Gt(t){Object.setPrototypeOf(this,{get id(){return t.id},get name(){return t.name},get config(){return t.config},get holder(){return t.holder},get isEmpty(){return t.isEmpty},get selected(){return t.selected},set stretched(e){t.stretched=e},get stretched(){return t.stretched},get focusable(){return t.focusable},call(e,n){return t.call(e,n)},save(){return t.save()},validate(e){return t.validate(e)},dispatchChange(){t.dispatchChange()},getActiveToolboxEntry(){return t.getActiveToolboxEntry()}})}class Ms{constructor(){this.allListeners=[]}on(e,n,r,i=!1){const o=VR("l"),s={id:o,element:e,eventType:n,handler:r,options:i};if(!this.findOne(e,n,r))return this.allListeners.push(s),e.addEventListener(n,r,i),o}off(e,n,r,i){const o=this.findAll(e,n,r);o.forEach((s,a)=>{const l=this.allListeners.indexOf(o[a]);l>-1&&(this.allListeners.splice(l,1),s.element.removeEventListener(s.eventType,s.handler,s.options))})}offById(e){const n=this.findById(e);n&&n.element.removeEventListener(n.eventType,n.handler,n.options)}findOne(e,n,r){const i=this.findAll(e,n,r);return i.length>0?i[0]:null}findAll(e,n,r){let i;const o=e?this.findByEventTarget(e):[];return e&&n&&r?i=o.filter(s=>s.eventType===n&&s.handler===r):e&&n?i=o.filter(s=>s.eventType===n):i=o,i}removeAll(){this.allListeners.map(e=>{e.element.removeEventListener(e.eventType,e.handler,e.options)}),this.allListeners=[]}destroy(){this.removeAll()}findByEventTarget(e){return this.allListeners.filter(n=>{if(n.element===e)return n})}findByType(e){return this.allListeners.filter(n=>{if(n.eventType===e)return n})}findByHandler(e){return this.allListeners.filter(n=>{if(n.handler===e)return n})}findById(e){return this.allListeners.find(n=>n.id===e)}}let q=class gx{constructor({config:e,eventsDispatcher:n}){if(this.nodes={},this.listeners=new Ms,this.readOnlyMutableListeners={on:(r,i,o,s=!1)=>{this.mutableListenerIds.push(this.listeners.on(r,i,o,s))},clearAll:()=>{for(const r of this.mutableListenerIds)this.listeners.offById(r);this.mutableListenerIds=[]}},this.mutableListenerIds=[],new.target===gx)throw new TypeError("Constructors for abstract class Module are not allowed.");this.config=e,this.eventsDispatcher=n}set state(e){this.Editor=e}removeAllNodes(){for(const e in this.nodes){const n=this.nodes[e];n instanceof HTMLElement&&n.remove()}}get isRtl(){return this.config.i18n.direction==="rtl"}},D=class _n{constructor(){this.instance=null,this.selection=null,this.savedSelectionRange=null,this.isFakeBackgroundEnabled=!1,this.commandBackground="backColor",this.commandRemoveFormat="removeFormat"}static get CSS(){return{editorWrapper:"codex-editor",editorZone:"codex-editor__redactor"}}static get anchorNode(){const e=window.getSelection();return e?e.anchorNode:null}static get anchorElement(){const e=window.getSelection();if(!e)return null;const n=e.anchorNode;return n?_.isElement(n)?n:n.parentElement:null}static get anchorOffset(){const e=window.getSelection();return e?e.anchorOffset:null}static get isCollapsed(){const e=window.getSelection();return e?e.isCollapsed:null}static get isAtEditor(){return this.isSelectionAtEditor(_n.get())}static isSelectionAtEditor(e){if(!e)return!1;let n=e.anchorNode||e.focusNode;n&&n.nodeType===Node.TEXT_NODE&&(n=n.parentNode);let r=null;return n&&n instanceof Element&&(r=n.closest(`.${_n.CSS.editorZone}`)),r?r.nodeType===Node.ELEMENT_NODE:!1}static isRangeAtEditor(e){if(!e)return;let n=e.startContainer;n&&n.nodeType===Node.TEXT_NODE&&(n=n.parentNode);let r=null;return n&&n instanceof Element&&(r=n.closest(`.${_n.CSS.editorZone}`)),r?r.nodeType===Node.ELEMENT_NODE:!1}static get isSelectionExists(){return!!_n.get().anchorNode}static get range(){return this.getRangeFromSelection(this.get())}static getRangeFromSelection(e){return e&&e.rangeCount?e.getRangeAt(0):null}static get rect(){let e=document.selection,n,r={x:0,y:0,width:0,height:0};if(e&&e.type!=="Control")return e=e,n=e.createRange(),r.x=n.boundingLeft,r.y=n.boundingTop,r.width=n.boundingWidth,r.height=n.boundingHeight,r;if(!window.getSelection)return X("Method window.getSelection is not supported","warn"),r;if(e=window.getSelection(),e.rangeCount===null||isNaN(e.rangeCount))return X("Method SelectionUtils.rangeCount is not supported","warn"),r;if(e.rangeCount===0)return r;if(n=e.getRangeAt(0).cloneRange(),n.getBoundingClientRect&&(r=n.getBoundingClientRect()),r.x===0&&r.y===0){const i=document.createElement("span");if(i.getBoundingClientRect){i.appendChild(document.createTextNode("​")),n.insertNode(i),r=i.getBoundingClientRect();const o=i.parentNode;o.removeChild(i),o.normalize()}}return r}static get text(){return window.getSelection?window.getSelection().toString():""}static get(){return window.getSelection()}static setCursor(e,n=0){const r=document.createRange(),i=window.getSelection();return _.isNativeInput(e)?_.canSetCaret(e)?(e.focus(),e.selectionStart=e.selectionEnd=n,e.getBoundingClientRect()):void 0:(r.setStart(e,n),r.setEnd(e,n),i.removeAllRanges(),i.addRange(r),r.getBoundingClientRect())}static isRangeInsideContainer(e){const n=_n.range;return n===null?!1:e.contains(n.startContainer)}static addFakeCursor(){const e=_n.range;if(e===null)return;const n=_.make("span","codex-editor__fake-cursor");n.dataset.mutationFree="true",e.collapse(),e.insertNode(n)}static isFakeCursorInsideContainer(e){return _.find(e,".codex-editor__fake-cursor")!==null}static removeFakeCursor(e=document.body){const n=_.find(e,".codex-editor__fake-cursor");n&&n.remove()}removeFakeBackground(){this.isFakeBackgroundEnabled&&(this.isFakeBackgroundEnabled=!1,document.execCommand(this.commandRemoveFormat))}setFakeBackground(){document.execCommand(this.commandBackground,!1,"#a8d6ff"),this.isFakeBackgroundEnabled=!0}save(){this.savedSelectionRange=_n.range}restore(){if(!this.savedSelectionRange)return;const e=window.getSelection();e.removeAllRanges(),e.addRange(this.savedSelectionRange)}clearSaved(){this.savedSelectionRange=null}collapseToEnd(){const e=window.getSelection(),n=document.createRange();n.selectNodeContents(e.focusNode),n.collapse(!1),e.removeAllRanges(),e.addRange(n)}findParentTag(e,n,r=10){const i=window.getSelection();let o=null;return!i||!i.anchorNode||!i.focusNode?null:([i.anchorNode,i.focusNode].forEach(s=>{let a=r;for(;a>0&&s.parentNode&&!(s.tagName===e&&(o=s,n&&s.classList&&!s.classList.contains(n)&&(o=null),o));)s=s.parentNode,a--}),o)}expandToTag(e){const n=window.getSelection();n.removeAllRanges();const r=document.createRange();r.selectNodeContents(e),n.addRange(r)}};function XR(t,e){const{type:n,target:r,addedNodes:i,removedNodes:o}=t;return t.type==="attributes"&&t.attributeName==="data-empty"?!1:!!(e.contains(r)||n==="childList"&&(Array.from(i).some(s=>s===e)||Array.from(o).some(s=>s===e)))}const ph="redactor dom changed",vx="block changed",yx="fake cursor is about to be toggled",wx="fake cursor have been set",ds="editor mobile layout toggled";function fh(t,e){if(!t.conversionConfig)return!1;const n=t.conversionConfig[e];return ue(n)||kn(n)}function Ol(t,e){return fh(t.tool,e)}function bx(t,e){return Object.entries(t).some(([n,r])=>e[n]&&HR(e[n],r))}async function kx(t,e){const n=(await t.save()).data,r=e.find(i=>i.name===t.name);return r!==void 0&&!fh(r,"export")?[]:e.reduce((i,o)=>{if(!fh(o,"import")||o.toolbox===void 0)return i;const s=o.toolbox.filter(a=>{if(xt(a)||a.icon===void 0)return!1;if(a.data!==void 0){if(bx(a.data,n))return!1}else if(o.name===t.name)return!1;return!0});return i.push({...o,toolbox:s}),i},[])}function Ry(t,e){return t.mergeable?t.name===e.name?!0:Ol(e,"export")&&Ol(t,"import"):!1}function JR(t,e){const n=e==null?void 0:e.export;return ue(n)?n(t):kn(n)?t[n]:(n!==void 0&&X("Conversion «export» property must be a string or function. String means key of saved data object to export. Function should export processed string to export."),"")}function Dy(t,e){const n=e==null?void 0:e.import;return ue(n)?n(t):kn(n)?{[n]:t}:(n!==void 0&&X("Conversion «import» property must be a string or function. String means key of tool data to import. Function accepts a imported string and return composed tool data."),{})}var ie=(t=>(t.Default="default",t.Separator="separator",t.Html="html",t))(ie||{}),Xt=(t=>(t.APPEND_CALLBACK="appendCallback",t.RENDERED="rendered",t.MOVED="moved",t.UPDATED="updated",t.REMOVED="removed",t.ON_PASTE="onPaste",t))(Xt||{});let sn=class In extends Ls{constructor({id:e=$R(),data:n,tool:r,readOnly:i,tunesData:o},s){super(),this.cachedInputs=[],this.toolRenderedElement=null,this.tunesInstances=new Map,this.defaultTunesInstances=new Map,this.unavailableTunesData={},this.inputIndex=0,this.editorEventBus=null,this.handleFocus=()=>{this.dropInputsCache(),this.updateCurrentInput()},this.didMutated=(a=void 0)=>{const l=a===void 0,c=a instanceof InputEvent;!l&&!c&&this.detectToolRootChange(a);let u;l||c?u=!0:u=!(a.length>0&&a.every(d=>{const{addedNodes:h,removedNodes:y,target:f}=d;return[...Array.from(h),...Array.from(y),f].some(m=>(_.isElement(m)||(m=m.parentElement),m&&m.closest('[data-mutation-free="true"]')!==null))})),u&&(this.dropInputsCache(),this.updateCurrentInput(),this.toggleInputsEmptyMark(),this.call("updated"),this.emit("didMutated",this))},this.name=r.name,this.id=e,this.settings=r.settings,this.config=r.settings.config||{},this.editorEventBus=s||null,this.blockAPI=new Gt(this),this.tool=r,this.toolInstance=r.create(n,this.blockAPI,i),this.tunes=r.tunes,this.composeTunes(o),this.holder=this.compose(),window.requestIdleCallback(()=>{this.watchBlockMutations(),this.addInputEvents(),this.toggleInputsEmptyMark()})}static get CSS(){return{wrapper:"ce-block",wrapperStretched:"ce-block--stretched",content:"ce-block__content",selected:"ce-block--selected",dropTarget:"ce-block--drop-target"}}get inputs(){if(this.cachedInputs.length!==0)return this.cachedInputs;const e=_.findAllInputs(this.holder);return this.inputIndex>e.length-1&&(this.inputIndex=e.length-1),this.cachedInputs=e,e}get currentInput(){return this.inputs[this.inputIndex]}set currentInput(e){const n=this.inputs.findIndex(r=>r===e||r.contains(e));n!==-1&&(this.inputIndex=n)}get firstInput(){return this.inputs[0]}get lastInput(){const e=this.inputs;return e[e.length-1]}get nextInput(){return this.inputs[this.inputIndex+1]}get previousInput(){return this.inputs[this.inputIndex-1]}get data(){return this.save().then(e=>e&&!xt(e.data)?e.data:{})}get sanitize(){return this.tool.sanitizeConfig}get mergeable(){return ue(this.toolInstance.merge)}get focusable(){return this.inputs.length!==0}get isEmpty(){const e=_.isEmpty(this.pluginsContent,"/"),n=!this.hasMedia;return e&&n}get hasMedia(){const e=["img","iframe","video","audio","source","input","textarea","twitterwidget"];return!!this.holder.querySelector(e.join(","))}set selected(e){var n,r;this.holder.classList.toggle(In.CSS.selected,e);const i=e===!0&&D.isRangeInsideContainer(this.holder),o=e===!1&&D.isFakeCursorInsideContainer(this.holder);(i||o)&&((n=this.editorEventBus)==null||n.emit(yx,{state:e}),i?D.addFakeCursor():D.removeFakeCursor(this.holder),(r=this.editorEventBus)==null||r.emit(wx,{state:e}))}get selected(){return this.holder.classList.contains(In.CSS.selected)}set stretched(e){this.holder.classList.toggle(In.CSS.wrapperStretched,e)}get stretched(){return this.holder.classList.contains(In.CSS.wrapperStretched)}set dropTarget(e){this.holder.classList.toggle(In.CSS.dropTarget,e)}get pluginsContent(){return this.toolRenderedElement}call(e,n){if(ue(this.toolInstance[e])){e==="appendCallback"&&X("`appendCallback` hook is deprecated and will be removed in the next major release. Use `rendered` hook instead","warn");try{this.toolInstance[e].call(this.toolInstance,n)}catch(r){X(`Error during '${e}' call: ${r.message}`,"error")}}}async mergeWith(e){await this.toolInstance.merge(e)}async save(){const e=await this.toolInstance.save(this.pluginsContent),n=this.unavailableTunesData;[...this.tunesInstances.entries(),...this.defaultTunesInstances.entries()].forEach(([o,s])=>{if(ue(s.save))try{n[o]=s.save()}catch(a){X(`Tune ${s.constructor.name} save method throws an Error %o`,"warn",a)}});const r=window.performance.now();let i;return Promise.resolve(e).then(o=>(i=window.performance.now(),{id:this.id,tool:this.name,data:o,tunes:n,time:i-r})).catch(o=>{X(`Saving process for ${this.name} tool failed due to the ${o}`,"log","red")})}async validate(e){let n=!0;return this.toolInstance.validate instanceof Function&&(n=await this.toolInstance.validate(e)),n}getTunes(){const e=[],n=[],r=typeof this.toolInstance.renderSettings=="function"?this.toolInstance.renderSettings():[];return _.isElement(r)?e.push({type:ie.Html,element:r}):Array.isArray(r)?e.push(...r):e.push(r),[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].map(i=>i.render()).forEach(i=>{_.isElement(i)?n.push({type:ie.Html,element:i}):Array.isArray(i)?n.push(...i):n.push(i)}),{toolTunes:e,commonTunes:n}}updateCurrentInput(){this.currentInput=_.isNativeInput(document.activeElement)||!D.anchorNode?document.activeElement:D.anchorNode}dispatchChange(){this.didMutated()}destroy(){this.unwatchBlockMutations(),this.removeInputEvents(),super.destroy(),ue(this.toolInstance.destroy)&&this.toolInstance.destroy()}async getActiveToolboxEntry(){const e=this.tool.toolbox;if(e.length===1)return Promise.resolve(this.tool.toolbox[0]);const n=await this.data,r=e;return r==null?void 0:r.find(i=>bx(i.data,n))}async exportDataAsString(){const e=await this.data;return JR(e,this.tool.conversionConfig)}compose(){const e=_.make("div",In.CSS.wrapper),n=_.make("div",In.CSS.content),r=this.toolInstance.render();e.dataset.id=this.id,this.toolRenderedElement=r,n.appendChild(this.toolRenderedElement);let i=n;return[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].forEach(o=>{if(ue(o.wrap))try{i=o.wrap(i)}catch(s){X(`Tune ${o.constructor.name} wrap method throws an Error %o`,"warn",s)}}),e.appendChild(i),e}composeTunes(e){Array.from(this.tunes.values()).forEach(n=>{(n.isInternal?this.defaultTunesInstances:this.tunesInstances).set(n.name,n.create(e[n.name],this.blockAPI))}),Object.entries(e).forEach(([n,r])=>{this.tunesInstances.has(n)||(this.unavailableTunesData[n]=r)})}addInputEvents(){this.inputs.forEach(e=>{e.addEventListener("focus",this.handleFocus),_.isNativeInput(e)&&e.addEventListener("input",this.didMutated)})}removeInputEvents(){this.inputs.forEach(e=>{e.removeEventListener("focus",this.handleFocus),_.isNativeInput(e)&&e.removeEventListener("input",this.didMutated)})}watchBlockMutations(){var e;this.redactorDomChangedCallback=n=>{const{mutations:r}=n;r.some(i=>XR(i,this.toolRenderedElement))&&this.didMutated(r)},(e=this.editorEventBus)==null||e.on(ph,this.redactorDomChangedCallback)}unwatchBlockMutations(){var e;(e=this.editorEventBus)==null||e.off(ph,this.redactorDomChangedCallback)}detectToolRootChange(e){e.forEach(n=>{if(Array.from(n.removedNodes).includes(this.toolRenderedElement)){const r=n.addedNodes[n.addedNodes.length-1];this.toolRenderedElement=r}})}dropInputsCache(){this.cachedInputs=[]}toggleInputsEmptyMark(){this.inputs.forEach(hx)}};class QR extends q{constructor(){super(...arguments),this.insert=(e=this.config.defaultBlock,n={},r={},i,o,s,a)=>{const l=this.Editor.BlockManager.insert({id:a,tool:e,data:n,index:i,needToFocus:o,replace:s});return new Gt(l)},this.composeBlockData=async e=>{const n=this.Editor.Tools.blockTools.get(e);return new sn({tool:n,api:this.Editor.API,readOnly:!0,data:{},tunesData:{}}).data},this.update=async(e,n,r)=>{const{BlockManager:i}=this.Editor,o=i.getBlockById(e);if(o===void 0)throw new Error(`Block with id "${e}" not found`);const s=await i.update(o,n,r);return new Gt(s)},this.convert=async(e,n,r)=>{var i,o;const{BlockManager:s,Tools:a}=this.Editor,l=s.getBlockById(e);if(!l)throw new Error(`Block with id "${e}" not found`);const c=a.blockTools.get(l.name),u=a.blockTools.get(n);if(!u)throw new Error(`Block Tool with type "${n}" not found`);const d=((i=c==null?void 0:c.conversionConfig)==null?void 0:i.export)!==void 0,h=((o=u.conversionConfig)==null?void 0:o.import)!==void 0;if(d&&h){const y=await s.convert(l,n,r);return new Gt(y)}else{const y=[d?!1:Al(l.name),h?!1:Al(n)].filter(Boolean).join(" and ");throw new Error(`Conversion from "${l.name}" to "${n}" is not possible. ${y} tool(s) should provide a "conversionConfig"`)}},this.insertMany=(e,n=this.Editor.BlockManager.blocks.length-1)=>{this.validateIndex(n);const r=e.map(({id:i,type:o,data:s})=>this.Editor.BlockManager.composeBlock({id:i,tool:o||this.config.defaultBlock,data:s}));return this.Editor.BlockManager.insertMany(r,n),r.map(i=>new Gt(i))}}get methods(){return{clear:()=>this.clear(),render:e=>this.render(e),renderFromHTML:e=>this.renderFromHTML(e),delete:e=>this.delete(e),swap:(e,n)=>this.swap(e,n),move:(e,n)=>this.move(e,n),getBlockByIndex:e=>this.getBlockByIndex(e),getById:e=>this.getById(e),getCurrentBlockIndex:()=>this.getCurrentBlockIndex(),getBlockIndex:e=>this.getBlockIndex(e),getBlocksCount:()=>this.getBlocksCount(),getBlockByElement:e=>this.getBlockByElement(e),stretchBlock:(e,n=!0)=>this.stretchBlock(e,n),insertNewBlock:()=>this.insertNewBlock(),insert:this.insert,insertMany:this.insertMany,update:this.update,composeBlockData:this.composeBlockData,convert:this.convert}}getBlocksCount(){return this.Editor.BlockManager.blocks.length}getCurrentBlockIndex(){return this.Editor.BlockManager.currentBlockIndex}getBlockIndex(e){const n=this.Editor.BlockManager.getBlockById(e);if(!n){vt("There is no block with id `"+e+"`","warn");return}return this.Editor.BlockManager.getBlockIndex(n)}getBlockByIndex(e){const n=this.Editor.BlockManager.getBlockByIndex(e);if(n===void 0){vt("There is no block at index `"+e+"`","warn");return}return new Gt(n)}getById(e){const n=this.Editor.BlockManager.getBlockById(e);return n===void 0?(vt("There is no block with id `"+e+"`","warn"),null):new Gt(n)}getBlockByElement(e){const n=this.Editor.BlockManager.getBlock(e);if(n===void 0){vt("There is no block corresponding to element `"+e+"`","warn");return}return new Gt(n)}swap(e,n){X("`blocks.swap()` method is deprecated and will be removed in the next major release. Use `block.move()` method instead","info"),this.Editor.BlockManager.swap(e,n)}move(e,n){this.Editor.BlockManager.move(e,n)}delete(e=this.Editor.BlockManager.currentBlockIndex){try{const n=this.Editor.BlockManager.getBlockByIndex(e);this.Editor.BlockManager.removeBlock(n)}catch(n){vt(n,"warn");return}this.Editor.BlockManager.blocks.length===0&&this.Editor.BlockManager.insert(),this.Editor.BlockManager.currentBlock&&this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END),this.Editor.Toolbar.close()}async clear(){await this.Editor.BlockManager.clear(!0),this.Editor.InlineToolbar.close()}async render(e){if(e===void 0||e.blocks===void 0)throw new Error("Incorrect data passed to the render() method");this.Editor.ModificationsObserver.disable(),await this.Editor.BlockManager.clear(),await this.Editor.Renderer.render(e.blocks),this.Editor.ModificationsObserver.enable()}renderFromHTML(e){return this.Editor.BlockManager.clear(),this.Editor.Paste.processText(e,!0)}stretchBlock(e,n=!0){dh(!0,"blocks.stretchBlock()","BlockAPI");const r=this.Editor.BlockManager.getBlockByIndex(e);r&&(r.stretched=n)}insertNewBlock(){X("Method blocks.insertNewBlock() is deprecated and it will be removed in the next major release. Use blocks.insert() instead.","warn"),this.insert()}validateIndex(e){if(typeof e!="number")throw new Error("Index should be a number");if(e<0)throw new Error("Index should be greater than or equal to 0");if(e===null)throw new Error("Index should be greater than or equal to 0")}}function ZR(t,e){return typeof t=="number"?e.BlockManager.getBlockByIndex(t):typeof t=="string"?e.BlockManager.getBlockById(t):e.BlockManager.getBlockById(t.id)}class eD extends q{constructor(){super(...arguments),this.setToFirstBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.firstBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.firstBlock,e,n),!0):!1,this.setToLastBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.lastBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.lastBlock,e,n),!0):!1,this.setToPreviousBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.previousBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.previousBlock,e,n),!0):!1,this.setToNextBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.nextBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.nextBlock,e,n),!0):!1,this.setToBlock=(e,n=this.Editor.Caret.positions.DEFAULT,r=0)=>{const i=ZR(e,this.Editor);return i===void 0?!1:(this.Editor.Caret.setToBlock(i,n,r),!0)},this.focus=(e=!1)=>e?this.setToLastBlock(this.Editor.Caret.positions.END):this.setToFirstBlock(this.Editor.Caret.positions.START)}get methods(){return{setToFirstBlock:this.setToFirstBlock,setToLastBlock:this.setToLastBlock,setToPreviousBlock:this.setToPreviousBlock,setToNextBlock:this.setToNextBlock,setToBlock:this.setToBlock,focus:this.focus}}}class tD extends q{get methods(){return{emit:(e,n)=>this.emit(e,n),off:(e,n)=>this.off(e,n),on:(e,n)=>this.on(e,n)}}on(e,n){this.eventsDispatcher.on(e,n)}emit(e,n){this.eventsDispatcher.emit(e,n)}off(e,n){this.eventsDispatcher.off(e,n)}}let nD=class xx extends q{static getNamespace(e,n){return n?`blockTunes.${e}`:`tools.${e}`}get methods(){return{t:()=>{vt("I18n.t() method can be accessed only from Tools","warn")}}}getMethodsForTool(e,n){return Object.assign(this.methods,{t:r=>Ue.t(xx.getNamespace(e,n),r)})}};class rD extends q{get methods(){return{blocks:this.Editor.BlocksAPI.methods,caret:this.Editor.CaretAPI.methods,tools:this.Editor.ToolsAPI.methods,events:this.Editor.EventsAPI.methods,listeners:this.Editor.ListenersAPI.methods,notifier:this.Editor.NotifierAPI.methods,sanitizer:this.Editor.SanitizerAPI.methods,saver:this.Editor.SaverAPI.methods,selection:this.Editor.SelectionAPI.methods,styles:this.Editor.StylesAPI.classes,toolbar:this.Editor.ToolbarAPI.methods,inlineToolbar:this.Editor.InlineToolbarAPI.methods,tooltip:this.Editor.TooltipAPI.methods,i18n:this.Editor.I18nAPI.methods,readOnly:this.Editor.ReadOnlyAPI.methods,ui:this.Editor.UiAPI.methods}}getMethodsForTool(e,n){return Object.assign(this.methods,{i18n:this.Editor.I18nAPI.getMethodsForTool(e,n)})}}class iD extends q{get methods(){return{close:()=>this.close(),open:()=>this.open()}}open(){this.Editor.InlineToolbar.tryToShow()}close(){this.Editor.InlineToolbar.close()}}class oD extends q{get methods(){return{on:(e,n,r,i)=>this.on(e,n,r,i),off:(e,n,r,i)=>this.off(e,n,r,i),offById:e=>this.offById(e)}}on(e,n,r,i){return this.listeners.on(e,n,r,i)}off(e,n,r,i){this.listeners.off(e,n,r,i)}offById(e){this.listeners.offById(e)}}var Ex={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,a){i.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:a})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,s){if(1&s&&(o=i(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var l in o)i.d(a,l,(function(c){return o[c]}).bind(null,l));return a},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="/",i(i.s=0)}([function(n,r,i){i(1),n.exports=function(){var o=i(6),s="cdx-notify--bounce-in",a=null;return{show:function(l){if(l.message){(function(){if(a)return!0;a=o.getWrapper(),document.body.appendChild(a)})();var c=null,u=l.time||8e3;switch(l.type){case"confirm":c=o.confirm(l);break;case"prompt":c=o.prompt(l);break;default:c=o.alert(l),window.setTimeout(function(){c.remove()},u)}a.appendChild(c),c.classList.add(s)}}}}()},function(n,r,i){var o=i(2);typeof o=="string"&&(o=[[n.i,o,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i(4)(o,s),o.locals&&(n.exports=o.locals)},function(n,r,i){(n.exports=i(3)(!1)).push([n.i,`.cdx-notify--error{background:#fffbfb!important}.cdx-notify--error::before{background:#fb5d5d!important}.cdx-notify__input{max-width:130px;padding:5px 10px;background:#f7f7f7;border:0;border-radius:3px;font-size:13px;color:#656b7c;outline:0}.cdx-notify__input:-ms-input-placeholder{color:#656b7c}.cdx-notify__input::placeholder{color:#656b7c}.cdx-notify__input:focus:-ms-input-placeholder{color:rgba(101,107,124,.3)}.cdx-notify__input:focus::placeholder{color:rgba(101,107,124,.3)}.cdx-notify__button{border:none;border-radius:3px;font-size:13px;padding:5px 10px;cursor:pointer}.cdx-notify__button:last-child{margin-left:10px}.cdx-notify__button--cancel{background:#f2f5f7;box-shadow:0 2px 1px 0 rgba(16,19,29,0);color:#656b7c}.cdx-notify__button--cancel:hover{background:#eee}.cdx-notify__button--confirm{background:#34c992;box-shadow:0 1px 1px 0 rgba(18,49,35,.05);color:#fff}.cdx-notify__button--confirm:hover{background:#33b082}.cdx-notify__btns-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;margin-top:5px}.cdx-notify__cross{position:absolute;top:5px;right:5px;width:10px;height:10px;padding:5px;opacity:.54;cursor:pointer}.cdx-notify__cross::after,.cdx-notify__cross::before{content:'';position:absolute;left:9px;top:5px;height:12px;width:2px;background:#575d67}.cdx-notify__cross::before{transform:rotate(-45deg)}.cdx-notify__cross::after{transform:rotate(45deg)}.cdx-notify__cross:hover{opacity:1}.cdx-notifies{position:fixed;z-index:2;bottom:20px;left:20px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif}.cdx-notify{position:relative;width:220px;margin-top:15px;padding:13px 16px;background:#fff;box-shadow:0 11px 17px 0 rgba(23,32,61,.13);border-radius:5px;font-size:14px;line-height:1.4em;word-wrap:break-word}.cdx-notify::before{content:'';position:absolute;display:block;top:0;left:0;width:3px;height:calc(100% - 6px);margin:3px;border-radius:5px;background:0 0}@keyframes bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}100%{transform:scale(1)}}.cdx-notify--bounce-in{animation-name:bounceIn;animation-duration:.6s;animation-iteration-count:1}.cdx-notify--success{background:#fafffe!important}.cdx-notify--success::before{background:#41ffb1!important}`,""])},function(n,r){n.exports=function(i){var o=[];return o.toString=function(){return this.map(function(s){var a=function(l,c){var u=l[1]||"",d=l[3];if(!d)return u;if(c&&typeof btoa=="function"){var h=(f=d,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(f))))+" */"),y=d.sources.map(function(m){return"/*# sourceURL="+d.sourceRoot+m+" */"});return[u].concat(y).concat([h]).join(`
`)}var f;return[u].join(`
`)}(s,i);return s[2]?"@media "+s[2]+"{"+a+"}":a}).join("")},o.i=function(s,a){typeof s=="string"&&(s=[[null,s,""]]);for(var l={},c=0;c<this.length;c++){var u=this[c][0];typeof u=="number"&&(l[u]=!0)}for(c=0;c<s.length;c++){var d=s[c];typeof d[0]=="number"&&l[d[0]]||(a&&!d[2]?d[2]=a:a&&(d[2]="("+d[2]+") and ("+a+")"),o.push(d))}},o}},function(n,r,i){var o,s,a={},l=(o=function(){return window&&document&&document.all&&!window.atob},function(){return s===void 0&&(s=o.apply(this,arguments)),s}),c=function(S){var I={};return function(A){if(typeof A=="function")return A();if(I[A]===void 0){var M=(function(K){return document.querySelector(K)}).call(this,A);if(window.HTMLIFrameElement&&M instanceof window.HTMLIFrameElement)try{M=M.contentDocument.head}catch{M=null}I[A]=M}return I[A]}}(),u=null,d=0,h=[],y=i(5);function f(S,I){for(var A=0;A<S.length;A++){var M=S[A],K=a[M.id];if(K){K.refs++;for(var z=0;z<K.parts.length;z++)K.parts[z](M.parts[z]);for(;z<M.parts.length;z++)K.parts.push(k(M.parts[z],I))}else{var se=[];for(z=0;z<M.parts.length;z++)se.push(k(M.parts[z],I));a[M.id]={id:M.id,refs:1,parts:se}}}}function m(S,I){for(var A=[],M={},K=0;K<S.length;K++){var z=S[K],se=I.base?z[0]+I.base:z[0],N={css:z[1],media:z[2],sourceMap:z[3]};M[se]?M[se].parts.push(N):A.push(M[se]={id:se,parts:[N]})}return A}function w(S,I){var A=c(S.insertInto);if(!A)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var M=h[h.length-1];if(S.insertAt==="top")M?M.nextSibling?A.insertBefore(I,M.nextSibling):A.appendChild(I):A.insertBefore(I,A.firstChild),h.push(I);else if(S.insertAt==="bottom")A.appendChild(I);else{if(typeof S.insertAt!="object"||!S.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var K=c(S.insertInto+" "+S.insertAt.before);A.insertBefore(I,K)}}function g(S){if(S.parentNode===null)return!1;S.parentNode.removeChild(S);var I=h.indexOf(S);I>=0&&h.splice(I,1)}function p(S){var I=document.createElement("style");return S.attrs.type===void 0&&(S.attrs.type="text/css"),v(I,S.attrs),w(S,I),I}function v(S,I){Object.keys(I).forEach(function(A){S.setAttribute(A,I[A])})}function k(S,I){var A,M,K,z;if(I.transform&&S.css){if(!(z=I.transform(S.css)))return function(){};S.css=z}if(I.singleton){var se=d++;A=u||(u=p(I)),M=P.bind(null,A,se,!1),K=P.bind(null,A,se,!0)}else S.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(A=function(N){var Z=document.createElement("link");return N.attrs.type===void 0&&(N.attrs.type="text/css"),N.attrs.rel="stylesheet",v(Z,N.attrs),w(N,Z),Z}(I),M=(function(N,Z,et){var B=et.css,F=et.sourceMap,H=Z.convertToAbsoluteUrls===void 0&&F;(Z.convertToAbsoluteUrls||H)&&(B=y(B)),F&&(B+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(F))))+" */");var ae=new Blob([B],{type:"text/css"}),me=N.href;N.href=URL.createObjectURL(ae),me&&URL.revokeObjectURL(me)}).bind(null,A,I),K=function(){g(A),A.href&&URL.revokeObjectURL(A.href)}):(A=p(I),M=(function(N,Z){var et=Z.css,B=Z.media;if(B&&N.setAttribute("media",B),N.styleSheet)N.styleSheet.cssText=et;else{for(;N.firstChild;)N.removeChild(N.firstChild);N.appendChild(document.createTextNode(et))}}).bind(null,A),K=function(){g(A)});return M(S),function(N){if(N){if(N.css===S.css&&N.media===S.media&&N.sourceMap===S.sourceMap)return;M(S=N)}else K()}}n.exports=function(S,I){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(I=I||{}).attrs=typeof I.attrs=="object"?I.attrs:{},I.singleton||typeof I.singleton=="boolean"||(I.singleton=l()),I.insertInto||(I.insertInto="head"),I.insertAt||(I.insertAt="bottom");var A=m(S,I);return f(A,I),function(M){for(var K=[],z=0;z<A.length;z++){var se=A[z];(N=a[se.id]).refs--,K.push(N)}for(M&&f(m(M,I),I),z=0;z<K.length;z++){var N;if((N=K[z]).refs===0){for(var Z=0;Z<N.parts.length;Z++)N.parts[Z]();delete a[N.id]}}}};var x,T=(x=[],function(S,I){return x[S]=I,x.filter(Boolean).join(`
`)});function P(S,I,A,M){var K=A?"":M.css;if(S.styleSheet)S.styleSheet.cssText=T(I,K);else{var z=document.createTextNode(K),se=S.childNodes;se[I]&&S.removeChild(se[I]),se.length?S.insertBefore(z,se[I]):S.appendChild(z)}}},function(n,r){n.exports=function(i){var o=typeof window<"u"&&window.location;if(!o)throw new Error("fixUrls requires window.location");if(!i||typeof i!="string")return i;var s=o.protocol+"//"+o.host,a=s+o.pathname.replace(/\/[^\/]*$/,"/");return i.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(l,c){var u,d=c.trim().replace(/^"(.*)"$/,function(h,y){return y}).replace(/^'(.*)'$/,function(h,y){return y});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(d)?l:(u=d.indexOf("//")===0?d:d.indexOf("/")===0?s+d:a+d.replace(/^\.\//,""),"url("+JSON.stringify(u)+")")})}},function(n,r,i){var o,s,a,l,c,u,d,h,y;n.exports=(o="cdx-notifies",s="cdx-notify",a="cdx-notify__cross",l="cdx-notify__button--confirm",c="cdx-notify__button--cancel",u="cdx-notify__input",d="cdx-notify__button",h="cdx-notify__btns-wrapper",{alert:y=function(f){var m=document.createElement("DIV"),w=document.createElement("DIV"),g=f.message,p=f.style;return m.classList.add(s),p&&m.classList.add(s+"--"+p),m.innerHTML=g,w.classList.add(a),w.addEventListener("click",m.remove.bind(m)),m.appendChild(w),m},confirm:function(f){var m=y(f),w=document.createElement("div"),g=document.createElement("button"),p=document.createElement("button"),v=m.querySelector("."+a),k=f.cancelHandler,x=f.okHandler;return w.classList.add(h),g.innerHTML=f.okText||"Confirm",p.innerHTML=f.cancelText||"Cancel",g.classList.add(d),p.classList.add(d),g.classList.add(l),p.classList.add(c),k&&typeof k=="function"&&(p.addEventListener("click",k),v.addEventListener("click",k)),x&&typeof x=="function"&&g.addEventListener("click",x),g.addEventListener("click",m.remove.bind(m)),p.addEventListener("click",m.remove.bind(m)),w.appendChild(g),w.appendChild(p),m.appendChild(w),m},prompt:function(f){var m=y(f),w=document.createElement("div"),g=document.createElement("button"),p=document.createElement("input"),v=m.querySelector("."+a),k=f.cancelHandler,x=f.okHandler;return w.classList.add(h),g.innerHTML=f.okText||"Ok",g.classList.add(d),g.classList.add(l),p.classList.add(u),f.placeholder&&p.setAttribute("placeholder",f.placeholder),f.default&&(p.value=f.default),f.inputType&&(p.type=f.inputType),k&&typeof k=="function"&&v.addEventListener("click",k),x&&typeof x=="function"&&g.addEventListener("click",function(){x(p.value)}),g.addEventListener("click",m.remove.bind(m)),w.appendChild(p),w.appendChild(g),m.appendChild(w),m},getWrapper:function(){var f=document.createElement("DIV");return f.classList.add(o),f}})}])})})(Ex);var sD=Ex.exports;const aD=bc(sD);class lD{show(e){aD.show(e)}}class cD extends q{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.notifier=new lD}get methods(){return{show:e=>this.show(e)}}show(e){return this.notifier.show(e)}}class uD extends q{get methods(){const e=()=>this.isEnabled;return{toggle:n=>this.toggle(n),get isEnabled(){return e()}}}toggle(e){return this.Editor.ReadOnly.toggle(e)}get isEnabled(){return this.Editor.ReadOnly.isEnabled}}var Sx={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(AR,function(){function n(d){var h=d.tags,y=Object.keys(h),f=y.map(function(m){return typeof h[m]}).every(function(m){return m==="object"||m==="boolean"||m==="function"});if(!f)throw new Error("The configuration was invalid");this.config=d}var r=["P","LI","TD","TH","DIV","H1","H2","H3","H4","H5","H6","PRE"];function i(d){return r.indexOf(d.nodeName)!==-1}var o=["A","B","STRONG","I","EM","SUB","SUP","U","STRIKE"];function s(d){return o.indexOf(d.nodeName)!==-1}n.prototype.clean=function(d){const h=document.implementation.createHTMLDocument(),y=h.createElement("div");return y.innerHTML=d,this._sanitize(h,y),y.innerHTML},n.prototype._sanitize=function(d,h){var y=a(d,h),f=y.firstChild();if(f)do{if(f.nodeType===Node.TEXT_NODE)if(f.data.trim()===""&&(f.previousElementSibling&&i(f.previousElementSibling)||f.nextElementSibling&&i(f.nextElementSibling))){h.removeChild(f),this._sanitize(d,h);break}else continue;if(f.nodeType===Node.COMMENT_NODE){h.removeChild(f),this._sanitize(d,h);break}var m=s(f),w;m&&(w=Array.prototype.some.call(f.childNodes,i));var g=!!h.parentNode,p=i(h)&&i(f)&&g,v=f.nodeName.toLowerCase(),k=l(this.config,v,f),x=m&&w;if(x||c(f,k)||!this.config.keepNestedBlockElements&&p){if(!(f.nodeName==="SCRIPT"||f.nodeName==="STYLE"))for(;f.childNodes.length>0;)h.insertBefore(f.childNodes[0],f);h.removeChild(f),this._sanitize(d,h);break}for(var T=0;T<f.attributes.length;T+=1){var P=f.attributes[T];u(P,k,f)&&(f.removeAttribute(P.name),T=T-1)}this._sanitize(d,f)}while(f=y.nextSibling())};function a(d,h){return d.createTreeWalker(h,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT,null,!1)}function l(d,h,y){return typeof d.tags[h]=="function"?d.tags[h](y):d.tags[h]}function c(d,h){return typeof h>"u"?!0:typeof h=="boolean"?!h:!1}function u(d,h,y){var f=d.name.toLowerCase();return h===!0?!1:typeof h[f]=="function"?!h[f](d.value,y):typeof h[f]>"u"||h[f]===!1?!0:typeof h[f]=="string"?h[f]!==d.value:!1}return n})})(Sx);var dD=Sx.exports;const hD=bc(dD);function gf(t,e){return t.map(n=>{const r=ue(e)?e(n.tool):e;return xt(r)||(n.data=vf(n.data,r)),n})}function Dt(t,e={}){const n={tags:e};return new hD(n).clean(t)}function vf(t,e){return Array.isArray(t)?pD(t,e):Ie(t)?fD(t,e):kn(t)?mD(t,e):t}function pD(t,e){return t.map(n=>vf(n,e))}function fD(t,e){const n={};for(const r in t){if(!Object.prototype.hasOwnProperty.call(t,r))continue;const i=t[r],o=gD(e[r])?e[r]:e;n[r]=vf(i,o)}return n}function mD(t,e){return Ie(e)?Dt(t,e):e===!1?Dt(t,{}):t}function gD(t){return Ie(t)||MR(t)||ue(t)}class vD extends q{get methods(){return{clean:(e,n)=>this.clean(e,n)}}clean(e,n){return Dt(e,n)}}class yD extends q{get methods(){return{save:()=>this.save()}}save(){const e="Editor's content can not be saved in read-only mode";return this.Editor.ReadOnly.isEnabled?(vt(e,"warn"),Promise.reject(new Error(e))):this.Editor.Saver.save()}}class wD extends q{constructor(){super(...arguments),this.selectionUtils=new D}get methods(){return{findParentTag:(e,n)=>this.findParentTag(e,n),expandToTag:e=>this.expandToTag(e),save:()=>this.selectionUtils.save(),restore:()=>this.selectionUtils.restore(),setFakeBackground:()=>this.selectionUtils.setFakeBackground(),removeFakeBackground:()=>this.selectionUtils.removeFakeBackground()}}findParentTag(e,n){return this.selectionUtils.findParentTag(e,n)}expandToTag(e){this.selectionUtils.expandToTag(e)}}class bD extends q{get methods(){return{getBlockTools:()=>Array.from(this.Editor.Tools.blockTools.values())}}}class kD extends q{get classes(){return{block:"cdx-block",inlineToolButton:"ce-inline-tool",inlineToolButtonActive:"ce-inline-tool--active",input:"cdx-input",loader:"cdx-loader",button:"cdx-button",settingsButton:"cdx-settings-button",settingsButtonActive:"cdx-settings-button--active"}}}class xD extends q{get methods(){return{close:()=>this.close(),open:()=>this.open(),toggleBlockSettings:e=>this.toggleBlockSettings(e),toggleToolbox:e=>this.toggleToolbox(e)}}open(){this.Editor.Toolbar.moveAndOpen()}close(){this.Editor.Toolbar.close()}toggleBlockSettings(e){if(this.Editor.BlockManager.currentBlockIndex===-1){vt("Could't toggle the Toolbar because there is no block selected ","warn");return}e??!this.Editor.BlockSettings.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.BlockSettings.open()):this.Editor.BlockSettings.close()}toggleToolbox(e){if(this.Editor.BlockManager.currentBlockIndex===-1){vt("Could't toggle the Toolbox because there is no block selected ","warn");return}e??!this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()):this.Editor.Toolbar.toolbox.close()}}var Cx={exports:{}};/*!
 * CodeX.Tooltips
 * 
 * @version 1.0.5
 * 
 * @licence MIT
 * @author CodeX <https://codex.so>
 * 
 * 
 */(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,a){i.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:a})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,s){if(1&s&&(o=i(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var l in o)i.d(a,l,(function(c){return o[c]}).bind(null,l));return a},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="",i(i.s=0)}([function(n,r,i){n.exports=i(1)},function(n,r,i){i.r(r),i.d(r,"default",function(){return o});class o{constructor(){this.nodes={wrapper:null,content:null},this.showed=!1,this.offsetTop=10,this.offsetLeft=10,this.offsetRight=10,this.hidingDelay=0,this.handleWindowScroll=()=>{this.showed&&this.hide(!0)},this.loadStyles(),this.prepare(),window.addEventListener("scroll",this.handleWindowScroll,{passive:!0})}get CSS(){return{tooltip:"ct",tooltipContent:"ct__content",tooltipShown:"ct--shown",placement:{left:"ct--left",bottom:"ct--bottom",right:"ct--right",top:"ct--top"}}}show(a,l,c){this.nodes.wrapper||this.prepare(),this.hidingTimeout&&clearTimeout(this.hidingTimeout);const u=Object.assign({placement:"bottom",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,delay:70,hidingDelay:0},c);if(u.hidingDelay&&(this.hidingDelay=u.hidingDelay),this.nodes.content.innerHTML="",typeof l=="string")this.nodes.content.appendChild(document.createTextNode(l));else{if(!(l instanceof Node))throw Error("[CodeX Tooltip] Wrong type of «content» passed. It should be an instance of Node or String. But "+typeof l+" given.");this.nodes.content.appendChild(l)}switch(this.nodes.wrapper.classList.remove(...Object.values(this.CSS.placement)),u.placement){case"top":this.placeTop(a,u);break;case"left":this.placeLeft(a,u);break;case"right":this.placeRight(a,u);break;case"bottom":default:this.placeBottom(a,u)}u&&u.delay?this.showingTimeout=setTimeout(()=>{this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0},u.delay):(this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0)}hide(a=!1){if(this.hidingDelay&&!a)return this.hidingTimeout&&clearTimeout(this.hidingTimeout),void(this.hidingTimeout=setTimeout(()=>{this.hide(!0)},this.hidingDelay));this.nodes.wrapper.classList.remove(this.CSS.tooltipShown),this.showed=!1,this.showingTimeout&&clearTimeout(this.showingTimeout)}onHover(a,l,c){a.addEventListener("mouseenter",()=>{this.show(a,l,c)}),a.addEventListener("mouseleave",()=>{this.hide()})}destroy(){this.nodes.wrapper.remove(),window.removeEventListener("scroll",this.handleWindowScroll)}prepare(){this.nodes.wrapper=this.make("div",this.CSS.tooltip),this.nodes.content=this.make("div",this.CSS.tooltipContent),this.append(this.nodes.wrapper,this.nodes.content),this.append(document.body,this.nodes.wrapper)}loadStyles(){const a="codex-tooltips-style";if(document.getElementById(a))return;const l=i(2),c=this.make("style",null,{textContent:l.toString(),id:a});this.prepend(document.head,c)}placeBottom(a,l){const c=a.getBoundingClientRect(),u=c.left+a.clientWidth/2-this.nodes.wrapper.offsetWidth/2,d=c.bottom+window.pageYOffset+this.offsetTop+l.marginTop;this.applyPlacement("bottom",u,d)}placeTop(a,l){const c=a.getBoundingClientRect(),u=c.left+a.clientWidth/2-this.nodes.wrapper.offsetWidth/2,d=c.top+window.pageYOffset-this.nodes.wrapper.clientHeight-this.offsetTop;this.applyPlacement("top",u,d)}placeLeft(a,l){const c=a.getBoundingClientRect(),u=c.left-this.nodes.wrapper.offsetWidth-this.offsetLeft-l.marginLeft,d=c.top+window.pageYOffset+a.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("left",u,d)}placeRight(a,l){const c=a.getBoundingClientRect(),u=c.right+this.offsetRight+l.marginRight,d=c.top+window.pageYOffset+a.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("right",u,d)}applyPlacement(a,l,c){this.nodes.wrapper.classList.add(this.CSS.placement[a]),this.nodes.wrapper.style.left=l+"px",this.nodes.wrapper.style.top=c+"px"}make(a,l=null,c={}){const u=document.createElement(a);Array.isArray(l)?u.classList.add(...l):l&&u.classList.add(l);for(const d in c)c.hasOwnProperty(d)&&(u[d]=c[d]);return u}append(a,l){Array.isArray(l)?l.forEach(c=>a.appendChild(c)):a.appendChild(l)}prepend(a,l){Array.isArray(l)?(l=l.reverse()).forEach(c=>a.prepend(c)):a.prepend(l)}}},function(n,r){n.exports=`.ct{z-index:999;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;-webkit-transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1),-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);will-change:opacity,top,left;-webkit-box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);border-radius:9px}.ct,.ct:before{position:absolute;top:0;left:0}.ct:before{content:"";bottom:0;right:0;background-color:#1d202b;z-index:-1;border-radius:4px}@supports(-webkit-mask-box-image:url("")){.ct:before{border-radius:0;-webkit-mask-box-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M10.71 0h2.58c3.02 0 4.64.42 6.1 1.2a8.18 8.18 0 013.4 3.4C23.6 6.07 24 7.7 24 10.71v2.58c0 3.02-.42 4.64-1.2 6.1a8.18 8.18 0 01-3.4 3.4c-1.47.8-3.1 1.21-6.11 1.21H10.7c-3.02 0-4.64-.42-6.1-1.2a8.18 8.18 0 01-3.4-3.4C.4 17.93 0 16.3 0 13.29V10.7c0-3.02.42-4.64 1.2-6.1a8.18 8.18 0 013.4-3.4C6.07.4 7.7 0 10.71 0z"/></svg>') 48% 41% 37.9% 53.3%}}@media (--mobile){.ct{display:none}}.ct__content{padding:6px 10px;color:#cdd1e0;font-size:12px;text-align:center;letter-spacing:.02em;line-height:1em}.ct:after{content:"";width:8px;height:8px;position:absolute;background-color:#1d202b;z-index:-1}.ct--bottom{-webkit-transform:translateY(5px);transform:translateY(5px)}.ct--bottom:after{top:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--top{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.ct--top:after{top:auto;bottom:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--left{-webkit-transform:translateX(-5px);transform:translateX(-5px)}.ct--left:after{top:50%;left:auto;right:0;-webkit-transform:translate(41.6%,-50%) rotate(-45deg);transform:translate(41.6%,-50%) rotate(-45deg)}.ct--right{-webkit-transform:translateX(5px);transform:translateX(5px)}.ct--right:after{top:50%;left:0;-webkit-transform:translate(-41.6%,-50%) rotate(-45deg);transform:translate(-41.6%,-50%) rotate(-45deg)}.ct--shown{opacity:1;-webkit-transform:none;transform:none}`}]).default})})(Cx);var ED=Cx.exports;const SD=bc(ED);let At=null;function yf(){At||(At=new SD)}function CD(t,e,n){yf(),At==null||At.show(t,e,n)}function Bl(t=!1){yf(),At==null||At.hide(t)}function Ll(t,e,n){yf(),At==null||At.onHover(t,e,n)}function TD(){At==null||At.destroy(),At=null}class _D extends q{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n})}get methods(){return{show:(e,n,r)=>this.show(e,n,r),hide:()=>this.hide(),onHover:(e,n,r)=>this.onHover(e,n,r)}}show(e,n,r){CD(e,n,r)}hide(){Bl()}onHover(e,n,r){Ll(e,n,r)}}class ID extends q{get methods(){return{nodes:this.editorNodes}}get editorNodes(){return{wrapper:this.Editor.UI.nodes.wrapper,redactor:this.Editor.UI.nodes.redactor}}}function Tx(t,e){const n={};return Object.entries(t).forEach(([r,i])=>{if(Ie(i)){const o=e?`${e}.${r}`:r;Object.values(i).every(s=>kn(s))?n[r]=o:n[r]=Tx(i,o);return}n[r]=i}),n}const it=Tx(px);function PD(t,e){const n={};return Object.keys(t).forEach(r=>{const i=e[r];i!==void 0?n[i]=t[r]:n[r]=t[r]}),n}const _x=class yo{constructor(e,n){this.cursor=-1,this.items=[],this.items=e||[],this.focusedCssClass=n}get currentItem(){return this.cursor===-1?null:this.items[this.cursor]}setCursor(e){e<this.items.length&&e>=-1&&(this.dropCursor(),this.cursor=e,this.items[this.cursor].classList.add(this.focusedCssClass))}setItems(e){this.items=e}next(){this.cursor=this.leafNodesAndReturnIndex(yo.directions.RIGHT)}previous(){this.cursor=this.leafNodesAndReturnIndex(yo.directions.LEFT)}dropCursor(){this.cursor!==-1&&(this.items[this.cursor].classList.remove(this.focusedCssClass),this.cursor=-1)}leafNodesAndReturnIndex(e){if(this.items.length===0)return this.cursor;let n=this.cursor;return n===-1?n=e===yo.directions.RIGHT?-1:0:this.items[n].classList.remove(this.focusedCssClass),e===yo.directions.RIGHT?n=(n+1)%this.items.length:n=(this.items.length+n-1)%this.items.length,_.canSetCaret(this.items[n])&&Pl(()=>D.setCursor(this.items[n]),50)(),this.items[n].classList.add(this.focusedCssClass),n}};_x.directions={RIGHT:"right",LEFT:"left"};let lo=_x,Ml=class mh{constructor(e){this.iterator=null,this.activated=!1,this.flipCallbacks=[],this.onKeyDown=n=>{if(this.isEventReadyForHandling(n))switch(mh.usedKeys.includes(n.keyCode)&&n.preventDefault(),n.keyCode){case $.TAB:this.handleTabPress(n);break;case $.LEFT:case $.UP:this.flipLeft();break;case $.RIGHT:case $.DOWN:this.flipRight();break;case $.ENTER:this.handleEnterPress(n);break}},this.iterator=new lo(e.items,e.focusedItemClass),this.activateCallback=e.activateCallback,this.allowedKeys=e.allowedKeys||mh.usedKeys}get isActivated(){return this.activated}static get usedKeys(){return[$.TAB,$.LEFT,$.RIGHT,$.ENTER,$.UP,$.DOWN]}activate(e,n){this.activated=!0,e&&this.iterator.setItems(e),n!==void 0&&this.iterator.setCursor(n),document.addEventListener("keydown",this.onKeyDown,!0)}deactivate(){this.activated=!1,this.dropCursor(),document.removeEventListener("keydown",this.onKeyDown)}focusFirst(){this.dropCursor(),this.flipRight()}flipLeft(){this.iterator.previous(),this.flipCallback()}flipRight(){this.iterator.next(),this.flipCallback()}hasFocus(){return!!this.iterator.currentItem}onFlip(e){this.flipCallbacks.push(e)}removeOnFlip(e){this.flipCallbacks=this.flipCallbacks.filter(n=>n!==e)}dropCursor(){this.iterator.dropCursor()}isEventReadyForHandling(e){return this.activated&&this.allowedKeys.includes(e.keyCode)}handleTabPress(e){switch(e.shiftKey?lo.directions.LEFT:lo.directions.RIGHT){case lo.directions.RIGHT:this.flipRight();break;case lo.directions.LEFT:this.flipLeft();break}}handleEnterPress(e){this.activated&&(this.iterator.currentItem&&(e.stopPropagation(),e.preventDefault(),this.iterator.currentItem.click()),ue(this.activateCallback)&&this.activateCallback(this.iterator.currentItem))}flipCallback(){this.iterator.currentItem&&this.iterator.currentItem.scrollIntoViewIfNeeded(),this.flipCallbacks.forEach(e=>e())}};const AD='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 12L9 7.1C9 7.04477 9.04477 7 9.1 7H10.4C11.5 7 14 7.1 14 9.5C14 9.5 14 12 11 12M9 12V16.8C9 16.9105 9.08954 17 9.2 17H12.5C14 17 15 16 15 14.5C15 11.7046 11 12 11 12M9 12H11"/></svg>',OD='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 10L11.8586 14.8586C11.9367 14.9367 12.0633 14.9367 12.1414 14.8586L17 10"/></svg>',BD='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.5 17.5L9.64142 12.6414C9.56331 12.5633 9.56331 12.4367 9.64142 12.3586L14.5 7.5"/></svg>',LD='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9.58284 17.5L14.4414 12.6414C14.5195 12.5633 14.5195 12.4367 14.4414 12.3586L9.58284 7.5"/></svg>',MD='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 15L11.8586 10.1414C11.9367 10.0633 12.0633 10.0633 12.1414 10.1414L17 15"/></svg>',ND='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16"/></svg>',RD='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="2"/></svg>',DD='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13.34 10C12.4223 12.7337 11 17 11 17"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.21 7H14.2"/></svg>',jy='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.5691 6.39509 13.9269 6.25143 12.8271 7.17675L11.3901 8.38588C10.0935 9.47674 9.95706 11.4241 11.0888 12.6852L11.12 12.72"/></svg>',jD='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 7.29999H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 7.29999H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.30999 12H9.3"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 12H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 16.7H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 16.7H14.59"/></svg>',FD='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 7V12M12 17V12M17 12H12M12 12H7"/></svg>',Ix='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M11.5 17.5L5 11M5 11V15.5M5 11H9.5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12.5 6.5L19 13M19 13V8.5M19 13H14.5"/></svg>',$D='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="10.5" cy="10.5" r="5.5" stroke="currentColor" stroke-width="2"/><line x1="15.4142" x2="19" y1="15" y2="18.5858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',UD='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15.7795 11.5C15.7795 11.5 16.053 11.1962 16.5497 10.6722C17.4442 9.72856 17.4701 8.2475 16.5781 7.30145V7.30145C15.6482 6.31522 14.0873 6.29227 13.1288 7.25073L11.8796 8.49999"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8.24517 12.3883C8.24517 12.3883 7.97171 12.6922 7.47504 13.2161C6.58051 14.1598 6.55467 15.6408 7.44666 16.5869V16.5869C8.37653 17.5731 9.93744 17.5961 10.8959 16.6376L12.1452 15.3883"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17.7802 15.1032L16.597 14.9422C16.0109 14.8624 15.4841 15.3059 15.4627 15.8969L15.4199 17.0818"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6.39064 9.03238L7.58432 9.06668C8.17551 9.08366 8.6522 8.58665 8.61056 7.99669L8.5271 6.81397"/><line x1="12.1142" x2="11.7" y1="12.2" y2="11.7858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',VD='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><line x1="12" x2="12" y1="9" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 15.02V15.01"/></svg>',HD="__",zD="--";function ur(t){return(e,n)=>[[t,e].filter(r=>!!r).join(HD),n].filter(r=>!!r).join(zD)}const co=ur("ce-hint"),uo={root:co(),alignedStart:co(null,"align-left"),alignedCenter:co(null,"align-center"),title:co("title"),description:co("description")};class WD{constructor(e){this.nodes={root:_.make("div",[uo.root,e.alignment==="center"?uo.alignedCenter:uo.alignedStart]),title:_.make("div",uo.title,{textContent:e.title})},this.nodes.root.appendChild(this.nodes.title),e.description!==void 0&&(this.nodes.description=_.make("div",uo.description,{textContent:e.description}),this.nodes.root.appendChild(this.nodes.description))}getElement(){return this.nodes.root}}let wf=class{constructor(e){this.params=e}get name(){if(this.params!==void 0&&"name"in this.params)return this.params.name}destroy(){Bl()}onChildrenOpen(){var e;this.params!==void 0&&"children"in this.params&&typeof((e=this.params.children)==null?void 0:e.onOpen)=="function"&&this.params.children.onOpen()}onChildrenClose(){var e;this.params!==void 0&&"children"in this.params&&typeof((e=this.params.children)==null?void 0:e.onClose)=="function"&&this.params.children.onClose()}handleClick(){var e,n;this.params!==void 0&&"onActivate"in this.params&&((n=(e=this.params).onActivate)==null||n.call(e,this.params))}addHint(e,n){const r=new WD(n);Ll(e,r.getElement(),{placement:n.position,hidingDelay:100})}get children(){var e;return this.params!==void 0&&"children"in this.params&&((e=this.params.children)==null?void 0:e.items)!==void 0?this.params.children.items:[]}get hasChildren(){return this.children.length>0}get isChildrenOpen(){var e;return this.params!==void 0&&"children"in this.params&&((e=this.params.children)==null?void 0:e.isOpen)===!0}get isChildrenFlippable(){var e;return!(this.params===void 0||!("children"in this.params)||((e=this.params.children)==null?void 0:e.isFlippable)===!1)}get isChildrenSearchable(){var e;return this.params!==void 0&&"children"in this.params&&((e=this.params.children)==null?void 0:e.searchable)===!0}get closeOnActivate(){return this.params!==void 0&&"closeOnActivate"in this.params&&this.params.closeOnActivate}get isActive(){return this.params===void 0||!("isActive"in this.params)?!1:typeof this.params.isActive=="function"?this.params.isActive():this.params.isActive===!0}};const tt=ur("ce-popover-item"),pe={container:tt(),active:tt(null,"active"),disabled:tt(null,"disabled"),focused:tt(null,"focused"),hidden:tt(null,"hidden"),confirmationState:tt(null,"confirmation"),noHover:tt(null,"no-hover"),noFocus:tt(null,"no-focus"),title:tt("title"),secondaryTitle:tt("secondary-title"),icon:tt("icon"),iconTool:tt("icon","tool"),iconChevronRight:tt("icon","chevron-right"),wobbleAnimation:ur("wobble")()};let Tr=class extends wf{constructor(e,n){super(e),this.params=e,this.nodes={root:null,icon:null},this.confirmationState=null,this.removeSpecialFocusBehavior=()=>{var r;(r=this.nodes.root)==null||r.classList.remove(pe.noFocus)},this.removeSpecialHoverBehavior=()=>{var r;(r=this.nodes.root)==null||r.classList.remove(pe.noHover)},this.onErrorAnimationEnd=()=>{var r,i;(r=this.nodes.icon)==null||r.classList.remove(pe.wobbleAnimation),(i=this.nodes.icon)==null||i.removeEventListener("animationend",this.onErrorAnimationEnd)},this.nodes.root=this.make(e,n)}get isDisabled(){return this.params.isDisabled===!0}get toggle(){return this.params.toggle}get title(){return this.params.title}get isConfirmationStateEnabled(){return this.confirmationState!==null}get isFocused(){return this.nodes.root===null?!1:this.nodes.root.classList.contains(pe.focused)}getElement(){return this.nodes.root}handleClick(){if(this.isConfirmationStateEnabled&&this.confirmationState!==null){this.activateOrEnableConfirmationMode(this.confirmationState);return}this.activateOrEnableConfirmationMode(this.params)}toggleActive(e){var n;(n=this.nodes.root)==null||n.classList.toggle(pe.active,e)}toggleHidden(e){var n;(n=this.nodes.root)==null||n.classList.toggle(pe.hidden,e)}reset(){this.isConfirmationStateEnabled&&this.disableConfirmationMode()}onFocus(){this.disableSpecialHoverAndFocusBehavior()}make(e,n){var r,i;const o=(n==null?void 0:n.wrapperTag)||"div",s=_.make(o,pe.container,{type:o==="button"?"button":void 0});return e.name&&(s.dataset.itemName=e.name),this.nodes.icon=_.make("div",[pe.icon,pe.iconTool],{innerHTML:e.icon||RD}),s.appendChild(this.nodes.icon),e.title!==void 0&&s.appendChild(_.make("div",pe.title,{innerHTML:e.title||""})),e.secondaryLabel&&s.appendChild(_.make("div",pe.secondaryTitle,{textContent:e.secondaryLabel})),this.hasChildren&&s.appendChild(_.make("div",[pe.icon,pe.iconChevronRight],{innerHTML:LD})),this.isActive&&s.classList.add(pe.active),e.isDisabled&&s.classList.add(pe.disabled),e.hint!==void 0&&((r=n==null?void 0:n.hint)==null?void 0:r.enabled)!==!1&&this.addHint(s,{...e.hint,position:((i=n==null?void 0:n.hint)==null?void 0:i.position)||"right"}),s}enableConfirmationMode(e){if(this.nodes.root===null)return;const n={...this.params,...e,confirmation:"confirmation"in e?e.confirmation:void 0},r=this.make(n);this.nodes.root.innerHTML=r.innerHTML,this.nodes.root.classList.add(pe.confirmationState),this.confirmationState=e,this.enableSpecialHoverAndFocusBehavior()}disableConfirmationMode(){if(this.nodes.root===null)return;const e=this.make(this.params);this.nodes.root.innerHTML=e.innerHTML,this.nodes.root.classList.remove(pe.confirmationState),this.confirmationState=null,this.disableSpecialHoverAndFocusBehavior()}enableSpecialHoverAndFocusBehavior(){var e,n,r;(e=this.nodes.root)==null||e.classList.add(pe.noHover),(n=this.nodes.root)==null||n.classList.add(pe.noFocus),(r=this.nodes.root)==null||r.addEventListener("mouseleave",this.removeSpecialHoverBehavior,{once:!0})}disableSpecialHoverAndFocusBehavior(){var e;this.removeSpecialFocusBehavior(),this.removeSpecialHoverBehavior(),(e=this.nodes.root)==null||e.removeEventListener("mouseleave",this.removeSpecialHoverBehavior)}activateOrEnableConfirmationMode(e){var n;if(!("confirmation"in e)||e.confirmation===void 0)try{(n=e.onActivate)==null||n.call(e,e),this.disableConfirmationMode()}catch{this.animateError()}else this.enableConfirmationMode(e.confirmation)}animateError(){var e,n,r;(e=this.nodes.icon)!=null&&e.classList.contains(pe.wobbleAnimation)||((n=this.nodes.icon)==null||n.classList.add(pe.wobbleAnimation),(r=this.nodes.icon)==null||r.addEventListener("animationend",this.onErrorAnimationEnd))}};const Tu=ur("ce-popover-item-separator"),_u={container:Tu(),line:Tu("line"),hidden:Tu(null,"hidden")};let Px=class extends wf{constructor(){super(),this.nodes={root:_.make("div",_u.container),line:_.make("div",_u.line)},this.nodes.root.appendChild(this.nodes.line)}getElement(){return this.nodes.root}toggleHidden(e){var n;(n=this.nodes.root)==null||n.classList.toggle(_u.hidden,e)}};var Vt=(t=>(t.Closed="closed",t.ClosedOnActivate="closed-on-activate",t))(Vt||{});const je=ur("ce-popover"),ve={popover:je(),popoverContainer:je("container"),popoverOpenTop:je(null,"open-top"),popoverOpenLeft:je(null,"open-left"),popoverOpened:je(null,"opened"),search:je("search"),nothingFoundMessage:je("nothing-found-message"),nothingFoundMessageDisplayed:je("nothing-found-message","displayed"),items:je("items"),overlay:je("overlay"),overlayHidden:je("overlay","hidden"),popoverNested:je(null,"nested"),getPopoverNestedClass:t=>je(null,`nested-level-${t.toString()}`),popoverInline:je(null,"inline"),popoverHeader:je("header")};var Ti=(t=>(t.NestingLevel="--nesting-level",t.PopoverHeight="--popover-height",t.InlinePopoverWidth="--inline-popover-width",t.TriggerItemLeft="--trigger-item-left",t.TriggerItemTop="--trigger-item-top",t))(Ti||{});const Fy=ur("ce-popover-item-html"),$y={root:Fy(),hidden:Fy(null,"hidden")};let hs=class extends wf{constructor(e,n){var r,i;super(e),this.nodes={root:_.make("div",$y.root)},this.nodes.root.appendChild(e.element),e.name&&(this.nodes.root.dataset.itemName=e.name),e.hint!==void 0&&((r=n==null?void 0:n.hint)==null?void 0:r.enabled)!==!1&&this.addHint(this.nodes.root,{...e.hint,position:((i=n==null?void 0:n.hint)==null?void 0:i.position)||"right"})}getElement(){return this.nodes.root}toggleHidden(e){var n;(n=this.nodes.root)==null||n.classList.toggle($y.hidden,e)}getControls(){const e=this.nodes.root.querySelectorAll(`button, ${_.allInputsSelector}`);return Array.from(e)}},Ax=class extends Ls{constructor(e,n={}){super(),this.params=e,this.itemsRenderParams=n,this.listeners=new Ms,this.messages={nothingFound:"Nothing found",search:"Search"},this.items=this.buildItems(e.items),e.messages&&(this.messages={...this.messages,...e.messages}),this.nodes={},this.nodes.popoverContainer=_.make("div",[ve.popoverContainer]),this.nodes.nothingFoundMessage=_.make("div",[ve.nothingFoundMessage],{textContent:this.messages.nothingFound}),this.nodes.popoverContainer.appendChild(this.nodes.nothingFoundMessage),this.nodes.items=_.make("div",[ve.items]),this.items.forEach(r=>{const i=r.getElement();i!==null&&this.nodes.items.appendChild(i)}),this.nodes.popoverContainer.appendChild(this.nodes.items),this.listeners.on(this.nodes.popoverContainer,"click",r=>this.handleClick(r)),this.nodes.popover=_.make("div",[ve.popover,this.params.class]),this.nodes.popover.appendChild(this.nodes.popoverContainer)}get itemsDefault(){return this.items.filter(e=>e instanceof Tr)}getElement(){return this.nodes.popover}show(){this.nodes.popover.classList.add(ve.popoverOpened),this.search!==void 0&&this.search.focus()}hide(){this.nodes.popover.classList.remove(ve.popoverOpened),this.nodes.popover.classList.remove(ve.popoverOpenTop),this.itemsDefault.forEach(e=>e.reset()),this.search!==void 0&&this.search.clear(),this.emit(Vt.Closed)}destroy(){var e;this.items.forEach(n=>n.destroy()),this.nodes.popover.remove(),this.listeners.removeAll(),(e=this.search)==null||e.destroy()}activateItemByName(e){const n=this.items.find(r=>r.name===e);this.handleItemClick(n)}buildItems(e){return e.map(n=>{switch(n.type){case ie.Separator:return new Px;case ie.Html:return new hs(n,this.itemsRenderParams[ie.Html]);default:return new Tr(n,this.itemsRenderParams[ie.Default])}})}getTargetItem(e){return this.items.filter(n=>n instanceof Tr||n instanceof hs).find(n=>{const r=n.getElement();return r===null?!1:e.composedPath().includes(r)})}handleItemClick(e){if(!("isDisabled"in e&&e.isDisabled)){if(e.hasChildren){this.showNestedItems(e),"handleClick"in e&&typeof e.handleClick=="function"&&e.handleClick();return}this.itemsDefault.filter(n=>n!==e).forEach(n=>n.reset()),"handleClick"in e&&typeof e.handleClick=="function"&&e.handleClick(),this.toggleItemActivenessIfNeeded(e),e.closeOnActivate&&(this.hide(),this.emit(Vt.ClosedOnActivate))}}handleClick(e){const n=this.getTargetItem(e);n!==void 0&&this.handleItemClick(n)}toggleItemActivenessIfNeeded(e){if(e instanceof Tr&&(e.toggle===!0&&e.toggleActive(),typeof e.toggle=="string")){const n=this.itemsDefault.filter(r=>r.toggle===e.toggle);if(n.length===1){e.toggleActive();return}n.forEach(r=>{r.toggleActive(r===e)})}}};var Nl=(t=>(t.Search="search",t))(Nl||{});const Iu=ur("cdx-search-field"),Pu={wrapper:Iu(),icon:Iu("icon"),input:Iu("input")};class KD extends Ls{constructor({items:e,placeholder:n}){super(),this.listeners=new Ms,this.items=e,this.wrapper=_.make("div",Pu.wrapper);const r=_.make("div",Pu.icon,{innerHTML:$D});this.input=_.make("input",Pu.input,{placeholder:n,tabIndex:-1}),this.wrapper.appendChild(r),this.wrapper.appendChild(this.input),this.listeners.on(this.input,"input",()=>{this.searchQuery=this.input.value,this.emit(Nl.Search,{query:this.searchQuery,items:this.foundItems})})}getElement(){return this.wrapper}focus(){this.input.focus()}clear(){this.input.value="",this.searchQuery="",this.emit(Nl.Search,{query:"",items:this.foundItems})}destroy(){this.listeners.removeAll()}get foundItems(){return this.items.filter(e=>this.checkItem(e))}checkItem(e){var n,r;const i=((n=e.title)==null?void 0:n.toLowerCase())||"",o=(r=this.searchQuery)==null?void 0:r.toLowerCase();return o!==void 0?i.includes(o):!1}}var qD=Object.defineProperty,GD=Object.getOwnPropertyDescriptor,YD=(t,e,n,r)=>{for(var i=GD(e,n),o=t.length-1,s;o>=0;o--)(s=t[o])&&(i=s(e,n,i)||i);return i&&qD(e,n,i),i};const Ox=class Bx extends Ax{constructor(e,n){super(e,n),this.nestingLevel=0,this.nestedPopoverTriggerItem=null,this.previouslyHoveredItem=null,this.scopeElement=document.body,this.hide=()=>{var r;super.hide(),this.destroyNestedPopoverIfExists(),(r=this.flipper)==null||r.deactivate(),this.previouslyHoveredItem=null},this.onFlip=()=>{const r=this.itemsDefault.find(i=>i.isFocused);r==null||r.onFocus()},this.onSearch=r=>{var i;const o=r.query==="",s=r.items.length===0;this.items.forEach(l=>{let c=!1;l instanceof Tr?c=!r.items.includes(l):(l instanceof Px||l instanceof hs)&&(c=s||!o),l.toggleHidden(c)}),this.toggleNothingFoundMessage(s);const a=r.query===""?this.flippableElements:r.items.map(l=>l.getElement());(i=this.flipper)!=null&&i.isActivated&&(this.flipper.deactivate(),this.flipper.activate(a))},e.nestingLevel!==void 0&&(this.nestingLevel=e.nestingLevel),this.nestingLevel>0&&this.nodes.popover.classList.add(ve.popoverNested),e.scopeElement!==void 0&&(this.scopeElement=e.scopeElement),this.nodes.popoverContainer!==null&&this.listeners.on(this.nodes.popoverContainer,"mouseover",r=>this.handleHover(r)),e.searchable&&this.addSearch(),e.flippable!==!1&&(this.flipper=new Ml({items:this.flippableElements,focusedItemClass:pe.focused,allowedKeys:[$.TAB,$.UP,$.DOWN,$.ENTER]}),this.flipper.onFlip(this.onFlip))}hasFocus(){return this.flipper===void 0?!1:this.flipper.hasFocus()}get scrollTop(){return this.nodes.items===null?0:this.nodes.items.scrollTop}get offsetTop(){return this.nodes.popoverContainer===null?0:this.nodes.popoverContainer.offsetTop}show(){var e;this.nodes.popover.style.setProperty(Ti.PopoverHeight,this.size.height+"px"),this.shouldOpenBottom||this.nodes.popover.classList.add(ve.popoverOpenTop),this.shouldOpenRight||this.nodes.popover.classList.add(ve.popoverOpenLeft),super.show(),(e=this.flipper)==null||e.activate(this.flippableElements)}destroy(){this.hide(),super.destroy()}showNestedItems(e){this.nestedPopover!==null&&this.nestedPopover!==void 0||(this.nestedPopoverTriggerItem=e,this.showNestedPopoverForItem(e))}handleHover(e){const n=this.getTargetItem(e);n!==void 0&&this.previouslyHoveredItem!==n&&(this.destroyNestedPopoverIfExists(),this.previouslyHoveredItem=n,n.hasChildren&&this.showNestedPopoverForItem(n))}setTriggerItemPosition(e,n){const r=n.getElement(),i=(r?r.offsetTop:0)-this.scrollTop,o=this.offsetTop+i;e.style.setProperty(Ti.TriggerItemTop,o+"px")}destroyNestedPopoverIfExists(){var e,n;this.nestedPopover===void 0||this.nestedPopover===null||(this.nestedPopover.off(Vt.ClosedOnActivate,this.hide),this.nestedPopover.hide(),this.nestedPopover.destroy(),this.nestedPopover.getElement().remove(),this.nestedPopover=null,(e=this.flipper)==null||e.activate(this.flippableElements),(n=this.nestedPopoverTriggerItem)==null||n.onChildrenClose())}showNestedPopoverForItem(e){var n;this.nestedPopover=new Bx({searchable:e.isChildrenSearchable,items:e.children,nestingLevel:this.nestingLevel+1,flippable:e.isChildrenFlippable,messages:this.messages}),e.onChildrenOpen(),this.nestedPopover.on(Vt.ClosedOnActivate,this.hide);const r=this.nestedPopover.getElement();return this.nodes.popover.appendChild(r),this.setTriggerItemPosition(r,e),r.style.setProperty(Ti.NestingLevel,this.nestedPopover.nestingLevel.toString()),this.nestedPopover.show(),(n=this.flipper)==null||n.deactivate(),this.nestedPopover}get shouldOpenBottom(){if(this.nodes.popover===void 0||this.nodes.popover===null)return!1;const e=this.nodes.popoverContainer.getBoundingClientRect(),n=this.scopeElement.getBoundingClientRect(),r=this.size.height,i=e.top+r,o=e.top-r,s=Math.min(window.innerHeight,n.bottom);return o<n.top||i<=s}get shouldOpenRight(){if(this.nodes.popover===void 0||this.nodes.popover===null)return!1;const e=this.nodes.popover.getBoundingClientRect(),n=this.scopeElement.getBoundingClientRect(),r=this.size.width,i=e.right+r,o=e.left-r,s=Math.min(window.innerWidth,n.right);return o<n.left||i<=s}get size(){var e;const n={height:0,width:0};if(this.nodes.popover===null)return n;const r=this.nodes.popover.cloneNode(!0);r.style.visibility="hidden",r.style.position="absolute",r.style.top="-1000px",r.classList.add(ve.popoverOpened),(e=r.querySelector("."+ve.popoverNested))==null||e.remove(),document.body.appendChild(r);const i=r.querySelector("."+ve.popoverContainer);return n.height=i.offsetHeight,n.width=i.offsetWidth,r.remove(),n}get flippableElements(){return this.items.map(e=>{if(e instanceof Tr)return e.getElement();if(e instanceof hs)return e.getControls()}).flat().filter(e=>e!=null)}addSearch(){this.search=new KD({items:this.itemsDefault,placeholder:this.messages.search}),this.search.on(Nl.Search,this.onSearch);const e=this.search.getElement();e.classList.add(ve.search),this.nodes.popoverContainer.insertBefore(e,this.nodes.popoverContainer.firstChild)}toggleNothingFoundMessage(e){this.nodes.nothingFoundMessage.classList.toggle(ve.nothingFoundMessageDisplayed,e)}};YD([Xi],Ox.prototype,"size");let bf=Ox;class XD extends bf{constructor(e){const n=!Ji();super({...e,class:ve.popoverInline},{[ie.Default]:{wrapperTag:"button",hint:{position:"top",alignment:"center",enabled:n}},[ie.Html]:{hint:{position:"top",alignment:"center",enabled:n}}}),this.items.forEach(r=>{!(r instanceof Tr)&&!(r instanceof hs)||r.hasChildren&&r.isChildrenOpen&&this.showNestedItems(r)})}get offsetLeft(){return this.nodes.popoverContainer===null?0:this.nodes.popoverContainer.offsetLeft}show(){this.nestingLevel===0&&this.nodes.popover.style.setProperty(Ti.InlinePopoverWidth,this.size.width+"px"),super.show()}handleHover(){}setTriggerItemPosition(e,n){const r=n.getElement(),i=r?r.offsetLeft:0,o=this.offsetLeft+i;e.style.setProperty(Ti.TriggerItemLeft,o+"px")}showNestedItems(e){if(this.nestedPopoverTriggerItem===e){this.destroyNestedPopoverIfExists(),this.nestedPopoverTriggerItem=null;return}super.showNestedItems(e)}showNestedPopoverForItem(e){const n=super.showNestedPopoverForItem(e);return n.getElement().classList.add(ve.getPopoverNestedClass(n.nestingLevel)),n}handleItemClick(e){var n;e!==this.nestedPopoverTriggerItem&&((n=this.nestedPopoverTriggerItem)==null||n.handleClick(),super.destroyNestedPopoverIfExists()),super.handleItemClick(e)}}const Lx=class wo{constructor(){this.scrollPosition=null}lock(){hh?this.lockHard():document.body.classList.add(wo.CSS.scrollLocked)}unlock(){hh?this.unlockHard():document.body.classList.remove(wo.CSS.scrollLocked)}lockHard(){this.scrollPosition=window.pageYOffset,document.documentElement.style.setProperty("--window-scroll-offset",`${this.scrollPosition}px`),document.body.classList.add(wo.CSS.scrollLockedHard)}unlockHard(){document.body.classList.remove(wo.CSS.scrollLockedHard),this.scrollPosition!==null&&window.scrollTo(0,this.scrollPosition),this.scrollPosition=null}};Lx.CSS={scrollLocked:"ce-scroll-locked",scrollLockedHard:"ce-scroll-locked--hard"};let JD=Lx;const Au=ur("ce-popover-header"),Ou={root:Au(),text:Au("text"),backButton:Au("back-button")};class QD{constructor({text:e,onBackButtonClick:n}){this.listeners=new Ms,this.text=e,this.onBackButtonClick=n,this.nodes={root:_.make("div",[Ou.root]),backButton:_.make("button",[Ou.backButton]),text:_.make("div",[Ou.text])},this.nodes.backButton.innerHTML=BD,this.nodes.root.appendChild(this.nodes.backButton),this.listeners.on(this.nodes.backButton,"click",this.onBackButtonClick),this.nodes.text.innerText=this.text,this.nodes.root.appendChild(this.nodes.text)}getElement(){return this.nodes.root}destroy(){this.nodes.root.remove(),this.listeners.destroy()}}class ZD{constructor(){this.history=[]}push(e){this.history.push(e)}pop(){return this.history.pop()}get currentTitle(){return this.history.length===0?"":this.history[this.history.length-1].title}get currentItems(){return this.history.length===0?[]:this.history[this.history.length-1].items}reset(){for(;this.history.length>1;)this.pop()}}let Mx=class extends Ax{constructor(e){super(e,{[ie.Default]:{hint:{enabled:!1}},[ie.Html]:{hint:{enabled:!1}}}),this.scrollLocker=new JD,this.history=new ZD,this.isHidden=!0,this.nodes.overlay=_.make("div",[ve.overlay,ve.overlayHidden]),this.nodes.popover.insertBefore(this.nodes.overlay,this.nodes.popover.firstChild),this.listeners.on(this.nodes.overlay,"click",()=>{this.hide()}),this.history.push({items:e.items})}show(){this.nodes.overlay.classList.remove(ve.overlayHidden),super.show(),this.scrollLocker.lock(),this.isHidden=!1}hide(){this.isHidden||(super.hide(),this.nodes.overlay.classList.add(ve.overlayHidden),this.scrollLocker.unlock(),this.history.reset(),this.isHidden=!0)}destroy(){super.destroy(),this.scrollLocker.unlock()}showNestedItems(e){this.updateItemsAndHeader(e.children,e.title),this.history.push({title:e.title,items:e.children})}updateItemsAndHeader(e,n){if(this.header!==null&&this.header!==void 0&&(this.header.destroy(),this.header=null),n!==void 0){this.header=new QD({text:n,onBackButtonClick:()=>{this.history.pop(),this.updateItemsAndHeader(this.history.currentItems,this.history.currentTitle)}});const r=this.header.getElement();r!==null&&this.nodes.popoverContainer.insertBefore(r,this.nodes.popoverContainer.firstChild)}this.items.forEach(r=>{var i;return(i=r.getElement())==null?void 0:i.remove()}),this.items=this.buildItems(e),this.items.forEach(r=>{var i;const o=r.getElement();o!==null&&((i=this.nodes.items)==null||i.appendChild(o))})}};class e4 extends q{constructor(){super(...arguments),this.opened=!1,this.selection=new D,this.popover=null,this.close=()=>{this.opened&&(this.opened=!1,D.isAtEditor||this.selection.restore(),this.selection.clearSaved(),!this.Editor.CrossBlockSelection.isCrossBlockSelectionStarted&&this.Editor.BlockManager.currentBlock&&this.Editor.BlockSelection.unselectBlock(this.Editor.BlockManager.currentBlock),this.eventsDispatcher.emit(this.events.closed),this.popover&&(this.popover.off(Vt.Closed,this.onPopoverClose),this.popover.destroy(),this.popover.getElement().remove(),this.popover=null))},this.onPopoverClose=()=>{this.close()}}get events(){return{opened:"block-settings-opened",closed:"block-settings-closed"}}get CSS(){return{settings:"ce-settings"}}get flipper(){var e;if(this.popover!==null)return"flipper"in this.popover?(e=this.popover)==null?void 0:e.flipper:void 0}make(){this.nodes.wrapper=_.make("div",[this.CSS.settings]),this.eventsDispatcher.on(ds,this.close)}destroy(){this.removeAllNodes(),this.listeners.destroy(),this.eventsDispatcher.off(ds,this.close)}async open(e=this.Editor.BlockManager.currentBlock){var n;this.opened=!0,this.selection.save(),this.Editor.BlockSelection.selectBlock(e),this.Editor.BlockSelection.clearCache();const{toolTunes:r,commonTunes:i}=e.getTunes();this.eventsDispatcher.emit(this.events.opened);const o=Ji()?Mx:bf;this.popover=new o({searchable:!0,items:await this.getTunesItems(e,i,r),scopeElement:this.Editor.API.methods.ui.nodes.redactor,messages:{nothingFound:Ue.ui(it.ui.popover,"Nothing found"),search:Ue.ui(it.ui.popover,"Filter")}}),this.popover.on(Vt.Closed,this.onPopoverClose),(n=this.nodes.wrapper)==null||n.append(this.popover.getElement()),this.popover.show()}getElement(){return this.nodes.wrapper}async getTunesItems(e,n,r){const i=[];r!==void 0&&r.length>0&&(i.push(...r),i.push({type:ie.Separator}));const o=Array.from(this.Editor.Tools.blockTools.values()),s=(await kx(e,o)).reduce((a,l)=>(l.toolbox.forEach(c=>{a.push({icon:c.icon,title:Ue.t(it.toolNames,c.title),name:l.name,closeOnActivate:!0,onActivate:async()=>{const{BlockManager:u,Caret:d,Toolbar:h}=this.Editor,y=await u.convert(e,l.name,c.data);h.close(),d.setToBlock(y,d.positions.END)}})}),a),[]);return s.length>0&&(i.push({icon:Ix,name:"convert-to",title:Ue.ui(it.ui.popover,"Convert to"),children:{searchable:!0,items:s}}),i.push({type:ie.Separator})),i.push(...n),i.map(a=>this.resolveTuneAliases(a))}resolveTuneAliases(e){if(e.type===ie.Separator||e.type===ie.Html)return e;const n=PD(e,{label:"title"});return e.confirmation&&(n.confirmation=this.resolveTuneAliases(e.confirmation)),n}}var Nx={exports:{}};/*!
 * Library for handling keyboard shortcuts
 * @copyright CodeX (https://codex.so)
 * @license MIT
 * @author CodeX (https://codex.so)
 * @version 1.2.0
 */(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,a){i.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:a})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,s){if(1&s&&(o=i(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var l in o)i.d(a,l,(function(c){return o[c]}).bind(null,l));return a},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="",i(i.s=0)}([function(n,r,i){function o(l,c){for(var u=0;u<c.length;u++){var d=c[u];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}function s(l,c,u){return c&&o(l.prototype,c),u&&o(l,u),l}i.r(r);var a=function(){function l(c){var u=this;(function(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")})(this,l),this.commands={},this.keys={},this.name=c.name,this.parseShortcutName(c.name),this.element=c.on,this.callback=c.callback,this.executeShortcut=function(d){u.execute(d)},this.element.addEventListener("keydown",this.executeShortcut,!1)}return s(l,null,[{key:"supportedCommands",get:function(){return{SHIFT:["SHIFT"],CMD:["CMD","CONTROL","COMMAND","WINDOWS","CTRL"],ALT:["ALT","OPTION"]}}},{key:"keyCodes",get:function(){return{0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,BACKSPACE:8,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,".":190}}}]),s(l,[{key:"parseShortcutName",value:function(c){c=c.split("+");for(var u=0;u<c.length;u++){c[u]=c[u].toUpperCase();var d=!1;for(var h in l.supportedCommands)if(l.supportedCommands[h].includes(c[u])){d=this.commands[h]=!0;break}d||(this.keys[c[u]]=!0)}for(var y in l.supportedCommands)this.commands[y]||(this.commands[y]=!1)}},{key:"execute",value:function(c){var u,d={CMD:c.ctrlKey||c.metaKey,SHIFT:c.shiftKey,ALT:c.altKey},h=!0;for(u in this.commands)this.commands[u]!==d[u]&&(h=!1);var y,f=!0;for(y in this.keys)f=f&&c.keyCode===l.keyCodes[y];h&&f&&this.callback(c)}},{key:"remove",value:function(){this.element.removeEventListener("keydown",this.executeShortcut)}}]),l}();r.default=a}]).default})})(Nx);var t4=Nx.exports;const n4=bc(t4);class r4{constructor(){this.registeredShortcuts=new Map}add(e){if(this.findShortcut(e.on,e.name))throw Error(`Shortcut ${e.name} is already registered for ${e.on}. Please remove it before add a new handler.`);const n=new n4({name:e.name,on:e.on,callback:e.handler}),r=this.registeredShortcuts.get(e.on)||[];this.registeredShortcuts.set(e.on,[...r,n])}remove(e,n){const r=this.findShortcut(e,n);if(!r)return;r.remove();const i=this.registeredShortcuts.get(e);this.registeredShortcuts.set(e,i.filter(o=>o!==r))}findShortcut(e,n){return(this.registeredShortcuts.get(e)||[]).find(({name:r})=>r===n)}}const Fi=new r4;var i4=Object.defineProperty,o4=Object.getOwnPropertyDescriptor,Rx=(t,e,n,r)=>{for(var i=o4(e,n),o=t.length-1,s;o>=0;o--)(s=t[o])&&(i=s(e,n,i)||i);return i&&i4(e,n,i),i},La=(t=>(t.Opened="toolbox-opened",t.Closed="toolbox-closed",t.BlockAdded="toolbox-block-added",t))(La||{});const kf=class Dx extends Ls{constructor({api:e,tools:n,i18nLabels:r}){super(),this.opened=!1,this.listeners=new Ms,this.popover=null,this.handleMobileLayoutToggle=()=>{this.destroyPopover(),this.initPopover()},this.onPopoverClose=()=>{this.opened=!1,this.emit("toolbox-closed")},this.api=e,this.tools=n,this.i18nLabels=r,this.enableShortcuts(),this.nodes={toolbox:_.make("div",Dx.CSS.toolbox)},this.initPopover(),this.api.events.on(ds,this.handleMobileLayoutToggle)}get isEmpty(){return this.toolsToBeDisplayed.length===0}static get CSS(){return{toolbox:"ce-toolbox"}}getElement(){return this.nodes.toolbox}hasFocus(){if(this.popover!==null)return"hasFocus"in this.popover?this.popover.hasFocus():void 0}destroy(){var e;super.destroy(),this.nodes&&this.nodes.toolbox&&this.nodes.toolbox.remove(),this.removeAllShortcuts(),(e=this.popover)==null||e.off(Vt.Closed,this.onPopoverClose),this.listeners.destroy(),this.api.events.off(ds,this.handleMobileLayoutToggle)}toolButtonActivated(e,n){this.insertNewBlock(e,n)}open(){var e;this.isEmpty||((e=this.popover)==null||e.show(),this.opened=!0,this.emit("toolbox-opened"))}close(){var e;(e=this.popover)==null||e.hide(),this.opened=!1,this.emit("toolbox-closed")}toggle(){this.opened?this.close():this.open()}initPopover(){var e;const n=Ji()?Mx:bf;this.popover=new n({scopeElement:this.api.ui.nodes.redactor,searchable:!0,messages:{nothingFound:this.i18nLabels.nothingFound,search:this.i18nLabels.filter},items:this.toolboxItemsToBeDisplayed}),this.popover.on(Vt.Closed,this.onPopoverClose),(e=this.nodes.toolbox)==null||e.append(this.popover.getElement())}destroyPopover(){this.popover!==null&&(this.popover.hide(),this.popover.off(Vt.Closed,this.onPopoverClose),this.popover.destroy(),this.popover=null),this.nodes.toolbox!==null&&(this.nodes.toolbox.innerHTML="")}get toolsToBeDisplayed(){const e=[];return this.tools.forEach(n=>{n.toolbox&&e.push(n)}),e}get toolboxItemsToBeDisplayed(){const e=(n,r)=>({icon:n.icon,title:Ue.t(it.toolNames,n.title||Al(r.name)),name:r.name,onActivate:()=>{this.toolButtonActivated(r.name,n.data)},secondaryLabel:r.shortcut?mf(r.shortcut):""});return this.toolsToBeDisplayed.reduce((n,r)=>(Array.isArray(r.toolbox)?r.toolbox.forEach(i=>{n.push(e(i,r))}):r.toolbox!==void 0&&n.push(e(r.toolbox,r)),n),[])}enableShortcuts(){this.toolsToBeDisplayed.forEach(e=>{const n=e.shortcut;n&&this.enableShortcutForTool(e.name,n)})}enableShortcutForTool(e,n){Fi.add({name:n,on:this.api.ui.nodes.redactor,handler:async r=>{r.preventDefault();const i=this.api.blocks.getCurrentBlockIndex(),o=this.api.blocks.getBlockByIndex(i);if(o)try{const s=await this.api.blocks.convert(o.id,e);this.api.caret.setToBlock(s,"end");return}catch{}this.insertNewBlock(e)}})}removeAllShortcuts(){this.toolsToBeDisplayed.forEach(e=>{const n=e.shortcut;n&&Fi.remove(this.api.ui.nodes.redactor,n)})}async insertNewBlock(e,n){const r=this.api.blocks.getCurrentBlockIndex(),i=this.api.blocks.getBlockByIndex(r);if(!i)return;const o=i.isEmpty?r:r+1;let s;if(n){const l=await this.api.blocks.composeBlockData(e);s=Object.assign(l,n)}const a=this.api.blocks.insert(e,s,void 0,o,void 0,i.isEmpty);a.call(Xt.APPEND_CALLBACK),this.api.caret.setToBlock(o),this.emit("toolbox-block-added",{block:a}),this.api.toolbar.close()}};Rx([Xi],kf.prototype,"toolsToBeDisplayed");Rx([Xi],kf.prototype,"toolboxItemsToBeDisplayed");let s4=kf;const jx="block hovered";async function a4(t,e){const n=navigator.keyboard;if(!n)return e;try{return(await n.getLayoutMap()).get(t)||e}catch(r){return console.error(r),e}}class l4 extends q{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.toolboxInstance=null}get CSS(){return{toolbar:"ce-toolbar",content:"ce-toolbar__content",actions:"ce-toolbar__actions",actionsOpened:"ce-toolbar__actions--opened",toolbarOpened:"ce-toolbar--opened",openedToolboxHolderModifier:"codex-editor--toolbox-opened",plusButton:"ce-toolbar__plus",plusButtonShortcut:"ce-toolbar__plus-shortcut",settingsToggler:"ce-toolbar__settings-btn",settingsTogglerHidden:"ce-toolbar__settings-btn--hidden"}}get opened(){return this.nodes.wrapper.classList.contains(this.CSS.toolbarOpened)}get toolbox(){var e;return{opened:(e=this.toolboxInstance)==null?void 0:e.opened,close:()=>{var n;(n=this.toolboxInstance)==null||n.close()},open:()=>{if(this.toolboxInstance===null){X("toolbox.open() called before initialization is finished","warn");return}this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.toolboxInstance.open()},toggle:()=>{if(this.toolboxInstance===null){X("toolbox.toggle() called before initialization is finished","warn");return}this.toolboxInstance.toggle()},hasFocus:()=>{var n;return(n=this.toolboxInstance)==null?void 0:n.hasFocus()}}}get blockActions(){return{hide:()=>{this.nodes.actions.classList.remove(this.CSS.actionsOpened)},show:()=>{this.nodes.actions.classList.add(this.CSS.actionsOpened)}}}get blockTunesToggler(){return{hide:()=>this.nodes.settingsToggler.classList.add(this.CSS.settingsTogglerHidden),show:()=>this.nodes.settingsToggler.classList.remove(this.CSS.settingsTogglerHidden)}}toggleReadOnly(e){e?(this.destroy(),this.Editor.BlockSettings.destroy(),this.disableModuleBindings()):window.requestIdleCallback(()=>{this.drawUI(),this.enableModuleBindings()},{timeout:2e3})}moveAndOpen(e=this.Editor.BlockManager.currentBlock){if(this.toolboxInstance===null){X("Can't open Toolbar since Editor initialization is not finished yet","warn");return}if(this.toolboxInstance.opened&&this.toolboxInstance.close(),this.Editor.BlockSettings.opened&&this.Editor.BlockSettings.close(),!e)return;this.hoveredBlock=e;const n=e.holder,{isMobile:r}=this.Editor.UI;let i;const o=20,s=e.firstInput,a=n.getBoundingClientRect(),l=s!==void 0?s.getBoundingClientRect():null,c=l!==null?l.top-a.top:null,u=c!==null?c>o:void 0;if(r)i=n.offsetTop+n.offsetHeight;else if(s===void 0||u){const d=parseInt(window.getComputedStyle(e.pluginsContent).paddingTop);i=n.offsetTop+d}else{const d=WR(s),h=parseInt(window.getComputedStyle(this.nodes.plusButton).height,10);i=n.offsetTop+d-h+8+c}this.nodes.wrapper.style.top=`${Math.floor(i)}px`,this.Editor.BlockManager.blocks.length===1&&e.isEmpty?this.blockTunesToggler.hide():this.blockTunesToggler.show(),this.open()}close(){var e,n;this.Editor.ReadOnly.isEnabled||((e=this.nodes.wrapper)==null||e.classList.remove(this.CSS.toolbarOpened),this.blockActions.hide(),(n=this.toolboxInstance)==null||n.close(),this.Editor.BlockSettings.close(),this.reset())}reset(){this.nodes.wrapper.style.top="unset"}open(e=!0){this.nodes.wrapper.classList.add(this.CSS.toolbarOpened),e?this.blockActions.show():this.blockActions.hide()}async make(){this.nodes.wrapper=_.make("div",this.CSS.toolbar),["content","actions"].forEach(o=>{this.nodes[o]=_.make("div",this.CSS[o])}),_.append(this.nodes.wrapper,this.nodes.content),_.append(this.nodes.content,this.nodes.actions),this.nodes.plusButton=_.make("div",this.CSS.plusButton,{innerHTML:FD}),_.append(this.nodes.actions,this.nodes.plusButton),this.readOnlyMutableListeners.on(this.nodes.plusButton,"click",()=>{Bl(!0),this.plusButtonClicked()},!1);const e=_.make("div");e.appendChild(document.createTextNode(Ue.ui(it.ui.toolbar.toolbox,"Add"))),e.appendChild(_.make("div",this.CSS.plusButtonShortcut,{textContent:"/"})),Ll(this.nodes.plusButton,e,{hidingDelay:400}),this.nodes.settingsToggler=_.make("span",this.CSS.settingsToggler,{innerHTML:jD}),_.append(this.nodes.actions,this.nodes.settingsToggler);const n=_.make("div"),r=_.text(Ue.ui(it.ui.blockTunes.toggler,"Click to tune")),i=await a4("Slash","/");n.appendChild(r),n.appendChild(_.make("div",this.CSS.plusButtonShortcut,{textContent:mf(`CMD + ${i}`)})),Ll(this.nodes.settingsToggler,n,{hidingDelay:400}),_.append(this.nodes.actions,this.makeToolbox()),_.append(this.nodes.actions,this.Editor.BlockSettings.getElement()),_.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper)}makeToolbox(){return this.toolboxInstance=new s4({api:this.Editor.API.methods,tools:this.Editor.Tools.blockTools,i18nLabels:{filter:Ue.ui(it.ui.popover,"Filter"),nothingFound:Ue.ui(it.ui.popover,"Nothing found")}}),this.toolboxInstance.on(La.Opened,()=>{this.Editor.UI.nodes.wrapper.classList.add(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(La.Closed,()=>{this.Editor.UI.nodes.wrapper.classList.remove(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(La.BlockAdded,({block:e})=>{const{BlockManager:n,Caret:r}=this.Editor,i=n.getBlockById(e.id);i.inputs.length===0&&(i===n.lastBlock?(n.insertAtEnd(),r.setToBlock(n.lastBlock)):r.setToBlock(n.nextBlock))}),this.toolboxInstance.getElement()}plusButtonClicked(){var e;this.Editor.BlockManager.currentBlock=this.hoveredBlock,(e=this.toolboxInstance)==null||e.toggle()}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.settingsToggler,"mousedown",e=>{var n;e.stopPropagation(),this.settingsTogglerClicked(),(n=this.toolboxInstance)!=null&&n.opened&&this.toolboxInstance.close(),Bl(!0)},!0),Ji()||this.eventsDispatcher.on(jx,e=>{var n;this.Editor.BlockSettings.opened||(n=this.toolboxInstance)!=null&&n.opened||this.moveAndOpen(e.block)})}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}settingsTogglerClicked(){this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.BlockSettings.open(this.hoveredBlock)}drawUI(){this.Editor.BlockSettings.make(),this.make()}destroy(){this.removeAllNodes(),this.toolboxInstance&&this.toolboxInstance.destroy()}}var Br=(t=>(t[t.Block=0]="Block",t[t.Inline=1]="Inline",t[t.Tune=2]="Tune",t))(Br||{}),Ma=(t=>(t.Shortcut="shortcut",t.Toolbox="toolbox",t.EnabledInlineTools="inlineToolbar",t.EnabledBlockTunes="tunes",t.Config="config",t))(Ma||{}),Fx=(t=>(t.Shortcut="shortcut",t.SanitizeConfig="sanitize",t))(Fx||{}),Xr=(t=>(t.IsEnabledLineBreaks="enableLineBreaks",t.Toolbox="toolbox",t.ConversionConfig="conversionConfig",t.IsReadOnlySupported="isReadOnlySupported",t.PasteConfig="pasteConfig",t))(Xr||{}),xf=(t=>(t.IsInline="isInline",t.Title="title",t))(xf||{}),gh=(t=>(t.IsTune="isTune",t))(gh||{});let Ef=class{constructor({name:e,constructable:n,config:r,api:i,isDefault:o,isInternal:s=!1,defaultPlaceholder:a}){this.api=i,this.name=e,this.constructable=n,this.config=r,this.isDefault=o,this.isInternal=s,this.defaultPlaceholder=a}get settings(){const e=this.config.config||{};return this.isDefault&&!("placeholder"in e)&&this.defaultPlaceholder&&(e.placeholder=this.defaultPlaceholder),e}reset(){if(ue(this.constructable.reset))return this.constructable.reset()}prepare(){if(ue(this.constructable.prepare))return this.constructable.prepare({toolName:this.name,config:this.settings})}get shortcut(){const e=this.constructable.shortcut;return this.config.shortcut||e}get sanitizeConfig(){return this.constructable.sanitize||{}}isInline(){return this.type===Br.Inline}isBlock(){return this.type===Br.Block}isTune(){return this.type===Br.Tune}};class c4 extends q{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.CSS={inlineToolbar:"ce-inline-toolbar"},this.opened=!1,this.popover=null,this.toolbarVerticalMargin=Ji()?20:6,this.toolsInstances=new Map}toggleReadOnly(e){e?this.destroy():window.requestIdleCallback(()=>{this.make()},{timeout:2e3})}async tryToShow(e=!1){e&&this.close(),this.allowedToShow()&&(await this.open(),this.Editor.Toolbar.close())}close(){var e,n;this.opened&&(this.Editor.ReadOnly.isEnabled||(Array.from(this.toolsInstances.entries()).forEach(([r,i])=>{const o=this.getToolShortcut(r);o&&Fi.remove(this.Editor.UI.nodes.redactor,o),ue(i.clear)&&i.clear()}),this.toolsInstances=null,this.reset(),this.opened=!1,(e=this.popover)==null||e.hide(),(n=this.popover)==null||n.destroy(),this.popover=null))}containsNode(e){return this.nodes.wrapper===void 0?!1:this.nodes.wrapper.contains(e)}destroy(){var e;this.removeAllNodes(),(e=this.popover)==null||e.destroy(),this.popover=null}make(){this.nodes.wrapper=_.make("div",[this.CSS.inlineToolbar,...this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]]),_.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper)}async open(){var e;if(this.opened)return;this.opened=!0,this.popover!==null&&this.popover.destroy();const n=await this.getInlineTools();this.popover=new XD({items:n,scopeElement:this.Editor.API.methods.ui.nodes.redactor,messages:{nothingFound:Ue.ui(it.ui.popover,"Nothing found"),search:Ue.ui(it.ui.popover,"Filter")}}),this.move(this.popover.size.width),(e=this.nodes.wrapper)==null||e.append(this.popover.getElement()),this.popover.show()}move(e){const n=D.rect,r=this.Editor.UI.nodes.wrapper.getBoundingClientRect(),i={x:n.x-r.x,y:n.y+n.height-r.top+this.toolbarVerticalMargin};i.x+e+r.x>this.Editor.UI.contentRect.right&&(i.x=this.Editor.UI.contentRect.right-e-r.x),this.nodes.wrapper.style.left=Math.floor(i.x)+"px",this.nodes.wrapper.style.top=Math.floor(i.y)+"px"}reset(){this.nodes.wrapper.style.left="0",this.nodes.wrapper.style.top="0"}allowedToShow(){const e=["IMG","INPUT"],n=D.get(),r=D.text;if(!n||!n.anchorNode||n.isCollapsed||r.length<1)return!1;const i=_.isElement(n.anchorNode)?n.anchorNode:n.anchorNode.parentElement;if(i===null||n&&e.includes(i.tagName)||i.closest('[contenteditable="true"]')===null)return!1;const o=this.Editor.BlockManager.getBlock(n.anchorNode);return o?o.tool.inlineTools.size!==0:!1}async getInlineTools(){const e=D.get(),n=this.Editor.BlockManager.getBlock(e.anchorNode),r=Array.from(n.tool.inlineTools.values()),i=[];this.toolsInstances===null&&(this.toolsInstances=new Map);for(let o=0;o<r.length;o++){const s=r[o],a=s.create(),l=await a.render();this.toolsInstances.set(s.name,a);const c=this.getToolShortcut(s.name);if(c)try{this.enableShortcuts(s.name,c)}catch{}const u=c!==void 0?mf(c):void 0,d=Ue.t(it.toolNames,s.title||Al(s.name));[l].flat().forEach(h=>{var y,f;const m={name:s.name,onActivate:()=>{this.toolClicked(a)},hint:{title:d,description:u}};if(_.isElement(h)){const w={...m,element:h,type:ie.Html};if(ue(a.renderActions)){const g=a.renderActions();w.children={isOpen:(y=a.checkState)==null?void 0:y.call(a,D.get()),isFlippable:!1,items:[{type:ie.Html,element:g}]}}else(f=a.checkState)==null||f.call(a,D.get());i.push(w)}else if(h.type===ie.Html)i.push({...m,...h,type:ie.Html});else if(h.type===ie.Separator)i.push({type:ie.Separator});else{const w={...m,...h,type:ie.Default};"children"in w&&o!==0&&i.push({type:ie.Separator}),i.push(w),"children"in w&&o<r.length-1&&i.push({type:ie.Separator})}})}return i}getToolShortcut(e){const{Tools:n}=this.Editor,r=n.inlineTools.get(e),i=n.internal.inlineTools;return Array.from(i.keys()).includes(e)?this.inlineTools[e][Fx.Shortcut]:r==null?void 0:r.shortcut}enableShortcuts(e,n){Fi.add({name:n,handler:r=>{var i;const{currentBlock:o}=this.Editor.BlockManager;o&&o.tool.enabledInlineTools&&(r.preventDefault(),(i=this.popover)==null||i.activateItemByName(e))},on:this.Editor.UI.nodes.redactor})}toolClicked(e){var n;const r=D.range;(n=e.surround)==null||n.call(e,r),this.checkToolsState()}checkToolsState(){var e;(e=this.toolsInstances)==null||e.forEach(n=>{var r;(r=n.checkState)==null||r.call(n,D.get())})}get inlineTools(){const e={};return Array.from(this.Editor.Tools.inlineTools.entries()).forEach(([n,r])=>{e[n]=r.create()}),e}}function $x(){const t=window.getSelection();if(t===null)return[null,0];let e=t.focusNode,n=t.focusOffset;return e===null?[null,0]:(e.nodeType!==Node.TEXT_NODE&&e.childNodes.length>0&&(e.childNodes[n]?(e=e.childNodes[n],n=0):(e=e.childNodes[n-1],n=e.textContent.length)),[e,n])}function Ux(t,e,n,r){const i=document.createRange();r==="left"?(i.setStart(t,0),i.setEnd(e,n)):(i.setStart(e,n),i.setEnd(t,t.childNodes.length));const o=i.cloneContents(),s=document.createElement("div");s.appendChild(o);const a=s.textContent||"";return zR(a)}function Na(t){const e=_.getDeepestNode(t);if(e===null||_.isEmpty(t))return!0;if(_.isNativeInput(e))return e.selectionEnd===0;if(_.isEmpty(t))return!0;const[n,r]=$x();return n===null?!1:Ux(t,n,r,"left")}function Ra(t){const e=_.getDeepestNode(t,!0);if(e===null)return!0;if(_.isNativeInput(e))return e.selectionEnd===e.value.length;const[n,r]=$x();return n===null?!1:Ux(t,n,r,"right")}class u4 extends q{keydown(e){switch(this.beforeKeydownProcessing(e),e.keyCode){case $.BACKSPACE:this.backspace(e);break;case $.DELETE:this.delete(e);break;case $.ENTER:this.enter(e);break;case $.DOWN:case $.RIGHT:this.arrowRightAndDown(e);break;case $.UP:case $.LEFT:this.arrowLeftAndUp(e);break;case $.TAB:this.tabPressed(e);break}e.key==="/"&&!e.ctrlKey&&!e.metaKey&&this.slashPressed(e),e.code==="Slash"&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),this.commandSlashPressed())}beforeKeydownProcessing(e){this.needToolbarClosing(e)&&cx(e.keyCode)&&(this.Editor.Toolbar.close(),e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||this.Editor.BlockSelection.clearSelection(e))}keyup(e){e.shiftKey||this.Editor.UI.checkEmptiness()}dragOver(e){const n=this.Editor.BlockManager.getBlockByChildNode(e.target);n.dropTarget=!0}dragLeave(e){const n=this.Editor.BlockManager.getBlockByChildNode(e.target);n.dropTarget=!1}handleCommandC(e){const{BlockSelection:n}=this.Editor;n.anyBlockSelected&&n.copySelectedBlocks(e)}handleCommandX(e){const{BlockSelection:n,BlockManager:r,Caret:i}=this.Editor;n.anyBlockSelected&&n.copySelectedBlocks(e).then(()=>{const o=r.removeSelectedBlocks(),s=r.insertDefaultBlockAtIndex(o,!0);i.setToBlock(s,i.positions.START),n.clearSelection(e)})}tabPressed(e){const{InlineToolbar:n,Caret:r}=this.Editor;n.opened||(e.shiftKey?r.navigatePrevious(!0):r.navigateNext(!0))&&e.preventDefault()}commandSlashPressed(){this.Editor.BlockSelection.selectedBlocks.length>1||this.activateBlockSettings()}slashPressed(e){this.Editor.BlockManager.currentBlock.isEmpty&&(e.preventDefault(),this.Editor.Caret.insertContentAtCaretPosition("/"),this.activateToolbox())}enter(e){const{BlockManager:n,UI:r}=this.Editor,i=n.currentBlock;if(i===void 0||i.tool.isLineBreaksEnabled||r.someToolbarOpened&&r.someFlipperButtonFocused||e.shiftKey&&!hh)return;let o=i;i.currentInput!==void 0&&Na(i.currentInput)&&!i.hasMedia?this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex):i.currentInput&&Ra(i.currentInput)?o=this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex+1):o=this.Editor.BlockManager.split(),this.Editor.Caret.setToBlock(o),this.Editor.Toolbar.moveAndOpen(o),e.preventDefault()}backspace(e){const{BlockManager:n,Caret:r}=this.Editor,{currentBlock:i,previousBlock:o}=n;if(!(i===void 0||!D.isCollapsed||!i.currentInput||!Na(i.currentInput))){if(e.preventDefault(),this.Editor.Toolbar.close(),i.currentInput!==i.firstInput){r.navigatePrevious();return}if(o!==null){if(o.isEmpty){n.removeBlock(o);return}if(i.isEmpty){n.removeBlock(i);const s=n.currentBlock;r.setToBlock(s,r.positions.END);return}Ry(o,i)?this.mergeBlocks(o,i):r.setToBlock(o,r.positions.END)}}}delete(e){const{BlockManager:n,Caret:r}=this.Editor,{currentBlock:i,nextBlock:o}=n;if(!(!D.isCollapsed||!Ra(i.currentInput))){if(e.preventDefault(),this.Editor.Toolbar.close(),i.currentInput!==i.lastInput){r.navigateNext();return}if(o!==null){if(o.isEmpty){n.removeBlock(o);return}if(i.isEmpty){n.removeBlock(i),r.setToBlock(o,r.positions.START);return}Ry(i,o)?this.mergeBlocks(i,o):r.setToBlock(o,r.positions.START)}}}mergeBlocks(e,n){const{BlockManager:r,Caret:i,Toolbar:o}=this.Editor;i.createShadow(e.lastInput),r.mergeBlocks(e,n).then(()=>{i.restoreCaret(e.pluginsContent),o.close()})}arrowRightAndDown(e){const n=Ml.usedKeys.includes(e.keyCode)&&(!e.shiftKey||e.keyCode===$.TAB);if(this.Editor.UI.someToolbarOpened&&n)return;this.Editor.Toolbar.close();const{currentBlock:r}=this.Editor.BlockManager,i=((r==null?void 0:r.currentInput)!==void 0?Ra(r.currentInput):void 0)||this.Editor.BlockSelection.anyBlockSelected;if(e.shiftKey&&e.keyCode===$.DOWN&&i){this.Editor.CrossBlockSelection.toggleBlockSelectedState();return}if(e.keyCode===$.DOWN||e.keyCode===$.RIGHT&&!this.isRtl?this.Editor.Caret.navigateNext():this.Editor.Caret.navigatePrevious()){e.preventDefault();return}Pl(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(e)}arrowLeftAndUp(e){if(this.Editor.UI.someToolbarOpened){if(Ml.usedKeys.includes(e.keyCode)&&(!e.shiftKey||e.keyCode===$.TAB))return;this.Editor.UI.closeAllToolbars()}this.Editor.Toolbar.close();const{currentBlock:n}=this.Editor.BlockManager,r=((n==null?void 0:n.currentInput)!==void 0?Na(n.currentInput):void 0)||this.Editor.BlockSelection.anyBlockSelected;if(e.shiftKey&&e.keyCode===$.UP&&r){this.Editor.CrossBlockSelection.toggleBlockSelectedState(!1);return}if(e.keyCode===$.UP||e.keyCode===$.LEFT&&!this.isRtl?this.Editor.Caret.navigatePrevious():this.Editor.Caret.navigateNext()){e.preventDefault();return}Pl(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(e)}needToolbarClosing(e){const n=e.keyCode===$.ENTER&&this.Editor.Toolbar.toolbox.opened,r=e.keyCode===$.ENTER&&this.Editor.BlockSettings.opened,i=e.keyCode===$.ENTER&&this.Editor.InlineToolbar.opened,o=e.keyCode===$.TAB;return!(e.shiftKey||o||n||r||i)}activateToolbox(){this.Editor.Toolbar.opened||this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()}activateBlockSettings(){this.Editor.Toolbar.opened||this.Editor.Toolbar.moveAndOpen(),this.Editor.BlockSettings.opened||this.Editor.BlockSettings.open()}}let Bu=class{constructor(e){this.blocks=[],this.workingArea=e}get length(){return this.blocks.length}get array(){return this.blocks}get nodes(){return ux(this.workingArea.children)}static set(e,n,r){return isNaN(Number(n))?(Reflect.set(e,n,r),!0):(e.insert(+n,r),!0)}static get(e,n){return isNaN(Number(n))?Reflect.get(e,n):e.get(+n)}push(e){this.blocks.push(e),this.insertToDOM(e)}swap(e,n){const r=this.blocks[n];_.swap(this.blocks[e].holder,r.holder),this.blocks[n]=this.blocks[e],this.blocks[e]=r}move(e,n){const r=this.blocks.splice(n,1)[0],i=e-1,o=Math.max(0,i),s=this.blocks[o];e>0?this.insertToDOM(r,"afterend",s):this.insertToDOM(r,"beforebegin",s),this.blocks.splice(e,0,r);const a=this.composeBlockEvent("move",{fromIndex:n,toIndex:e});r.call(Xt.MOVED,a)}insert(e,n,r=!1){if(!this.length){this.push(n);return}e>this.length&&(e=this.length),r&&(this.blocks[e].holder.remove(),this.blocks[e].call(Xt.REMOVED));const i=r?1:0;if(this.blocks.splice(e,i,n),e>0){const o=this.blocks[e-1];this.insertToDOM(n,"afterend",o)}else{const o=this.blocks[e+1];o?this.insertToDOM(n,"beforebegin",o):this.insertToDOM(n)}}replace(e,n){if(this.blocks[e]===void 0)throw Error("Incorrect index");this.blocks[e].holder.replaceWith(n.holder),this.blocks[e]=n}insertMany(e,n){const r=new DocumentFragment;for(const i of e)r.appendChild(i.holder);if(this.length>0){if(n>0){const i=Math.min(n-1,this.length-1);this.blocks[i].holder.after(r)}else n===0&&this.workingArea.prepend(r);this.blocks.splice(n,0,...e)}else this.blocks.push(...e),this.workingArea.appendChild(r);e.forEach(i=>i.call(Xt.RENDERED))}remove(e){isNaN(e)&&(e=this.length-1),this.blocks[e].holder.remove(),this.blocks[e].call(Xt.REMOVED),this.blocks.splice(e,1)}removeAll(){this.workingArea.innerHTML="",this.blocks.forEach(e=>e.call(Xt.REMOVED)),this.blocks.length=0}insertAfter(e,n){const r=this.blocks.indexOf(e);this.insert(r+1,n)}get(e){return this.blocks[e]}indexOf(e){return this.blocks.indexOf(e)}insertToDOM(e,n,r){n?r.holder.insertAdjacentElement(n,e.holder):this.workingArea.appendChild(e.holder),e.call(Xt.RENDERED)}composeBlockEvent(e,n){return new CustomEvent(e,{detail:n})}};const Uy="block-removed",Vy="block-added",d4="block-moved",Hy="block-changed";class h4{constructor(){this.completed=Promise.resolve()}add(e){return new Promise((n,r)=>{this.completed=this.completed.then(e).then(n).catch(r)})}}class p4 extends q{constructor(){super(...arguments),this._currentBlockIndex=-1,this._blocks=null}get currentBlockIndex(){return this._currentBlockIndex}set currentBlockIndex(e){this._currentBlockIndex=e}get firstBlock(){return this._blocks[0]}get lastBlock(){return this._blocks[this._blocks.length-1]}get currentBlock(){return this._blocks[this.currentBlockIndex]}set currentBlock(e){this.currentBlockIndex=this.getBlockIndex(e)}get nextBlock(){return this.currentBlockIndex===this._blocks.length-1?null:this._blocks[this.currentBlockIndex+1]}get nextContentfulBlock(){return this.blocks.slice(this.currentBlockIndex+1).find(e=>!!e.inputs.length)}get previousContentfulBlock(){return this.blocks.slice(0,this.currentBlockIndex).reverse().find(e=>!!e.inputs.length)}get previousBlock(){return this.currentBlockIndex===0?null:this._blocks[this.currentBlockIndex-1]}get blocks(){return this._blocks.array}get isEditorEmpty(){return this.blocks.every(e=>e.isEmpty)}prepare(){const e=new Bu(this.Editor.UI.nodes.redactor);this._blocks=new Proxy(e,{set:Bu.set,get:Bu.get}),this.listeners.on(document,"copy",n=>this.Editor.BlockEvents.handleCommandC(n))}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}composeBlock({tool:e,data:n={},id:r=void 0,tunes:i={}}){const o=this.Editor.ReadOnly.isEnabled,s=this.Editor.Tools.blockTools.get(e),a=new sn({id:r,data:n,tool:s,api:this.Editor.API,readOnly:o,tunesData:i},this.eventsDispatcher);return o||window.requestIdleCallback(()=>{this.bindBlockEvents(a)},{timeout:2e3}),a}insert({id:e=void 0,tool:n=this.config.defaultBlock,data:r={},index:i,needToFocus:o=!0,replace:s=!1,tunes:a={}}={}){let l=i;l===void 0&&(l=this.currentBlockIndex+(s?0:1));const c=this.composeBlock({id:e,tool:n,data:r,tunes:a});return s&&this.blockDidMutated(Uy,this.getBlockByIndex(l),{index:l}),this._blocks.insert(l,c,s),this.blockDidMutated(Vy,c,{index:l}),o?this.currentBlockIndex=l:l<=this.currentBlockIndex&&this.currentBlockIndex++,c}insertMany(e,n=0){this._blocks.insertMany(e,n)}async update(e,n,r){if(!n&&!r)return e;const i=await e.data,o=this.composeBlock({id:e.id,tool:e.name,data:Object.assign({},i,n??{}),tunes:r??e.tunes}),s=this.getBlockIndex(e);return this._blocks.replace(s,o),this.blockDidMutated(Hy,o,{index:s}),o}replace(e,n,r){const i=this.getBlockIndex(e);return this.insert({tool:n,data:r,index:i,replace:!0})}paste(e,n,r=!1){const i=this.insert({tool:e,replace:r});try{window.requestIdleCallback(()=>{i.call(Xt.ON_PASTE,n)})}catch(o){X(`${e}: onPaste callback call is failed`,"error",o)}return i}insertDefaultBlockAtIndex(e,n=!1){const r=this.composeBlock({tool:this.config.defaultBlock});return this._blocks[e]=r,this.blockDidMutated(Vy,r,{index:e}),n?this.currentBlockIndex=e:e<=this.currentBlockIndex&&this.currentBlockIndex++,r}insertAtEnd(){return this.currentBlockIndex=this.blocks.length-1,this.insert()}async mergeBlocks(e,n){let r;if(e.name===n.name&&e.mergeable){const i=await n.data;if(xt(i)){console.error("Could not merge Block. Failed to extract original Block data.");return}const[o]=gf([i],e.tool.sanitizeConfig);r=o}else if(e.mergeable&&Ol(n,"export")&&Ol(e,"import")){const i=await n.exportDataAsString(),o=Dt(i,e.tool.sanitizeConfig);r=Dy(o,e.tool.conversionConfig)}r!==void 0&&(await e.mergeWith(r),this.removeBlock(n),this.currentBlockIndex=this._blocks.indexOf(e))}removeBlock(e,n=!0){return new Promise(r=>{const i=this._blocks.indexOf(e);if(!this.validateIndex(i))throw new Error("Can't find a Block to remove");e.destroy(),this._blocks.remove(i),this.blockDidMutated(Uy,e,{index:i}),this.currentBlockIndex>=i&&this.currentBlockIndex--,this.blocks.length?i===0&&(this.currentBlockIndex=0):(this.unsetCurrentBlock(),n&&this.insert()),r()})}removeSelectedBlocks(){let e;for(let n=this.blocks.length-1;n>=0;n--)this.blocks[n].selected&&(this.removeBlock(this.blocks[n]),e=n);return e}removeAllBlocks(){for(let e=this.blocks.length-1;e>=0;e--)this._blocks.remove(e);this.unsetCurrentBlock(),this.insert(),this.currentBlock.firstInput.focus()}split(){const e=this.Editor.Caret.extractFragmentFromCaretPosition(),n=_.make("div");n.appendChild(e);const r={text:_.isEmpty(n)?"":n.innerHTML};return this.insert({data:r})}getBlockByIndex(e){return e===-1&&(e=this._blocks.length-1),this._blocks[e]}getBlockIndex(e){return this._blocks.indexOf(e)}getBlockById(e){return this._blocks.array.find(n=>n.id===e)}getBlock(e){_.isElement(e)||(e=e.parentNode);const n=this._blocks.nodes,r=e.closest(`.${sn.CSS.wrapper}`),i=n.indexOf(r);if(i>=0)return this._blocks[i]}setCurrentBlockByChildNode(e){_.isElement(e)||(e=e.parentNode);const n=e.closest(`.${sn.CSS.wrapper}`);if(!n)return;const r=n.closest(`.${this.Editor.UI.CSS.editorWrapper}`);if(r!=null&&r.isEqualNode(this.Editor.UI.nodes.wrapper))return this.currentBlockIndex=this._blocks.nodes.indexOf(n),this.currentBlock.updateCurrentInput(),this.currentBlock}getBlockByChildNode(e){if(!e||!(e instanceof Node))return;_.isElement(e)||(e=e.parentNode);const n=e.closest(`.${sn.CSS.wrapper}`);return this.blocks.find(r=>r.holder===n)}swap(e,n){this._blocks.swap(e,n),this.currentBlockIndex=n}move(e,n=this.currentBlockIndex){if(isNaN(e)||isNaN(n)){X("Warning during 'move' call: incorrect indices provided.","warn");return}if(!this.validateIndex(e)||!this.validateIndex(n)){X("Warning during 'move' call: indices cannot be lower than 0 or greater than the amount of blocks.","warn");return}this._blocks.move(e,n),this.currentBlockIndex=e,this.blockDidMutated(d4,this.currentBlock,{fromIndex:n,toIndex:e})}async convert(e,n,r){if(!await e.save())throw new Error("Could not convert Block. Failed to extract original Block data.");const i=this.Editor.Tools.blockTools.get(n);if(!i)throw new Error(`Could not convert Block. Tool «${n}» not found.`);const o=await e.exportDataAsString(),s=Dt(o,i.sanitizeConfig);let a=Dy(s,i.conversionConfig);return r&&(a=Object.assign(a,r)),this.replace(e,i.name,a)}unsetCurrentBlock(){this.currentBlockIndex=-1}async clear(e=!1){const n=new h4;this.blocks.forEach(r=>{n.add(async()=>{await this.removeBlock(r,!1)})}),await n.completed,this.unsetCurrentBlock(),e&&this.insert(),this.Editor.UI.checkEmptiness()}async destroy(){await Promise.all(this.blocks.map(e=>e.destroy()))}bindBlockEvents(e){const{BlockEvents:n}=this.Editor;this.readOnlyMutableListeners.on(e.holder,"keydown",r=>{n.keydown(r)}),this.readOnlyMutableListeners.on(e.holder,"keyup",r=>{n.keyup(r)}),this.readOnlyMutableListeners.on(e.holder,"dragover",r=>{n.dragOver(r)}),this.readOnlyMutableListeners.on(e.holder,"dragleave",r=>{n.dragLeave(r)}),e.on("didMutated",r=>this.blockDidMutated(Hy,r,{index:this.getBlockIndex(r)}))}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}enableModuleBindings(){this.readOnlyMutableListeners.on(document,"cut",e=>this.Editor.BlockEvents.handleCommandX(e)),this.blocks.forEach(e=>{this.bindBlockEvents(e)})}validateIndex(e){return!(e<0||e>=this._blocks.length)}blockDidMutated(e,n,r){const i=new CustomEvent(e,{detail:{target:new Gt(n),...r}});return this.eventsDispatcher.emit(vx,{event:i}),n}}class f4 extends q{constructor(){super(...arguments),this.anyBlockSelectedCache=null,this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1}get sanitizerConfig(){return{p:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},ol:{},ul:{},li:{},br:!0,img:{src:!0,width:!0,height:!0},a:{href:!0},b:{},i:{},u:{}}}get allBlocksSelected(){const{BlockManager:e}=this.Editor;return e.blocks.every(n=>n.selected===!0)}set allBlocksSelected(e){const{BlockManager:n}=this.Editor;n.blocks.forEach(r=>{r.selected=e}),this.clearCache()}get anyBlockSelected(){const{BlockManager:e}=this.Editor;return this.anyBlockSelectedCache===null&&(this.anyBlockSelectedCache=e.blocks.some(n=>n.selected===!0)),this.anyBlockSelectedCache}get selectedBlocks(){return this.Editor.BlockManager.blocks.filter(e=>e.selected)}prepare(){this.selection=new D,Fi.add({name:"CMD+A",handler:e=>{const{BlockManager:n,ReadOnly:r}=this.Editor;if(r.isEnabled){e.preventDefault(),this.selectAllBlocks();return}n.currentBlock&&this.handleCommandA(e)},on:this.Editor.UI.nodes.redactor})}toggleReadOnly(){D.get().removeAllRanges(),this.allBlocksSelected=!1}unSelectBlockByIndex(e){const{BlockManager:n}=this.Editor;let r;isNaN(e)?r=n.currentBlock:r=n.getBlockByIndex(e),r.selected=!1,this.clearCache()}clearSelection(e,n=!1){const{BlockManager:r,Caret:i,RectangleSelection:o}=this.Editor;this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1;const s=e&&e instanceof KeyboardEvent,a=s&&cx(e.keyCode);if(this.anyBlockSelected&&s&&a&&!D.isSelectionExists){const l=r.removeSelectedBlocks();r.insertDefaultBlockAtIndex(l,!0),i.setToBlock(r.currentBlock),Pl(()=>{const c=e.key;i.insertContentAtCaretPosition(c.length>1?"":c)},20)()}if(this.Editor.CrossBlockSelection.clear(e),!this.anyBlockSelected||o.isRectActivated()){this.Editor.RectangleSelection.clearSelection();return}n&&this.selection.restore(),this.allBlocksSelected=!1}copySelectedBlocks(e){e.preventDefault();const n=_.make("div");this.selectedBlocks.forEach(o=>{const s=Dt(o.holder.innerHTML,this.sanitizerConfig),a=_.make("p");a.innerHTML=s,n.appendChild(a)});const r=Array.from(n.childNodes).map(o=>o.textContent).join(`

`),i=n.innerHTML;return e.clipboardData.setData("text/plain",r),e.clipboardData.setData("text/html",i),Promise.all(this.selectedBlocks.map(o=>o.save())).then(o=>{try{e.clipboardData.setData(this.Editor.Paste.MIME_TYPE,JSON.stringify(o))}catch{}})}selectBlockByIndex(e){const{BlockManager:n}=this.Editor,r=n.getBlockByIndex(e);r!==void 0&&this.selectBlock(r)}selectBlock(e){this.selection.save(),D.get().removeAllRanges(),e.selected=!0,this.clearCache(),this.Editor.InlineToolbar.close()}unselectBlock(e){e.selected=!1,this.clearCache()}clearCache(){this.anyBlockSelectedCache=null}destroy(){Fi.remove(this.Editor.UI.nodes.redactor,"CMD+A")}handleCommandA(e){if(this.Editor.RectangleSelection.clearSelection(),_.isNativeInput(e.target)&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}const n=this.Editor.BlockManager.getBlock(e.target),r=n.inputs;if(r.length>1&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}if(r.length===1&&!this.needToSelectAll){this.needToSelectAll=!0;return}this.needToSelectAll?(e.preventDefault(),this.selectAllBlocks(),this.needToSelectAll=!1,this.readyToBlockSelection=!1):this.readyToBlockSelection&&(e.preventDefault(),this.selectBlock(n),this.needToSelectAll=!0)}selectAllBlocks(){this.selection.save(),D.get().removeAllRanges(),this.allBlocksSelected=!0,this.Editor.InlineToolbar.close()}}let m4=class vh extends q{get positions(){return{START:"start",END:"end",DEFAULT:"default"}}static get CSS(){return{shadowCaret:"cdx-shadow-caret"}}setToBlock(e,n=this.positions.DEFAULT,r=0){var i;const{BlockManager:o,BlockSelection:s}=this.Editor;if(s.clearSelection(),!e.focusable){(i=window.getSelection())==null||i.removeAllRanges(),s.selectBlock(e),o.currentBlock=e;return}let a;switch(n){case this.positions.START:a=e.firstInput;break;case this.positions.END:a=e.lastInput;break;default:a=e.currentInput}if(!a)return;const l=_.getDeepestNode(a,n===this.positions.END),c=_.getContentLength(l);switch(!0){case n===this.positions.START:r=0;break;case n===this.positions.END:case r>c:r=c;break}this.set(l,r),o.setCurrentBlockByChildNode(e.holder),o.currentBlock.currentInput=a}setToInput(e,n=this.positions.DEFAULT,r=0){const{currentBlock:i}=this.Editor.BlockManager,o=_.getDeepestNode(e);switch(n){case this.positions.START:this.set(o,0);break;case this.positions.END:this.set(o,_.getContentLength(o));break;default:r&&this.set(o,r)}i.currentInput=e}set(e,n=0){const{top:r,bottom:i}=D.setCursor(e,n),{innerHeight:o}=window;r<0?window.scrollBy(0,r-30):i>o&&window.scrollBy(0,i-o+30)}setToTheLastBlock(){const e=this.Editor.BlockManager.lastBlock;if(e)if(e.tool.isDefault&&e.isEmpty)this.setToBlock(e);else{const n=this.Editor.BlockManager.insertAtEnd();this.setToBlock(n)}}extractFragmentFromCaretPosition(){const e=D.get();if(e.rangeCount){const n=e.getRangeAt(0),r=this.Editor.BlockManager.currentBlock.currentInput;if(n.deleteContents(),r)if(_.isNativeInput(r)){const i=r,o=document.createDocumentFragment(),s=i.value.substring(0,i.selectionStart),a=i.value.substring(i.selectionStart);return o.textContent=a,i.value=s,o}else{const i=n.cloneRange();return i.selectNodeContents(r),i.setStart(n.endContainer,n.endOffset),i.extractContents()}}}navigateNext(e=!1){const{BlockManager:n}=this.Editor,{currentBlock:r,nextBlock:i}=n;if(r===void 0)return!1;const{nextInput:o,currentInput:s}=r,a=s!==void 0?Ra(s):void 0;let l=i;const c=e||a||!r.focusable;if(o&&c)return this.setToInput(o,this.positions.START),!0;if(l===null){if(r.tool.isDefault||!c)return!1;l=n.insertAtEnd()}return c?(this.setToBlock(l,this.positions.START),!0):!1}navigatePrevious(e=!1){const{currentBlock:n,previousBlock:r}=this.Editor.BlockManager;if(!n)return!1;const{previousInput:i,currentInput:o}=n,s=o!==void 0?Na(o):void 0,a=e||s||!n.focusable;return i&&a?(this.setToInput(i,this.positions.END),!0):r!==null&&a?(this.setToBlock(r,this.positions.END),!0):!1}createShadow(e){const n=document.createElement("span");n.classList.add(vh.CSS.shadowCaret),e.insertAdjacentElement("beforeend",n)}restoreCaret(e){const n=e.querySelector(`.${vh.CSS.shadowCaret}`);if(!n)return;new D().expandToTag(n);const r=document.createRange();r.selectNode(n),r.extractContents()}insertContentAtCaretPosition(e){const n=document.createDocumentFragment(),r=document.createElement("div"),i=D.get(),o=D.range;r.innerHTML=e,Array.from(r.childNodes).forEach(c=>n.appendChild(c)),n.childNodes.length===0&&n.appendChild(new Text);const s=n.lastChild;o.deleteContents(),o.insertNode(n);const a=document.createRange(),l=s.nodeType===Node.TEXT_NODE?s:s.firstChild;l!==null&&l.textContent!==null&&a.setStart(l,l.textContent.length),i.removeAllRanges(),i.addRange(a)}};class g4 extends q{constructor(){super(...arguments),this.onMouseUp=()=>{this.listeners.off(document,"mouseover",this.onMouseOver),this.listeners.off(document,"mouseup",this.onMouseUp)},this.onMouseOver=e=>{const{BlockManager:n,BlockSelection:r}=this.Editor;if(e.relatedTarget===null&&e.target===null)return;const i=n.getBlockByChildNode(e.relatedTarget)||this.lastSelectedBlock,o=n.getBlockByChildNode(e.target);if(!(!i||!o)&&o!==i){if(i===this.firstSelectedBlock){D.get().removeAllRanges(),i.selected=!0,o.selected=!0,r.clearCache();return}if(o===this.firstSelectedBlock){i.selected=!1,o.selected=!1,r.clearCache();return}this.Editor.InlineToolbar.close(),this.toggleBlocksSelectedState(i,o),this.lastSelectedBlock=o}}}async prepare(){this.listeners.on(document,"mousedown",e=>{this.enableCrossBlockSelection(e)})}watchSelection(e){if(e.button!==BR.LEFT)return;const{BlockManager:n}=this.Editor;this.firstSelectedBlock=n.getBlock(e.target),this.lastSelectedBlock=this.firstSelectedBlock,this.listeners.on(document,"mouseover",this.onMouseOver),this.listeners.on(document,"mouseup",this.onMouseUp)}get isCrossBlockSelectionStarted(){return!!this.firstSelectedBlock&&!!this.lastSelectedBlock&&this.firstSelectedBlock!==this.lastSelectedBlock}toggleBlockSelectedState(e=!0){const{BlockManager:n,BlockSelection:r}=this.Editor;this.lastSelectedBlock||(this.lastSelectedBlock=this.firstSelectedBlock=n.currentBlock),this.firstSelectedBlock===this.lastSelectedBlock&&(this.firstSelectedBlock.selected=!0,r.clearCache(),D.get().removeAllRanges());const i=n.blocks.indexOf(this.lastSelectedBlock)+(e?1:-1),o=n.blocks[i];o&&(this.lastSelectedBlock.selected!==o.selected?(o.selected=!0,r.clearCache()):(this.lastSelectedBlock.selected=!1,r.clearCache()),this.lastSelectedBlock=o,this.Editor.InlineToolbar.close(),o.holder.scrollIntoView({block:"nearest"}))}clear(e){const{BlockManager:n,BlockSelection:r,Caret:i}=this.Editor,o=n.blocks.indexOf(this.firstSelectedBlock),s=n.blocks.indexOf(this.lastSelectedBlock);if(r.anyBlockSelected&&o>-1&&s>-1&&e&&e instanceof KeyboardEvent)switch(e.keyCode){case $.DOWN:case $.RIGHT:i.setToBlock(n.blocks[Math.max(o,s)],i.positions.END);break;case $.UP:case $.LEFT:i.setToBlock(n.blocks[Math.min(o,s)],i.positions.START);break;default:i.setToBlock(n.blocks[Math.max(o,s)],i.positions.END)}this.firstSelectedBlock=this.lastSelectedBlock=null}enableCrossBlockSelection(e){const{UI:n}=this.Editor;D.isCollapsed||this.Editor.BlockSelection.clearSelection(e),n.nodes.redactor.contains(e.target)?this.watchSelection(e):this.Editor.BlockSelection.clearSelection(e)}toggleBlocksSelectedState(e,n){const{BlockManager:r,BlockSelection:i}=this.Editor,o=r.blocks.indexOf(e),s=r.blocks.indexOf(n),a=e.selected!==n.selected;for(let l=Math.min(o,s);l<=Math.max(o,s);l++){const c=r.blocks[l];c!==this.firstSelectedBlock&&c!==(a?e:n)&&(r.blocks[l].selected=!r.blocks[l].selected,i.clearCache())}}}class v4 extends q{constructor(){super(...arguments),this.isStartedAtEditor=!1}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}enableModuleBindings(){const{UI:e}=this.Editor;this.readOnlyMutableListeners.on(e.nodes.holder,"drop",async n=>{await this.processDrop(n)},!0),this.readOnlyMutableListeners.on(e.nodes.holder,"dragstart",()=>{this.processDragStart()}),this.readOnlyMutableListeners.on(e.nodes.holder,"dragover",n=>{this.processDragOver(n)},!0)}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}async processDrop(e){const{BlockManager:n,Paste:r,Caret:i}=this.Editor;e.preventDefault(),n.blocks.forEach(s=>{s.dropTarget=!1}),D.isAtEditor&&!D.isCollapsed&&this.isStartedAtEditor&&document.execCommand("delete"),this.isStartedAtEditor=!1;const o=n.setCurrentBlockByChildNode(e.target);if(o)this.Editor.Caret.setToBlock(o,i.positions.END);else{const s=n.setCurrentBlockByChildNode(n.lastBlock.holder);this.Editor.Caret.setToBlock(s,i.positions.END)}await r.processDataTransfer(e.dataTransfer,!0)}processDragStart(){D.isAtEditor&&!D.isCollapsed&&(this.isStartedAtEditor=!0),this.Editor.InlineToolbar.close()}processDragOver(e){e.preventDefault()}}const y4=180,w4=400;class b4 extends q{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.disabled=!1,this.batchingTimeout=null,this.batchingOnChangeQueue=new Map,this.batchTime=w4,this.mutationObserver=new MutationObserver(r=>{this.redactorChanged(r)}),this.eventsDispatcher.on(vx,r=>{this.particularBlockChanged(r.event)}),this.eventsDispatcher.on(yx,()=>{this.disable()}),this.eventsDispatcher.on(wx,()=>{this.enable()})}enable(){this.mutationObserver.observe(this.Editor.UI.nodes.redactor,{childList:!0,subtree:!0,characterData:!0,attributes:!0}),this.disabled=!1}disable(){this.mutationObserver.disconnect(),this.disabled=!0}particularBlockChanged(e){this.disabled||!ue(this.config.onChange)||(this.batchingOnChangeQueue.set(`block:${e.detail.target.id}:event:${e.type}`,e),this.batchingTimeout&&clearTimeout(this.batchingTimeout),this.batchingTimeout=setTimeout(()=>{let n;this.batchingOnChangeQueue.size===1?n=this.batchingOnChangeQueue.values().next().value:n=Array.from(this.batchingOnChangeQueue.values()),this.config.onChange&&this.config.onChange(this.Editor.API.methods,n),this.batchingOnChangeQueue.clear()},this.batchTime))}redactorChanged(e){this.eventsDispatcher.emit(ph,{mutations:e})}}const Vx=class Hx extends q{constructor(){super(...arguments),this.MIME_TYPE="application/x-editor-js",this.toolsTags={},this.tagsByTool={},this.toolsPatterns=[],this.toolsFiles={},this.exceptionList=[],this.processTool=e=>{try{const n=e.create({},{},!1);if(e.pasteConfig===!1){this.exceptionList.push(e.name);return}if(!ue(n.onPaste))return;this.getTagsConfig(e),this.getFilesConfig(e),this.getPatternsConfig(e)}catch(n){X(`Paste handling for «${e.name}» Tool hasn't been set up because of the error`,"warn",n)}},this.handlePasteEvent=async e=>{const{BlockManager:n,Toolbar:r}=this.Editor,i=n.setCurrentBlockByChildNode(e.target);!i||this.isNativeBehaviour(e.target)&&!e.clipboardData.types.includes("Files")||i&&this.exceptionList.includes(i.name)||(e.preventDefault(),this.processDataTransfer(e.clipboardData),r.close())}}async prepare(){this.processTools()}toggleReadOnly(e){e?this.unsetCallback():this.setCallback()}async processDataTransfer(e,n=!1){const{Tools:r}=this.Editor,i=e.types;if((i.includes?i.includes("Files"):i.contains("Files"))&&!xt(this.toolsFiles)){await this.processFiles(e.files);return}const o=e.getData(this.MIME_TYPE),s=e.getData("text/plain");let a=e.getData("text/html");if(o)try{this.insertEditorJSData(JSON.parse(o));return}catch{}n&&s.trim()&&a.trim()&&(a="<p>"+(a.trim()?a:s)+"</p>");const l=Object.keys(this.toolsTags).reduce((d,h)=>(d[h.toLowerCase()]=this.toolsTags[h].sanitizationConfig??{},d),{}),c=Object.assign({},l,r.getAllInlineToolsSanitizeConfig(),{br:{}}),u=Dt(a,c);!u.trim()||u.trim()===s||!_.isHTMLString(u)?await this.processText(s):await this.processText(u,!0)}async processText(e,n=!1){const{Caret:r,BlockManager:i}=this.Editor,o=n?this.processHTML(e):this.processPlain(e);if(!o.length)return;if(o.length===1){o[0].isBlock?this.processSingleBlock(o.pop()):this.processInlinePaste(o.pop());return}const s=i.currentBlock&&i.currentBlock.tool.isDefault&&i.currentBlock.isEmpty;o.map(async(a,l)=>this.insertBlock(a,l===0&&s)),i.currentBlock&&r.setToBlock(i.currentBlock,r.positions.END)}setCallback(){this.listeners.on(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}unsetCallback(){this.listeners.off(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}processTools(){const e=this.Editor.Tools.blockTools;Array.from(e.values()).forEach(this.processTool)}collectTagNames(e){return kn(e)?[e]:Ie(e)?Object.keys(e):[]}getTagsConfig(e){if(e.pasteConfig===!1)return;const n=e.pasteConfig.tags||[],r=[];n.forEach(i=>{const o=this.collectTagNames(i);r.push(...o),o.forEach(s=>{if(Object.prototype.hasOwnProperty.call(this.toolsTags,s)){X(`Paste handler for «${e.name}» Tool on «${s}» tag is skipped because it is already used by «${this.toolsTags[s].tool.name}» Tool.`,"warn");return}const a=Ie(i)?i[s]:null;this.toolsTags[s.toUpperCase()]={tool:e,sanitizationConfig:a}})}),this.tagsByTool[e.name]=r.map(i=>i.toUpperCase())}getFilesConfig(e){if(e.pasteConfig===!1)return;const{files:n={}}=e.pasteConfig;let{extensions:r,mimeTypes:i}=n;!r&&!i||(r&&!Array.isArray(r)&&(X(`«extensions» property of the onDrop config for «${e.name}» Tool should be an array`),r=[]),i&&!Array.isArray(i)&&(X(`«mimeTypes» property of the onDrop config for «${e.name}» Tool should be an array`),i=[]),i&&(i=i.filter(o=>DR(o)?!0:(X(`MIME type value «${o}» for the «${e.name}» Tool is not a valid MIME type`,"warn"),!1))),this.toolsFiles[e.name]={extensions:r||[],mimeTypes:i||[]})}getPatternsConfig(e){e.pasteConfig===!1||!e.pasteConfig.patterns||xt(e.pasteConfig.patterns)||Object.entries(e.pasteConfig.patterns).forEach(([n,r])=>{r instanceof RegExp||X(`Pattern ${r} for «${e.name}» Tool is skipped because it should be a Regexp instance.`,"warn"),this.toolsPatterns.push({key:n,pattern:r,tool:e})})}isNativeBehaviour(e){return _.isNativeInput(e)}async processFiles(e){const{BlockManager:n}=this.Editor;let r;r=await Promise.all(Array.from(e).map(o=>this.processFile(o))),r=r.filter(o=>!!o);const i=n.currentBlock.tool.isDefault&&n.currentBlock.isEmpty;r.forEach((o,s)=>{n.paste(o.type,o.event,s===0&&i)})}async processFile(e){const n=RR(e),r=Object.entries(this.toolsFiles).find(([o,{mimeTypes:s,extensions:a}])=>{const[l,c]=e.type.split("/"),u=a.find(h=>h.toLowerCase()===n.toLowerCase()),d=s.find(h=>{const[y,f]=h.split("/");return y===l&&(f===c||f==="*")});return!!u||!!d});if(!r)return;const[i]=r;return{event:this.composePasteEvent("file",{file:e}),type:i}}processHTML(e){const{Tools:n}=this.Editor,r=_.make("DIV");return r.innerHTML=e,this.getNodes(r).map(i=>{let o,s=n.defaultTool,a=!1;switch(i.nodeType){case Node.DOCUMENT_FRAGMENT_NODE:o=_.make("div"),o.appendChild(i);break;case Node.ELEMENT_NODE:o=i,a=!0,this.toolsTags[o.tagName]&&(s=this.toolsTags[o.tagName].tool);break}const{tags:l}=s.pasteConfig||{tags:[]},c=l.reduce((h,y)=>(this.collectTagNames(y).forEach(f=>{const m=Ie(y)?y[f]:null;h[f.toLowerCase()]=m||{}}),h),{}),u=Object.assign({},c,s.baseSanitizeConfig);if(o.tagName.toLowerCase()==="table"){const h=Dt(o.outerHTML,u);o=_.make("div",void 0,{innerHTML:h}).firstChild}else o.innerHTML=Dt(o.innerHTML,u);const d=this.composePasteEvent("tag",{data:o});return{content:o,isBlock:a,tool:s.name,event:d}}).filter(i=>{const o=_.isEmpty(i.content),s=_.isSingleTag(i.content);return!o||s})}processPlain(e){const{defaultBlock:n}=this.config;if(!e)return[];const r=n;return e.split(/\r?\n/).filter(i=>i.trim()).map(i=>{const o=_.make("div");o.textContent=i;const s=this.composePasteEvent("tag",{data:o});return{content:o,tool:r,isBlock:!1,event:s}})}async processSingleBlock(e){const{Caret:n,BlockManager:r}=this.Editor,{currentBlock:i}=r;if(!i||e.tool!==i.name||!_.containsOnlyInlineElements(e.content.innerHTML)){this.insertBlock(e,(i==null?void 0:i.tool.isDefault)&&i.isEmpty);return}n.insertContentAtCaretPosition(e.content.innerHTML)}async processInlinePaste(e){const{BlockManager:n,Caret:r}=this.Editor,{content:i}=e;if(n.currentBlock&&n.currentBlock.tool.isDefault&&i.textContent.length<Hx.PATTERN_PROCESSING_MAX_LENGTH){const o=await this.processPattern(i.textContent);if(o){const s=n.currentBlock&&n.currentBlock.tool.isDefault&&n.currentBlock.isEmpty,a=n.paste(o.tool,o.event,s);r.setToBlock(a,r.positions.END);return}}if(n.currentBlock&&n.currentBlock.currentInput){const o=n.currentBlock.tool.baseSanitizeConfig;document.execCommand("insertHTML",!1,Dt(i.innerHTML,o))}else this.insertBlock(e)}async processPattern(e){const n=this.toolsPatterns.find(r=>{const i=r.pattern.exec(e);return i?e===i.shift():!1});return n?{event:this.composePasteEvent("pattern",{key:n.key,data:e}),tool:n.tool.name}:void 0}insertBlock(e,n=!1){const{BlockManager:r,Caret:i}=this.Editor,{currentBlock:o}=r;let s;if(n&&o&&o.isEmpty){s=r.paste(e.tool,e.event,!0),i.setToBlock(s,i.positions.END);return}s=r.paste(e.tool,e.event),i.setToBlock(s,i.positions.END)}insertEditorJSData(e){const{BlockManager:n,Caret:r,Tools:i}=this.Editor;gf(e,o=>i.blockTools.get(o).sanitizeConfig).forEach(({tool:o,data:s},a)=>{let l=!1;a===0&&(l=n.currentBlock&&n.currentBlock.tool.isDefault&&n.currentBlock.isEmpty);const c=n.insert({tool:o,data:s,replace:l});r.setToBlock(c,r.positions.END)})}processElementNode(e,n,r){const i=Object.keys(this.toolsTags),o=e,{tool:s}=this.toolsTags[o.tagName]||{},a=this.tagsByTool[s==null?void 0:s.name]||[],l=i.includes(o.tagName),c=_.blockElements.includes(o.tagName.toLowerCase()),u=Array.from(o.children).some(({tagName:h})=>i.includes(h)&&!a.includes(h)),d=Array.from(o.children).some(({tagName:h})=>_.blockElements.includes(h.toLowerCase()));if(!c&&!l&&!u)return r.appendChild(o),[...n,r];if(l&&!u||c&&!d&&!u)return[...n,r,o]}getNodes(e){const n=Array.from(e.childNodes);let r;const i=(o,s)=>{if(_.isEmpty(s)&&!_.isSingleTag(s))return o;const a=o[o.length-1];let l=new DocumentFragment;switch(a&&_.isFragment(a)&&(l=o.pop()),s.nodeType){case Node.ELEMENT_NODE:if(r=this.processElementNode(s,o,l),r)return r;break;case Node.TEXT_NODE:return l.appendChild(s),[...o,l];default:return[...o,l]}return[...o,...Array.from(s.childNodes).reduce(i,[])]};return n.reduce(i,[])}composePasteEvent(e,n){return new CustomEvent(e,{detail:n})}};Vx.PATTERN_PROCESSING_MAX_LENGTH=450;let k4=Vx;class x4 extends q{constructor(){super(...arguments),this.toolsDontSupportReadOnly=[],this.readOnlyEnabled=!1}get isEnabled(){return this.readOnlyEnabled}async prepare(){const{Tools:e}=this.Editor,{blockTools:n}=e,r=[];Array.from(n.entries()).forEach(([i,o])=>{o.isReadOnlySupported||r.push(i)}),this.toolsDontSupportReadOnly=r,this.config.readOnly&&r.length>0&&this.throwCriticalError(),this.toggle(this.config.readOnly,!0)}async toggle(e=!this.readOnlyEnabled,n=!1){e&&this.toolsDontSupportReadOnly.length>0&&this.throwCriticalError();const r=this.readOnlyEnabled;this.readOnlyEnabled=e;for(const o in this.Editor)this.Editor[o].toggleReadOnly&&this.Editor[o].toggleReadOnly(e);if(r===e)return this.readOnlyEnabled;if(n)return this.readOnlyEnabled;this.Editor.ModificationsObserver.disable();const i=await this.Editor.Saver.save();return await this.Editor.BlockManager.clear(),await this.Editor.Renderer.render(i.blocks),this.Editor.ModificationsObserver.enable(),this.readOnlyEnabled}throwCriticalError(){throw new mx(`To enable read-only mode all connected tools should support it. Tools ${this.toolsDontSupportReadOnly.join(", ")} don't support read-only mode.`)}}let E4=class Da extends q{constructor(){super(...arguments),this.isRectSelectionActivated=!1,this.SCROLL_SPEED=3,this.HEIGHT_OF_SCROLL_ZONE=40,this.BOTTOM_SCROLL_ZONE=1,this.TOP_SCROLL_ZONE=2,this.MAIN_MOUSE_BUTTON=0,this.mousedown=!1,this.isScrolling=!1,this.inScrollZone=null,this.startX=0,this.startY=0,this.mouseX=0,this.mouseY=0,this.stackOfSelected=[],this.listenerIds=[]}static get CSS(){return{overlay:"codex-editor-overlay",overlayContainer:"codex-editor-overlay__container",rect:"codex-editor-overlay__rectangle",topScrollZone:"codex-editor-overlay__scroll-zone--top",bottomScrollZone:"codex-editor-overlay__scroll-zone--bottom"}}prepare(){this.enableModuleBindings()}startSelection(e,n){const r=document.elementFromPoint(e-window.pageXOffset,n-window.pageYOffset);r.closest(`.${this.Editor.Toolbar.CSS.toolbar}`)||(this.Editor.BlockSelection.allBlocksSelected=!1,this.clearSelection(),this.stackOfSelected=[]);const i=[`.${sn.CSS.content}`,`.${this.Editor.Toolbar.CSS.toolbar}`,`.${this.Editor.InlineToolbar.CSS.inlineToolbar}`],o=r.closest("."+this.Editor.UI.CSS.editorWrapper),s=i.some(a=>!!r.closest(a));!o||s||(this.mousedown=!0,this.startX=e,this.startY=n)}endSelection(){this.mousedown=!1,this.startX=0,this.startY=0,this.overlayRectangle.style.display="none"}isRectActivated(){return this.isRectSelectionActivated}clearSelection(){this.isRectSelectionActivated=!1}enableModuleBindings(){const{container:e}=this.genHTML();this.listeners.on(e,"mousedown",n=>{this.processMouseDown(n)},!1),this.listeners.on(document.body,"mousemove",ch(n=>{this.processMouseMove(n)},10),{passive:!0}),this.listeners.on(document.body,"mouseleave",()=>{this.processMouseLeave()}),this.listeners.on(window,"scroll",ch(n=>{this.processScroll(n)},10),{passive:!0}),this.listeners.on(document.body,"mouseup",()=>{this.processMouseUp()},!1)}processMouseDown(e){e.button===this.MAIN_MOUSE_BUTTON&&(e.target.closest(_.allInputsSelector)!==null||this.startSelection(e.pageX,e.pageY))}processMouseMove(e){this.changingRectangle(e),this.scrollByZones(e.clientY)}processMouseLeave(){this.clearSelection(),this.endSelection()}processScroll(e){this.changingRectangle(e)}processMouseUp(){this.clearSelection(),this.endSelection()}scrollByZones(e){if(this.inScrollZone=null,e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.TOP_SCROLL_ZONE),document.documentElement.clientHeight-e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.BOTTOM_SCROLL_ZONE),!this.inScrollZone){this.isScrolling=!1;return}this.isScrolling||(this.scrollVertical(this.inScrollZone===this.TOP_SCROLL_ZONE?-this.SCROLL_SPEED:this.SCROLL_SPEED),this.isScrolling=!0)}genHTML(){const{UI:e}=this.Editor,n=e.nodes.holder.querySelector("."+e.CSS.editorWrapper),r=_.make("div",Da.CSS.overlay,{}),i=_.make("div",Da.CSS.overlayContainer,{}),o=_.make("div",Da.CSS.rect,{});return i.appendChild(o),r.appendChild(i),n.appendChild(r),this.overlayRectangle=o,{container:n,overlay:r}}scrollVertical(e){if(!(this.inScrollZone&&this.mousedown))return;const n=window.pageYOffset;window.scrollBy(0,e),this.mouseY+=window.pageYOffset-n,setTimeout(()=>{this.scrollVertical(e)},0)}changingRectangle(e){if(!this.mousedown)return;e.pageY!==void 0&&(this.mouseX=e.pageX,this.mouseY=e.pageY);const{rightPos:n,leftPos:r,index:i}=this.genInfoForMouseSelection(),o=this.startX>n&&this.mouseX>n,s=this.startX<r&&this.mouseX<r;this.rectCrossesBlocks=!(o||s),this.isRectSelectionActivated||(this.rectCrossesBlocks=!1,this.isRectSelectionActivated=!0,this.shrinkRectangleToPoint(),this.overlayRectangle.style.display="block"),this.updateRectangleSize(),this.Editor.Toolbar.close(),i!==void 0&&(this.trySelectNextBlock(i),this.inverseSelection(),D.get().removeAllRanges())}shrinkRectangleToPoint(){this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`}inverseSelection(){const e=this.Editor.BlockManager.getBlockByIndex(this.stackOfSelected[0]).selected;if(this.rectCrossesBlocks&&!e)for(const n of this.stackOfSelected)this.Editor.BlockSelection.selectBlockByIndex(n);if(!this.rectCrossesBlocks&&e)for(const n of this.stackOfSelected)this.Editor.BlockSelection.unSelectBlockByIndex(n)}updateRectangleSize(){this.mouseY>=this.startY?(this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.mouseY-window.pageYOffset}px`):(this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.top=`${this.mouseY-window.pageYOffset}px`),this.mouseX>=this.startX?(this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.mouseX-window.pageXOffset}px`):(this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.left=`${this.mouseX-window.pageXOffset}px`)}genInfoForMouseSelection(){const e=document.body.offsetWidth/2,n=this.mouseY-window.pageYOffset,r=document.elementFromPoint(e,n),i=this.Editor.BlockManager.getBlockByChildNode(r);let o;i!==void 0&&(o=this.Editor.BlockManager.blocks.findIndex(u=>u.holder===i.holder));const s=this.Editor.BlockManager.lastBlock.holder.querySelector("."+sn.CSS.content),a=Number.parseInt(window.getComputedStyle(s).width,10)/2,l=e-a,c=e+a;return{index:o,leftPos:l,rightPos:c}}addBlockInSelection(e){this.rectCrossesBlocks&&this.Editor.BlockSelection.selectBlockByIndex(e),this.stackOfSelected.push(e)}trySelectNextBlock(e){const n=this.stackOfSelected[this.stackOfSelected.length-1]===e,r=this.stackOfSelected.length,i=1,o=-1,s=0;if(n)return;const a=this.stackOfSelected[r-1]-this.stackOfSelected[r-2]>0;let l=s;r>1&&(l=a?i:o);const c=e>this.stackOfSelected[r-1]&&l===i,u=e<this.stackOfSelected[r-1]&&l===o,d=!(c||u||l===s);if(!d&&(e>this.stackOfSelected[r-1]||this.stackOfSelected[r-1]===void 0)){let f=this.stackOfSelected[r-1]+1||e;for(f;f<=e;f++)this.addBlockInSelection(f);return}if(!d&&e<this.stackOfSelected[r-1]){for(let f=this.stackOfSelected[r-1]-1;f>=e;f--)this.addBlockInSelection(f);return}if(!d)return;let h=r-1,y;for(e>this.stackOfSelected[r-1]?y=()=>e>this.stackOfSelected[h]:y=()=>e<this.stackOfSelected[h];y();)this.rectCrossesBlocks&&this.Editor.BlockSelection.unSelectBlockByIndex(this.stackOfSelected[h]),this.stackOfSelected.pop(),h--}};class S4 extends q{async render(e){return new Promise(n=>{const{Tools:r,BlockManager:i}=this.Editor;if(e.length===0)i.insert();else{const o=e.map(({type:s,data:a,tunes:l,id:c})=>{r.available.has(s)===!1&&(vt(`Tool «${s}» is not found. Check 'tools' property at the Editor.js config.`,"warn"),a=this.composeStubDataForTool(s,a,c),s=r.stubTool);let u;try{u=i.composeBlock({id:c,tool:s,data:a,tunes:l})}catch(d){X(`Block «${s}» skipped because of plugins error`,"error",{data:a,error:d}),a=this.composeStubDataForTool(s,a,c),s=r.stubTool,u=i.composeBlock({id:c,tool:s,data:a,tunes:l})}return u});i.insertMany(o)}window.requestIdleCallback(()=>{n()},{timeout:2e3})})}composeStubDataForTool(e,n,r){const{Tools:i}=this.Editor;let o=e;if(i.unavailable.has(e)){const s=i.unavailable.get(e).toolbox;s!==void 0&&s[0].title!==void 0&&(o=s[0].title)}return{savedData:{id:r,type:e,data:n},title:o}}}class C4 extends q{async save(){const{BlockManager:e,Tools:n}=this.Editor,r=e.blocks,i=[];try{r.forEach(a=>{i.push(this.getSavedData(a))});const o=await Promise.all(i),s=await gf(o,a=>n.blockTools.get(a).sanitizeConfig);return this.makeOutput(s)}catch(o){vt("Saving failed due to the Error %o","error",o)}}async getSavedData(e){const n=await e.save(),r=n&&await e.validate(n.data);return{...n,isValid:r}}makeOutput(e){const n=[];return e.forEach(({id:r,tool:i,data:o,tunes:s,isValid:a})=>{if(!a){X(`Block «${i}» skipped because saved data is invalid`);return}if(i===this.Editor.Tools.stubTool){n.push(o);return}const l={id:r,type:i,data:o,...!xt(s)&&{tunes:s}};n.push(l)}),{time:+new Date,blocks:n,version:"2.30.6"}}}(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".ce-paragraph{line-height:1.6em;outline:none}.ce-block:only-of-type .ce-paragraph[data-placeholder-active]:empty:before,.ce-block:only-of-type .ce-paragraph[data-placeholder-active][data-empty=true]:before{content:attr(data-placeholder-active)}.ce-paragraph p:first-of-type{margin-top:0}.ce-paragraph p:last-of-type{margin-bottom:0}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const T4='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>';function _4(t){const e=document.createElement("div");e.innerHTML=t.trim();const n=document.createDocumentFragment();return n.append(...Array.from(e.childNodes)),n}/**
 * Base Paragraph Block for the Editor.js.
 * Represents a regular text block
 *
 * @author CodeX (team@codex.so)
 * @copyright CodeX 2018
 * @license The MIT License (MIT)
 */let I4=class zx{static get DEFAULT_PLACEHOLDER(){return""}constructor({data:e,config:n,api:r,readOnly:i}){this.api=r,this.readOnly=i,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph"},this.readOnly||(this.onKeyUp=this.onKeyUp.bind(this)),this._placeholder=n.placeholder?n.placeholder:zx.DEFAULT_PLACEHOLDER,this._data=e??{},this._element=null,this._preserveBlank=n.preserveBlank??!1}onKeyUp(e){if(e.code!=="Backspace"&&e.code!=="Delete"||!this._element)return;const{textContent:n}=this._element;n===""&&(this._element.innerHTML="")}drawView(){const e=document.createElement("DIV");return e.classList.add(this._CSS.wrapper,this._CSS.block),e.contentEditable="false",e.dataset.placeholderActive=this.api.i18n.t(this._placeholder),this._data.text&&(e.innerHTML=this._data.text),this.readOnly||(e.contentEditable="true",e.addEventListener("keyup",this.onKeyUp)),e}render(){return this._element=this.drawView(),this._element}merge(e){if(!this._element)return;this._data.text+=e.text;const n=_4(e.text);this._element.appendChild(n),this._element.normalize()}validate(e){return!(e.text.trim()===""&&!this._preserveBlank)}save(e){return{text:e.innerHTML}}onPaste(e){const n={text:e.detail.data.innerHTML};this._data=n,window.requestAnimationFrame(()=>{this._element&&(this._element.innerHTML=this._data.text||"")})}static get conversionConfig(){return{export:"text",import:"text"}}static get sanitize(){return{text:{br:!0}}}static get isReadOnlySupported(){return!0}static get pasteConfig(){return{tags:["P"]}}static get toolbox(){return{icon:T4,title:"Text"}}},Sf=class{constructor(){this.commandName="bold"}static get sanitize(){return{b:{}}}render(){return{icon:AD,name:"bold",onActivate:()=>{document.execCommand(this.commandName)},isActive:()=>document.queryCommandState(this.commandName)}}get shortcut(){return"CMD+B"}};Sf.isInline=!0;Sf.title="Bold";let Cf=class{constructor(){this.commandName="italic",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--italic"},this.nodes={button:null}}static get sanitize(){return{i:{}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=DD,this.nodes.button}surround(){document.execCommand(this.commandName)}checkState(){const e=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,e),e}get shortcut(){return"CMD+I"}};Cf.isInline=!0;Cf.title="Italic";let Tf=class{constructor({api:e}){this.commandLink="createLink",this.commandUnlink="unlink",this.ENTER_KEY=13,this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--link",buttonUnlink:"ce-inline-tool--unlink",input:"ce-inline-tool-input",inputShowed:"ce-inline-tool-input--showed"},this.nodes={button:null,input:null},this.inputOpened=!1,this.toolbar=e.toolbar,this.inlineToolbar=e.inlineToolbar,this.notifier=e.notifier,this.i18n=e.i18n,this.selection=new D}static get sanitize(){return{a:{href:!0,target:"_blank",rel:"nofollow"}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=jy,this.nodes.button}renderActions(){return this.nodes.input=document.createElement("input"),this.nodes.input.placeholder=this.i18n.t("Add a link"),this.nodes.input.enterKeyHint="done",this.nodes.input.classList.add(this.CSS.input),this.nodes.input.addEventListener("keydown",e=>{e.keyCode===this.ENTER_KEY&&this.enterPressed(e)}),this.nodes.input}surround(e){if(e){this.inputOpened?(this.selection.restore(),this.selection.removeFakeBackground()):(this.selection.setFakeBackground(),this.selection.save());const n=this.selection.findParentTag("A");if(n){this.selection.expandToTag(n),this.unlink(),this.closeActions(),this.checkState(),this.toolbar.close();return}}this.toggleActions()}checkState(){const e=this.selection.findParentTag("A");if(e){this.nodes.button.innerHTML=UD,this.nodes.button.classList.add(this.CSS.buttonUnlink),this.nodes.button.classList.add(this.CSS.buttonActive),this.openActions();const n=e.getAttribute("href");this.nodes.input.value=n!=="null"?n:"",this.selection.save()}else this.nodes.button.innerHTML=jy,this.nodes.button.classList.remove(this.CSS.buttonUnlink),this.nodes.button.classList.remove(this.CSS.buttonActive);return!!e}clear(){this.closeActions()}get shortcut(){return"CMD+K"}toggleActions(){this.inputOpened?this.closeActions(!1):this.openActions(!0)}openActions(e=!1){this.nodes.input.classList.add(this.CSS.inputShowed),e&&this.nodes.input.focus(),this.inputOpened=!0}closeActions(e=!0){if(this.selection.isFakeBackgroundEnabled){const n=new D;n.save(),this.selection.restore(),this.selection.removeFakeBackground(),n.restore()}this.nodes.input.classList.remove(this.CSS.inputShowed),this.nodes.input.value="",e&&this.selection.clearSaved(),this.inputOpened=!1}enterPressed(e){let n=this.nodes.input.value||"";if(!n.trim()){this.selection.restore(),this.unlink(),e.preventDefault(),this.closeActions();return}if(!this.validateURL(n)){this.notifier.show({message:"Pasted link is not valid.",style:"error"}),X("Incorrect Link pasted","warn",n);return}n=this.prepareLink(n),this.selection.restore(),this.selection.removeFakeBackground(),this.insertLink(n),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),this.selection.collapseToEnd(),this.inlineToolbar.close()}validateURL(e){return!/\s/.test(e)}prepareLink(e){return e=e.trim(),e=this.addProtocol(e),e}addProtocol(e){if(/^(\w+):(\/\/)?/.test(e))return e;const n=/^\/[^/\s]/.test(e),r=e.substring(0,1)==="#",i=/^\/\/[^/\s]/.test(e);return!n&&!r&&!i&&(e="http://"+e),e}insertLink(e){const n=this.selection.findParentTag("A");n&&this.selection.expandToTag(n),document.execCommand(this.commandLink,!1,e)}unlink(){document.execCommand(this.commandUnlink)}};Tf.isInline=!0;Tf.title="Link";class Wx{constructor({api:e}){this.i18nAPI=e.i18n,this.blocksAPI=e.blocks,this.selectionAPI=e.selection,this.toolsAPI=e.tools,this.caretAPI=e.caret}async render(){const e=D.get(),n=this.blocksAPI.getBlockByElement(e.anchorNode);if(n===void 0)return[];const r=this.toolsAPI.getBlockTools(),i=await kx(n,r);if(i.length===0)return[];const o=i.reduce((c,u)=>{var d;return(d=u.toolbox)==null||d.forEach(h=>{c.push({icon:h.icon,title:Ue.t(it.toolNames,h.title),name:u.name,closeOnActivate:!0,onActivate:async()=>{const y=await this.blocksAPI.convert(n.id,u.name,h.data);this.caretAPI.setToBlock(y,"end")}})}),c},[]),s=await n.getActiveToolboxEntry(),a=s!==void 0?s.icon:Ix,l=!Ji();return{icon:a,name:"convert-to",hint:{title:this.i18nAPI.t("Convert to")},children:{searchable:l,items:o,onOpen:()=>{l&&(this.selectionAPI.setFakeBackground(),this.selectionAPI.save())},onClose:()=>{l&&(this.selectionAPI.restore(),this.selectionAPI.removeFakeBackground())}}}}}Wx.isInline=!0;class Kx{constructor({data:e,api:n}){this.CSS={wrapper:"ce-stub",info:"ce-stub__info",title:"ce-stub__title",subtitle:"ce-stub__subtitle"},this.api=n,this.title=e.title||this.api.i18n.t("Error"),this.subtitle=this.api.i18n.t("The block can not be displayed correctly."),this.savedData=e.savedData,this.wrapper=this.make()}render(){return this.wrapper}save(){return this.savedData}make(){const e=_.make("div",this.CSS.wrapper),n=VD,r=_.make("div",this.CSS.info),i=_.make("div",this.CSS.title,{textContent:this.title}),o=_.make("div",this.CSS.subtitle,{textContent:this.subtitle});return e.innerHTML=n,r.appendChild(i),r.appendChild(o),e.appendChild(r),e}}Kx.isReadOnlySupported=!0;class P4 extends Ef{constructor(){super(...arguments),this.type=Br.Inline}get title(){return this.constructable[xf.Title]}create(){return new this.constructable({api:this.api,config:this.settings})}}class A4 extends Ef{constructor(){super(...arguments),this.type=Br.Tune}create(e,n){return new this.constructable({api:this.api,config:this.settings,block:n,data:e})}}let Nt=class Jr extends Map{get blockTools(){const e=Array.from(this.entries()).filter(([,n])=>n.isBlock());return new Jr(e)}get inlineTools(){const e=Array.from(this.entries()).filter(([,n])=>n.isInline());return new Jr(e)}get blockTunes(){const e=Array.from(this.entries()).filter(([,n])=>n.isTune());return new Jr(e)}get internalTools(){const e=Array.from(this.entries()).filter(([,n])=>n.isInternal);return new Jr(e)}get externalTools(){const e=Array.from(this.entries()).filter(([,n])=>!n.isInternal);return new Jr(e)}};var O4=Object.defineProperty,B4=Object.getOwnPropertyDescriptor,qx=(t,e,n,r)=>{for(var i=B4(e,n),o=t.length-1,s;o>=0;o--)(s=t[o])&&(i=s(e,n,i)||i);return i&&O4(e,n,i),i};let _f=class extends Ef{constructor(){super(...arguments),this.type=Br.Block,this.inlineTools=new Nt,this.tunes=new Nt}create(e,n,r){return new this.constructable({data:e,block:n,readOnly:r,api:this.api,config:this.settings})}get isReadOnlySupported(){return this.constructable[Xr.IsReadOnlySupported]===!0}get isLineBreaksEnabled(){return this.constructable[Xr.IsEnabledLineBreaks]}get toolbox(){const e=this.constructable[Xr.Toolbox],n=this.config[Ma.Toolbox];if(!xt(e)&&n!==!1)return n?Array.isArray(e)?Array.isArray(n)?n.map((r,i)=>{const o=e[i];return o?{...o,...r}:r}):[n]:Array.isArray(n)?n:[{...e,...n}]:Array.isArray(e)?e:[e]}get conversionConfig(){return this.constructable[Xr.ConversionConfig]}get enabledInlineTools(){return this.config[Ma.EnabledInlineTools]||!1}get enabledBlockTunes(){return this.config[Ma.EnabledBlockTunes]}get pasteConfig(){return this.constructable[Xr.PasteConfig]??{}}get sanitizeConfig(){const e=super.sanitizeConfig,n=this.baseSanitizeConfig;if(xt(e))return n;const r={};for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];Ie(o)?r[i]=Object.assign({},n,o):r[i]=o}return r}get baseSanitizeConfig(){const e={};return Array.from(this.inlineTools.values()).forEach(n=>Object.assign(e,n.sanitizeConfig)),Array.from(this.tunes.values()).forEach(n=>Object.assign(e,n.sanitizeConfig)),e}};qx([Xi],_f.prototype,"sanitizeConfig");qx([Xi],_f.prototype,"baseSanitizeConfig");class L4{constructor(e,n,r){this.api=r,this.config=e,this.editorConfig=n}get(e){const{class:n,isInternal:r=!1,...i}=this.config[e],o=this.getConstructor(n),s=n[gh.IsTune];return new o({name:e,constructable:n,config:i,api:this.api.getMethodsForTool(e,s),isDefault:e===this.editorConfig.defaultBlock,defaultPlaceholder:this.editorConfig.placeholder,isInternal:r})}getConstructor(e){switch(!0){case e[xf.IsInline]:return P4;case e[gh.IsTune]:return A4;default:return _f}}}class Gx{constructor({api:e}){this.CSS={animation:"wobble"},this.api=e}render(){return{icon:OD,title:this.api.i18n.t("Move down"),onActivate:()=>this.handleClick(),name:"move-down"}}handleClick(){const e=this.api.blocks.getCurrentBlockIndex(),n=this.api.blocks.getBlockByIndex(e+1);if(!n)throw new Error("Unable to move Block down since it is already the last");const r=n.holder,i=r.getBoundingClientRect();let o=Math.abs(window.innerHeight-r.offsetHeight);i.top<window.innerHeight&&(o=window.scrollY+r.offsetHeight),window.scrollTo(0,o),this.api.blocks.move(e+1),this.api.toolbar.toggleBlockSettings(!0)}}Gx.isTune=!0;class Yx{constructor({api:e}){this.api=e}render(){return{icon:ND,title:this.api.i18n.t("Delete"),name:"delete",confirmation:{title:this.api.i18n.t("Click to delete"),onActivate:()=>this.handleClick()}}}handleClick(){this.api.blocks.delete()}}Yx.isTune=!0;class Xx{constructor({api:e}){this.CSS={animation:"wobble"},this.api=e}render(){return{icon:MD,title:this.api.i18n.t("Move up"),onActivate:()=>this.handleClick(),name:"move-up"}}handleClick(){const e=this.api.blocks.getCurrentBlockIndex(),n=this.api.blocks.getBlockByIndex(e),r=this.api.blocks.getBlockByIndex(e-1);if(e===0||!n||!r)throw new Error("Unable to move Block up since it is already the first");const i=n.holder,o=r.holder,s=i.getBoundingClientRect(),a=o.getBoundingClientRect();let l;a.top>0?l=Math.abs(s.top)-Math.abs(a.top):l=Math.abs(s.top)+a.height,window.scrollBy(0,-1*l),this.api.blocks.move(e-1),this.api.toolbar.toggleBlockSettings(!0)}}Xx.isTune=!0;var M4=Object.defineProperty,N4=Object.getOwnPropertyDescriptor,R4=(t,e,n,r)=>{for(var i=N4(e,n),o=t.length-1,s;o>=0;o--)(s=t[o])&&(i=s(e,n,i)||i);return i&&M4(e,n,i),i};class Jx extends q{constructor(){super(...arguments),this.stubTool="stub",this.toolsAvailable=new Nt,this.toolsUnavailable=new Nt}get available(){return this.toolsAvailable}get unavailable(){return this.toolsUnavailable}get inlineTools(){return this.available.inlineTools}get blockTools(){return this.available.blockTools}get blockTunes(){return this.available.blockTunes}get defaultTool(){return this.blockTools.get(this.config.defaultBlock)}get internal(){return this.available.internalTools}async prepare(){if(this.validateTools(),this.config.tools=uh({},this.internalTools,this.config.tools),!Object.prototype.hasOwnProperty.call(this.config,"tools")||Object.keys(this.config.tools).length===0)throw Error("Can't start without tools");const e=this.prepareConfig();this.factory=new L4(e,this.config,this.Editor.API);const n=this.getListOfPrepareFunctions(e);if(n.length===0)return Promise.resolve();await NR(n,r=>{this.toolPrepareMethodSuccess(r)},r=>{this.toolPrepareMethodFallback(r)}),this.prepareBlockTools()}getAllInlineToolsSanitizeConfig(){const e={};return Array.from(this.inlineTools.values()).forEach(n=>{Object.assign(e,n.sanitizeConfig)}),e}destroy(){Object.values(this.available).forEach(async e=>{ue(e.reset)&&await e.reset()})}get internalTools(){return{convertTo:{class:Wx,isInternal:!0},link:{class:Tf,isInternal:!0},bold:{class:Sf,isInternal:!0},italic:{class:Cf,isInternal:!0},paragraph:{class:I4,inlineToolbar:!0,isInternal:!0},stub:{class:Kx,isInternal:!0},moveUp:{class:Xx,isInternal:!0},delete:{class:Yx,isInternal:!0},moveDown:{class:Gx,isInternal:!0}}}toolPrepareMethodSuccess(e){const n=this.factory.get(e.toolName);if(n.isInline()){const r=["render"].filter(i=>!n.create()[i]);if(r.length){X(`Incorrect Inline Tool: ${n.name}. Some of required methods is not implemented %o`,"warn",r),this.toolsUnavailable.set(n.name,n);return}}this.toolsAvailable.set(n.name,n)}toolPrepareMethodFallback(e){this.toolsUnavailable.set(e.toolName,this.factory.get(e.toolName))}getListOfPrepareFunctions(e){const n=[];return Object.entries(e).forEach(([r,i])=>{n.push({function:ue(i.class.prepare)?i.class.prepare:()=>{},data:{toolName:r,config:i.config}})}),n}prepareBlockTools(){Array.from(this.blockTools.values()).forEach(e=>{this.assignInlineToolsToBlockTool(e),this.assignBlockTunesToBlockTool(e)})}assignInlineToolsToBlockTool(e){if(this.config.inlineToolbar!==!1){if(e.enabledInlineTools===!0){e.inlineTools=new Nt(Array.isArray(this.config.inlineToolbar)?this.config.inlineToolbar.map(n=>[n,this.inlineTools.get(n)]):Array.from(this.inlineTools.entries()));return}Array.isArray(e.enabledInlineTools)&&(e.inlineTools=new Nt(["convertTo",...e.enabledInlineTools].map(n=>[n,this.inlineTools.get(n)])))}}assignBlockTunesToBlockTool(e){if(e.enabledBlockTunes!==!1){if(Array.isArray(e.enabledBlockTunes)){const n=new Nt(e.enabledBlockTunes.map(r=>[r,this.blockTunes.get(r)]));e.tunes=new Nt([...n,...this.blockTunes.internalTools]);return}if(Array.isArray(this.config.tunes)){const n=new Nt(this.config.tunes.map(r=>[r,this.blockTunes.get(r)]));e.tunes=new Nt([...n,...this.blockTunes.internalTools]);return}e.tunes=this.blockTunes.internalTools}}validateTools(){for(const e in this.config.tools)if(Object.prototype.hasOwnProperty.call(this.config.tools,e)){if(e in this.internalTools)return;const n=this.config.tools[e];if(!ue(n)&&!ue(n.class))throw Error(`Tool «${e}» must be a constructor function or an object with function in the «class» property`)}}prepareConfig(){const e={};for(const n in this.config.tools)Ie(this.config.tools[n])?e[n]=this.config.tools[n]:e[n]={class:this.config.tools[n]};return e}}R4([Xi],Jx.prototype,"getAllInlineToolsSanitizeConfig");const D4=`:root{--selectionColor: #e1f2ff;--inlineSelectionColor: #d4ecff;--bg-light: #eff2f5;--grayText: #707684;--color-dark: #1D202B;--color-active-icon: #388AE5;--color-gray-border: rgba(201, 201, 204, .48);--content-width: 650px;--narrow-mode-right-padding: 50px;--toolbox-buttons-size: 26px;--toolbox-buttons-size--mobile: 36px;--icon-size: 20px;--icon-size--mobile: 28px;--block-padding-vertical: .4em;--color-line-gray: #EFF0F1 }.codex-editor{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.codex-editor .hide{display:none}.codex-editor__redactor [contenteditable]:empty:after{content:"\\feff"}@media (min-width: 651px){.codex-editor--narrow .codex-editor__redactor{margin-right:50px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .codex-editor__redactor{margin-left:50px;margin-right:0}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__actions{right:-5px}}.codex-editor-copyable{position:absolute;height:1px;width:1px;top:-400%;opacity:.001}.codex-editor-overlay{position:fixed;top:0;left:0;right:0;bottom:0;z-index:999;pointer-events:none;overflow:hidden}.codex-editor-overlay__container{position:relative;pointer-events:auto;z-index:0}.codex-editor-overlay__rectangle{position:absolute;pointer-events:none;background-color:#2eaadc33;border:1px solid transparent}.codex-editor svg{max-height:100%}.codex-editor path{stroke:currentColor}.codex-editor ::-moz-selection{background-color:#d4ecff}.codex-editor ::selection{background-color:#d4ecff}.codex-editor--toolbox-opened [contentEditable=true][data-placeholder]:focus:before{opacity:0!important}.ce-scroll-locked{overflow:hidden}.ce-scroll-locked--hard{overflow:hidden;top:calc(-1 * var(--window-scroll-offset));position:fixed;width:100%}.ce-toolbar{position:absolute;left:0;right:0;top:0;-webkit-transition:opacity .1s ease;transition:opacity .1s ease;will-change:opacity,top;display:none}.ce-toolbar--opened{display:block}.ce-toolbar__content{max-width:650px;margin:0 auto;position:relative}.ce-toolbar__plus{color:#1d202b;cursor:pointer;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-ms-flex-negative:0;flex-shrink:0}@media (max-width: 650px){.ce-toolbar__plus{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__plus:hover{background-color:#eff2f5}}.ce-toolbar__plus--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-toolbar__plus-shortcut{opacity:.6;word-spacing:-2px;margin-top:5px}@media (max-width: 650px){.ce-toolbar__plus{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__plus--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__plus--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__actions{position:absolute;right:100%;opacity:0;display:-webkit-box;display:-ms-flexbox;display:flex;padding-right:5px}.ce-toolbar__actions--opened{opacity:1}@media (max-width: 650px){.ce-toolbar__actions{right:auto}}.ce-toolbar__settings-btn{color:#1d202b;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;margin-left:3px;cursor:pointer;user-select:none}@media (max-width: 650px){.ce-toolbar__settings-btn{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__settings-btn:hover{background-color:#eff2f5}}.ce-toolbar__settings-btn--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@media (min-width: 651px){.ce-toolbar__settings-btn{width:24px}}.ce-toolbar__settings-btn--hidden{display:none}@media (max-width: 650px){.ce-toolbar__settings-btn{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__settings-btn--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__settings-btn--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__plus svg,.ce-toolbar__settings-btn svg{width:24px;height:24px}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__plus{left:5px}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbox .ce-popover{right:0;left:auto;left:initial}}.ce-inline-toolbar{--y-offset: 8px;--color-background-icon-active: rgba(56, 138, 229, .1);--color-text-icon-active: #388AE5;--color-text-primary: black;position:absolute;visibility:hidden;-webkit-transition:opacity .25s ease;transition:opacity .25s ease;will-change:opacity,left,top;top:0;left:0;z-index:3;opacity:1;visibility:visible}.ce-inline-toolbar [hidden]{display:none!important}.ce-inline-toolbar__toggler-and-button-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;padding:0 6px}.ce-inline-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown{display:-webkit-box;display:-ms-flexbox;display:flex;padding:6px;margin:0 6px 0 -6px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;border-right:1px solid rgba(201,201,204,.48);-webkit-box-sizing:border-box;box-sizing:border-box}@media (hover: hover){.ce-inline-toolbar__dropdown:hover{background:#eff2f5}}.ce-inline-toolbar__dropdown--hidden{display:none}.ce-inline-toolbar__dropdown-content,.ce-inline-toolbar__dropdown-arrow{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown-content svg,.ce-inline-toolbar__dropdown-arrow svg{width:20px;height:20px}.ce-inline-toolbar__shortcut{opacity:.6;word-spacing:-3px;margin-top:3px}.ce-inline-tool{color:var(--color-text-primary);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:0;border-radius:4px;line-height:normal;height:100%;padding:0;width:28px;background-color:transparent;cursor:pointer}@media (max-width: 650px){.ce-inline-tool{width:36px;height:36px}}@media (hover: hover){.ce-inline-tool:hover{background-color:#f8f8f8}}.ce-inline-tool svg{display:block;width:20px;height:20px}@media (max-width: 650px){.ce-inline-tool svg{width:28px;height:28px}}.ce-inline-tool--link .icon--unlink,.ce-inline-tool--unlink .icon--link{display:none}.ce-inline-tool--unlink .icon--unlink{display:inline-block;margin-bottom:-1px}.ce-inline-tool-input{background:#F8F8F8;border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:4px 8px;font-size:14px;line-height:22px;outline:none;margin:0;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:none;font-weight:500;-webkit-appearance:none;font-family:inherit}@media (max-width: 650px){.ce-inline-tool-input{font-size:15px;font-weight:500}}.ce-inline-tool-input::-webkit-input-placeholder{color:#707684}.ce-inline-tool-input::-moz-placeholder{color:#707684}.ce-inline-tool-input:-ms-input-placeholder{color:#707684}.ce-inline-tool-input::-ms-input-placeholder{color:#707684}.ce-inline-tool-input::placeholder{color:#707684}.ce-inline-tool-input--showed{display:block}.ce-inline-tool--active{background:var(--color-background-icon-active);color:var(--color-text-icon-active)}@-webkit-keyframes fade-in{0%{opacity:0}to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.ce-block{-webkit-animation:fade-in .3s ease;animation:fade-in .3s ease;-webkit-animation-fill-mode:none;animation-fill-mode:none;-webkit-animation-fill-mode:initial;animation-fill-mode:initial}.ce-block:first-of-type{margin-top:0}.ce-block--selected .ce-block__content{background:#e1f2ff}.ce-block--selected .ce-block__content [contenteditable]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ce-block--selected .ce-block__content img,.ce-block--selected .ce-block__content .ce-stub{opacity:.55}.ce-block--stretched .ce-block__content{max-width:none}.ce-block__content{position:relative;max-width:650px;margin:0 auto;-webkit-transition:background-color .15s ease;transition:background-color .15s ease}.ce-block--drop-target .ce-block__content:before{content:"";position:absolute;top:100%;left:-20px;margin-top:-1px;height:8px;width:8px;border:solid #388AE5;border-width:1px 1px 0 0;-webkit-transform-origin:right;transform-origin:right;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.ce-block--drop-target .ce-block__content:after{content:"";position:absolute;top:100%;height:1px;width:100%;color:#388ae5;background:repeating-linear-gradient(90deg,#388AE5,#388AE5 1px,#fff 1px,#fff 6px)}.ce-block a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.ce-block b{font-weight:700}.ce-block i{font-style:italic}@-webkit-keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}.cdx-block{padding:.4em 0}.cdx-block::-webkit-input-placeholder{line-height:normal!important}.cdx-input{border:1px solid rgba(201,201,204,.48);-webkit-box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);box-shadow:inset 0 1px 2px #232c480f;border-radius:3px;padding:10px 12px;outline:none;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.cdx-input[data-placeholder]:before{position:static!important}.cdx-input[data-placeholder]:before{display:inline-block;width:0;white-space:nowrap;pointer-events:none}.cdx-settings-button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;min-width:26px;min-height:26px}.cdx-settings-button--focused{background:rgba(34,186,255,.08)!important}.cdx-settings-button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.cdx-settings-button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.cdx-settings-button--active{color:#388ae5}.cdx-settings-button svg{width:auto;height:auto}@media (max-width: 650px){.cdx-settings-button svg{width:28px;height:28px}}@media (max-width: 650px){.cdx-settings-button{width:36px;height:36px;border-radius:8px}}@media (hover: hover){.cdx-settings-button:hover{background-color:#eff2f5}}.cdx-loader{position:relative;border:1px solid rgba(201,201,204,.48)}.cdx-loader:before{content:"";position:absolute;left:50%;top:50%;width:18px;height:18px;margin:-11px 0 0 -11px;border:2px solid rgba(201,201,204,.48);border-left-color:#388ae5;border-radius:50%;-webkit-animation:cdxRotation 1.2s infinite linear;animation:cdxRotation 1.2s infinite linear}@-webkit-keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.cdx-button{padding:13px;border-radius:3px;border:1px solid rgba(201,201,204,.48);font-size:14.9px;background:#fff;-webkit-box-shadow:0 2px 2px 0 rgba(18,30,57,.04);box-shadow:0 2px 2px #121e390a;color:#707684;text-align:center;cursor:pointer}@media (hover: hover){.cdx-button:hover{background:#FBFCFE;-webkit-box-shadow:0 1px 3px 0 rgba(18,30,57,.08);box-shadow:0 1px 3px #121e3914}}.cdx-button svg{height:20px;margin-right:.2em;margin-top:-2px}.ce-stub{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:12px 18px;margin:10px 0;border-radius:10px;background:#eff2f5;border:1px solid #EFF0F1;color:#707684;font-size:14px}.ce-stub svg{width:20px;height:20px}.ce-stub__info{margin-left:14px}.ce-stub__title{font-weight:500;text-transform:capitalize}.codex-editor.codex-editor--rtl{direction:rtl}.codex-editor.codex-editor--rtl .cdx-list{padding-left:0;padding-right:40px}.codex-editor.codex-editor--rtl .ce-toolbar__plus{right:-26px;left:auto}.codex-editor.codex-editor--rtl .ce-toolbar__actions{right:auto;left:-26px}@media (max-width: 650px){.codex-editor.codex-editor--rtl .ce-toolbar__actions{margin-left:0;margin-right:auto;padding-right:0;padding-left:10px}}.codex-editor.codex-editor--rtl .ce-settings{left:5px;right:auto}.codex-editor.codex-editor--rtl .ce-settings:before{right:auto;left:25px}.codex-editor.codex-editor--rtl .ce-settings__button:not(:nth-child(3n+3)){margin-left:3px;margin-right:0}.codex-editor.codex-editor--rtl .ce-conversion-tool__icon{margin-right:0;margin-left:10px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown{border-right:0px solid transparent;border-left:1px solid rgba(201,201,204,.48);margin:0 -6px 0 6px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown .icon--toggler-down{margin-left:0;margin-right:4px}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__plus{left:0;right:5px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__actions{left:-5px}}.cdx-search-field{--icon-margin-right: 10px;background:#F8F8F8;border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:2px;display:grid;grid-template-columns:auto auto 1fr;grid-template-rows:auto}.cdx-search-field__icon{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:var(--icon-margin-right)}.cdx-search-field__icon svg{width:20px;height:20px;color:#707684}.cdx-search-field__input{font-size:14px;outline:none;font-weight:500;font-family:inherit;border:0;background:transparent;margin:0;padding:0;line-height:22px;min-width:calc(100% - 26px - var(--icon-margin-right))}.cdx-search-field__input::-webkit-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-moz-placeholder{color:#707684;font-weight:500}.cdx-search-field__input:-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::placeholder{color:#707684;font-weight:500}.ce-popover{--border-radius: 6px;--width: 200px;--max-height: 270px;--padding: 6px;--offset-from-target: 8px;--color-border: #EFF0F1;--color-shadow: rgba(13, 20, 33, .1);--color-background: white;--color-text-primary: black;--color-text-secondary: #707684;--color-border-icon: rgba(201, 201, 204, .48);--color-border-icon-disabled: #EFF0F1;--color-text-icon-active: #388AE5;--color-background-icon-active: rgba(56, 138, 229, .1);--color-background-item-focus: rgba(34, 186, 255, .08);--color-shadow-item-focus: rgba(7, 161, 227, .08);--color-background-item-hover: #F8F8F8;--color-background-item-confirm: #E24A4A;--color-background-item-confirm-hover: #CE4343;--popover-top: calc(100% + var(--offset-from-target));--popover-left: 0;--nested-popover-overlap: 4px;--icon-size: 20px;--item-padding: 3px;--item-height: calc(var(--icon-size) + 2 * var(--item-padding))}.ce-popover__container{min-width:var(--width);width:var(--width);max-height:var(--max-height);border-radius:var(--border-radius);overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:0px 3px 15px -3px var(--color-shadow);box-shadow:0 3px 15px -3px var(--color-shadow);position:absolute;left:var(--popover-left);top:var(--popover-top);background:var(--color-background);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;z-index:4;opacity:0;max-height:0;pointer-events:none;padding:0;border:none}.ce-popover--opened>.ce-popover__container{opacity:1;padding:var(--padding);max-height:var(--max-height);pointer-events:auto;-webkit-animation:panelShowing .1s ease;animation:panelShowing .1s ease;border:1px solid var(--color-border)}@media (max-width: 650px){.ce-popover--opened>.ce-popover__container{-webkit-animation:panelShowingMobile .25s ease;animation:panelShowingMobile .25s ease}}.ce-popover--open-top .ce-popover__container{--popover-top: calc(-1 * (var(--offset-from-target) + var(--popover-height)))}.ce-popover--open-left .ce-popover__container{--popover-left: calc(-1 * var(--width) + 100%)}.ce-popover__items{overflow-y:auto;-ms-scroll-chaining:none;overscroll-behavior:contain}@media (max-width: 650px){.ce-popover__overlay{position:fixed;top:0;bottom:0;left:0;right:0;background:#1D202B;z-index:3;opacity:.5;-webkit-transition:opacity .12s ease-in;transition:opacity .12s ease-in;will-change:opacity;visibility:visible}}.ce-popover__overlay--hidden{display:none}@media (max-width: 650px){.ce-popover .ce-popover__container{--offset: 5px;position:fixed;max-width:none;min-width:calc(100% - var(--offset) * 2);left:var(--offset);right:var(--offset);bottom:calc(var(--offset) + env(safe-area-inset-bottom));top:auto;border-radius:10px}}.ce-popover__search{margin-bottom:5px}.ce-popover__nothing-found-message{color:#707684;display:none;cursor:default;padding:3px;font-size:14px;line-height:20px;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ce-popover__nothing-found-message--displayed{display:block}.ce-popover--nested .ce-popover__container{--popover-left: calc(var(--nesting-level) * (var(--width) - var(--nested-popover-overlap)));top:calc(var(--trigger-item-top) - var(--nested-popover-overlap));position:absolute}.ce-popover--open-top.ce-popover--nested .ce-popover__container{top:calc(var(--trigger-item-top) - var(--popover-height) + var(--item-height) + var(--offset-from-target) + var(--nested-popover-overlap))}.ce-popover--open-left .ce-popover--nested .ce-popover__container{--popover-left: calc(-1 * (var(--nesting-level) + 1) * var(--width) + 100%)}.ce-popover-item-separator{padding:4px 3px}.ce-popover-item-separator--hidden{display:none}.ce-popover-item-separator__line{height:1px;background:var(--color-border);width:100%}.ce-popover-item-html--hidden{display:none}.ce-popover-item{--border-radius: 6px;border-radius:var(--border-radius);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:var(--item-padding);color:var(--color-text-primary);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:none;background:transparent}@media (max-width: 650px){.ce-popover-item{padding:4px}}.ce-popover-item:not(:last-of-type){margin-bottom:1px}.ce-popover-item__icon{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.ce-popover-item__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-popover-item__icon{width:36px;height:36px;border-radius:8px}.ce-popover-item__icon svg{width:28px;height:28px}}.ce-popover-item__icon--tool{margin-right:4px}.ce-popover-item__title{font-size:14px;line-height:20px;font-weight:500;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;margin-right:auto}@media (max-width: 650px){.ce-popover-item__title{font-size:16px}}.ce-popover-item__secondary-title{color:var(--color-text-secondary);font-size:12px;white-space:nowrap;letter-spacing:-.1em;padding-right:5px;opacity:.6}@media (max-width: 650px){.ce-popover-item__secondary-title{display:none}}.ce-popover-item--active{background:var(--color-background-icon-active);color:var(--color-text-icon-active)}.ce-popover-item--disabled{color:var(--color-text-secondary);cursor:default;pointer-events:none}.ce-popover-item--focused:not(.ce-popover-item--no-focus){background:var(--color-background-item-focus)!important}.ce-popover-item--hidden{display:none}@media (hover: hover){.ce-popover-item:hover{cursor:pointer}.ce-popover-item:hover:not(.ce-popover-item--no-hover){background-color:var(--color-background-item-hover)}}.ce-popover-item--confirmation{background:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__title,.ce-popover-item--confirmation .ce-popover-item__icon{color:#fff}@media (hover: hover){.ce-popover-item--confirmation:not(.ce-popover-item--no-hover):hover{background:var(--color-background-item-confirm-hover)}}.ce-popover-item--confirmation:not(.ce-popover-item--no-focus).ce-popover-item--focused{background:var(--color-background-item-confirm-hover)!important}@-webkit-keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}.wobble{-webkit-animation-name:wobble;animation-name:wobble;-webkit-animation-duration:.4s;animation-duration:.4s}@-webkit-keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}@keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}.ce-popover-header{margin-bottom:8px;margin-top:4px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-popover-header__text{font-size:18px;font-weight:600}.ce-popover-header__back-button{border:0;background:transparent;width:36px;height:36px;color:var(--color-text-primary)}.ce-popover-header__back-button svg{display:block;width:28px;height:28px}.ce-popover--inline{--height: 38px;--height-mobile: 46px;--container-padding: 4px;position:relative}.ce-popover--inline .ce-popover__custom-content{margin-bottom:0}.ce-popover--inline .ce-popover__items{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-popover--inline .ce-popover__container{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;padding:var(--container-padding);height:var(--height);top:0;min-width:-webkit-max-content;min-width:-moz-max-content;min-width:max-content;width:-webkit-max-content;width:-moz-max-content;width:max-content;-webkit-animation:none;animation:none}@media (max-width: 650px){.ce-popover--inline .ce-popover__container{height:var(--height-mobile);position:absolute}}.ce-popover--inline .ce-popover-item-separator{padding:0 4px}.ce-popover--inline .ce-popover-item-separator__line{height:100%;width:1px}.ce-popover--inline .ce-popover-item{border-radius:4px;padding:4px}.ce-popover--inline .ce-popover-item__icon--tool{-webkit-box-shadow:none;box-shadow:none;background:transparent;margin-right:0}.ce-popover--inline .ce-popover-item__icon{width:auto;width:initial;height:auto;height:initial}.ce-popover--inline .ce-popover-item__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-popover--inline .ce-popover-item__icon svg{width:28px;height:28px}}.ce-popover--inline .ce-popover-item:not(:last-of-type){margin-bottom:0;margin-bottom:initial}.ce-popover--inline .ce-popover-item-html{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-popover--inline .ce-popover-item__icon--chevron-right{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.ce-popover--inline .ce-popover--nested-level-1 .ce-popover__container{--offset: 3px;left:0;top:calc(var(--height) + var(--offset))}@media (max-width: 650px){.ce-popover--inline .ce-popover--nested-level-1 .ce-popover__container{top:calc(var(--height-mobile) + var(--offset))}}.ce-popover--inline .ce-popover--nested .ce-popover__container{min-width:var(--width);width:var(--width);height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;padding:6px;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.ce-popover--inline .ce-popover--nested .ce-popover__items{display:block;width:100%}.ce-popover--inline .ce-popover--nested .ce-popover-item{border-radius:6px;padding:3px}@media (max-width: 650px){.ce-popover--inline .ce-popover--nested .ce-popover-item{padding:4px}}.ce-popover--inline .ce-popover--nested .ce-popover-item__icon--tool{margin-right:4px}.ce-popover--inline .ce-popover--nested .ce-popover-item__icon{width:26px;height:26px}.ce-popover--inline .ce-popover--nested .ce-popover-item-separator{padding:4px 3px}.ce-popover--inline .ce-popover--nested .ce-popover-item-separator__line{width:100%;height:1px}.codex-editor [data-placeholder]:empty:before,.codex-editor [data-placeholder][data-empty=true]:before{pointer-events:none;color:#707684;cursor:text;content:attr(data-placeholder)}.codex-editor [data-placeholder-active]:empty:before,.codex-editor [data-placeholder-active][data-empty=true]:before{pointer-events:none;color:#707684;cursor:text}.codex-editor [data-placeholder-active]:empty:focus:before,.codex-editor [data-placeholder-active][data-empty=true]:focus:before{content:attr(data-placeholder-active)}
`;class j4 extends q{constructor(){super(...arguments),this.isMobile=!1,this.contentRectCache=void 0,this.resizeDebouncer=Ny(()=>{this.windowResize()},200)}get CSS(){return{editorWrapper:"codex-editor",editorWrapperNarrow:"codex-editor--narrow",editorZone:"codex-editor__redactor",editorZoneHidden:"codex-editor__redactor--hidden",editorEmpty:"codex-editor--empty",editorRtlFix:"codex-editor--rtl"}}get contentRect(){if(this.contentRectCache)return this.contentRectCache;const e=this.nodes.wrapper.querySelector(`.${sn.CSS.content}`);return e?(this.contentRectCache=e.getBoundingClientRect(),this.contentRectCache):{width:650,left:0,right:0}}async prepare(){this.setIsMobile(),this.make(),this.loadStyles()}toggleReadOnly(e){e?this.disableModuleBindings():window.requestIdleCallback(()=>{this.enableModuleBindings()},{timeout:2e3})}checkEmptiness(){const{BlockManager:e}=this.Editor;this.nodes.wrapper.classList.toggle(this.CSS.editorEmpty,e.isEditorEmpty)}get someToolbarOpened(){const{Toolbar:e,BlockSettings:n,InlineToolbar:r}=this.Editor;return!!(n.opened||r.opened||e.toolbox.opened)}get someFlipperButtonFocused(){return this.Editor.Toolbar.toolbox.hasFocus()?!0:Object.entries(this.Editor).filter(([e,n])=>n.flipper instanceof Ml).some(([e,n])=>n.flipper.hasFocus())}destroy(){this.nodes.holder.innerHTML=""}closeAllToolbars(){const{Toolbar:e,BlockSettings:n,InlineToolbar:r}=this.Editor;n.close(),r.close(),e.toolbox.close()}setIsMobile(){const e=window.innerWidth<dx;e!==this.isMobile&&this.eventsDispatcher.emit(ds,{isEnabled:this.isMobile}),this.isMobile=e}make(){this.nodes.holder=_.getHolder(this.config.holder),this.nodes.wrapper=_.make("div",[this.CSS.editorWrapper,...this.isRtl?[this.CSS.editorRtlFix]:[]]),this.nodes.redactor=_.make("div",this.CSS.editorZone),this.nodes.holder.offsetWidth<this.contentRect.width&&this.nodes.wrapper.classList.add(this.CSS.editorWrapperNarrow),this.nodes.redactor.style.paddingBottom=this.config.minHeight+"px",this.nodes.wrapper.appendChild(this.nodes.redactor),this.nodes.holder.appendChild(this.nodes.wrapper)}loadStyles(){const e="editor-js-styles";if(_.get(e))return;const n=_.make("style",null,{id:e,textContent:D4.toString()});this.config.style&&!xt(this.config.style)&&this.config.style.nonce&&n.setAttribute("nonce",this.config.style.nonce),_.prepend(document.head,n)}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.redactor,"click",n=>{this.redactorClicked(n)},!1),this.readOnlyMutableListeners.on(this.nodes.redactor,"mousedown",n=>{this.documentTouched(n)},{capture:!0,passive:!0}),this.readOnlyMutableListeners.on(this.nodes.redactor,"touchstart",n=>{this.documentTouched(n)},{capture:!0,passive:!0}),this.readOnlyMutableListeners.on(document,"keydown",n=>{this.documentKeydown(n)},!0),this.readOnlyMutableListeners.on(document,"mousedown",n=>{this.documentClicked(n)},!0);const e=Ny(()=>{this.selectionChanged()},y4);this.readOnlyMutableListeners.on(document,"selectionchange",e,!0),this.readOnlyMutableListeners.on(window,"resize",()=>{this.resizeDebouncer()},{passive:!0}),this.watchBlockHoveredEvents(),this.enableInputsEmptyMark()}watchBlockHoveredEvents(){let e;this.readOnlyMutableListeners.on(this.nodes.redactor,"mousemove",ch(n=>{const r=n.target.closest(".ce-block");this.Editor.BlockSelection.anyBlockSelected||r&&e!==r&&(e=r,this.eventsDispatcher.emit(jx,{block:this.Editor.BlockManager.getBlockByChildNode(r)}))},20),{passive:!0})}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}windowResize(){this.contentRectCache=null,this.setIsMobile()}documentKeydown(e){switch(e.keyCode){case $.ENTER:this.enterPressed(e);break;case $.BACKSPACE:case $.DELETE:this.backspacePressed(e);break;case $.ESC:this.escapePressed(e);break;default:this.defaultBehaviour(e);break}}defaultBehaviour(e){const{currentBlock:n}=this.Editor.BlockManager,r=e.target.closest(`.${this.CSS.editorWrapper}`),i=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;if(n!==void 0&&r===null){this.Editor.BlockEvents.keydown(e);return}r||n&&i||(this.Editor.BlockManager.unsetCurrentBlock(),this.Editor.Toolbar.close())}backspacePressed(e){const{BlockManager:n,BlockSelection:r,Caret:i}=this.Editor;if(r.anyBlockSelected&&!D.isSelectionExists){const o=n.removeSelectedBlocks(),s=n.insertDefaultBlockAtIndex(o,!0);i.setToBlock(s,i.positions.START),r.clearSelection(e),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()}}escapePressed(e){this.Editor.BlockSelection.clearSelection(e),this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.toolbox.close(),this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END)):this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.InlineToolbar.opened?this.Editor.InlineToolbar.close():this.Editor.Toolbar.close()}enterPressed(e){const{BlockManager:n,BlockSelection:r}=this.Editor;if(this.someToolbarOpened)return;const i=n.currentBlockIndex>=0;if(r.anyBlockSelected&&!D.isSelectionExists){r.clearSelection(e),e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation();return}if(!this.someToolbarOpened&&i&&e.target.tagName==="BODY"){const o=this.Editor.BlockManager.insert();e.preventDefault(),this.Editor.Caret.setToBlock(o),this.Editor.Toolbar.moveAndOpen(o)}this.Editor.BlockSelection.clearSelection(e)}documentClicked(e){var n,r;if(!e.isTrusted)return;const i=e.target;this.nodes.holder.contains(i)||D.isAtEditor||(this.Editor.BlockManager.unsetCurrentBlock(),this.Editor.Toolbar.close());const o=(n=this.Editor.BlockSettings.nodes.wrapper)==null?void 0:n.contains(i),s=(r=this.Editor.Toolbar.nodes.settingsToggler)==null?void 0:r.contains(i),a=o||s;if(this.Editor.BlockSettings.opened&&!a){this.Editor.BlockSettings.close();const l=this.Editor.BlockManager.getBlockByChildNode(i);this.Editor.Toolbar.moveAndOpen(l)}this.Editor.BlockSelection.clearSelection(e)}documentTouched(e){let n=e.target;if(n===this.nodes.redactor){const r=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,i=e instanceof MouseEvent?e.clientY:e.touches[0].clientY;n=document.elementFromPoint(r,i)}try{this.Editor.BlockManager.setCurrentBlockByChildNode(n)}catch{this.Editor.RectangleSelection.isRectActivated()||this.Editor.Caret.setToTheLastBlock()}this.Editor.Toolbar.moveAndOpen()}redactorClicked(e){if(!D.isCollapsed)return;const n=e.target,r=e.metaKey||e.ctrlKey;if(_.isAnchor(n)&&r){e.stopImmediatePropagation(),e.stopPropagation();const i=n.getAttribute("href"),o=FR(i);UR(o);return}this.processBottomZoneClick(e)}processBottomZoneClick(e){const n=this.Editor.BlockManager.getBlockByIndex(-1),r=_.offset(n.holder).bottom,i=e.pageY,{BlockSelection:o}=this.Editor;if(e.target instanceof Element&&e.target.isEqualNode(this.nodes.redactor)&&!o.anyBlockSelected&&r<i){e.stopImmediatePropagation(),e.stopPropagation();const{BlockManager:s,Caret:a,Toolbar:l}=this.Editor;(!s.lastBlock.tool.isDefault||!s.lastBlock.isEmpty)&&s.insertAtEnd(),a.setToTheLastBlock(),l.moveAndOpen(s.lastBlock)}}selectionChanged(){const{CrossBlockSelection:e,BlockSelection:n}=this.Editor,r=D.anchorElement;if(e.isCrossBlockSelectionStarted&&n.anyBlockSelected&&D.get().removeAllRanges(),!r){D.range||this.Editor.InlineToolbar.close();return}const i=r.closest(`.${sn.CSS.content}`);(i===null||i.closest(`.${D.CSS.editorWrapper}`)!==this.nodes.wrapper)&&(this.Editor.InlineToolbar.containsNode(r)||this.Editor.InlineToolbar.close(),r.dataset.inlineToolbar!=="true")||(this.Editor.BlockManager.currentBlock||this.Editor.BlockManager.setCurrentBlockByChildNode(r),this.Editor.InlineToolbar.tryToShow(!0))}enableInputsEmptyMark(){function e(n){const r=n.target;hx(r)}this.readOnlyMutableListeners.on(this.nodes.wrapper,"input",e),this.readOnlyMutableListeners.on(this.nodes.wrapper,"focusin",e),this.readOnlyMutableListeners.on(this.nodes.wrapper,"focusout",e)}}const F4={BlocksAPI:QR,CaretAPI:eD,EventsAPI:tD,I18nAPI:nD,API:rD,InlineToolbarAPI:iD,ListenersAPI:oD,NotifierAPI:cD,ReadOnlyAPI:uD,SanitizerAPI:vD,SaverAPI:yD,SelectionAPI:wD,ToolsAPI:bD,StylesAPI:kD,ToolbarAPI:xD,TooltipAPI:_D,UiAPI:ID,BlockSettings:e4,Toolbar:l4,InlineToolbar:c4,BlockEvents:u4,BlockManager:p4,BlockSelection:f4,Caret:m4,CrossBlockSelection:g4,DragNDrop:v4,ModificationsObserver:b4,Paste:k4,ReadOnly:x4,RectangleSelection:E4,Renderer:S4,Saver:C4,Tools:Jx,UI:j4};class $4{constructor(e){this.moduleInstances={},this.eventsDispatcher=new Ls;let n,r;this.isReady=new Promise((i,o)=>{n=i,r=o}),Promise.resolve().then(async()=>{this.configuration=e,this.validate(),this.init(),await this.start(),await this.render();const{BlockManager:i,Caret:o,UI:s,ModificationsObserver:a}=this.moduleInstances;s.checkEmptiness(),a.enable(),this.configuration.autofocus&&o.setToBlock(i.blocks[0],o.positions.START),n()}).catch(i=>{X(`Editor.js is not ready because of ${i}`,"error"),r(i)})}set configuration(e){var n,r;Ie(e)?this.config={...e}:this.config={holder:e},dh(!!this.config.holderId,"config.holderId","config.holder"),this.config.holderId&&!this.config.holder&&(this.config.holder=this.config.holderId,this.config.holderId=null),this.config.holder==null&&(this.config.holder="editorjs"),this.config.logLevel||(this.config.logLevel=lx.VERBOSE),LR(this.config.logLevel),dh(!!this.config.initialBlock,"config.initialBlock","config.defaultBlock"),this.config.defaultBlock=this.config.defaultBlock||this.config.initialBlock||"paragraph",this.config.minHeight=this.config.minHeight!==void 0?this.config.minHeight:300;const i={type:this.config.defaultBlock,data:{}};this.config.placeholder=this.config.placeholder||!1,this.config.sanitizer=this.config.sanitizer||{p:!0,b:!0,a:!0},this.config.hideToolbar=this.config.hideToolbar?this.config.hideToolbar:!1,this.config.tools=this.config.tools||{},this.config.i18n=this.config.i18n||{},this.config.data=this.config.data||{blocks:[]},this.config.onReady=this.config.onReady||(()=>{}),this.config.onChange=this.config.onChange||(()=>{}),this.config.inlineToolbar=this.config.inlineToolbar!==void 0?this.config.inlineToolbar:!0,(xt(this.config.data)||!this.config.data.blocks||this.config.data.blocks.length===0)&&(this.config.data={blocks:[i]}),this.config.readOnly=this.config.readOnly||!1,(n=this.config.i18n)!=null&&n.messages&&Ue.setDictionary(this.config.i18n.messages),this.config.i18n.direction=((r=this.config.i18n)==null?void 0:r.direction)||"ltr"}get configuration(){return this.config}validate(){const{holderId:e,holder:n}=this.config;if(e&&n)throw Error("«holderId» and «holder» param can't assign at the same time.");if(kn(n)&&!_.get(n))throw Error(`element with ID «${n}» is missing. Pass correct holder's ID.`);if(n&&Ie(n)&&!_.isElement(n))throw Error("«holder» value must be an Element node")}init(){this.constructModules(),this.configureModules()}async start(){await["Tools","UI","BlockManager","Paste","BlockSelection","RectangleSelection","CrossBlockSelection","ReadOnly"].reduce((e,n)=>e.then(async()=>{try{await this.moduleInstances[n].prepare()}catch(r){if(r instanceof mx)throw new Error(r.message);X(`Module ${n} was skipped because of %o`,"warn",r)}}),Promise.resolve())}render(){return this.moduleInstances.Renderer.render(this.config.data.blocks)}constructModules(){Object.entries(F4).forEach(([e,n])=>{try{this.moduleInstances[e]=new n({config:this.configuration,eventsDispatcher:this.eventsDispatcher})}catch(r){X("[constructModules]",`Module ${e} skipped because`,"error",r)}})}configureModules(){for(const e in this.moduleInstances)Object.prototype.hasOwnProperty.call(this.moduleInstances,e)&&(this.moduleInstances[e].state=this.getModulesDiff(e))}getModulesDiff(e){const n={};for(const r in this.moduleInstances)r!==e&&(n[r]=this.moduleInstances[r]);return n}}/**
 * Editor.js
 *
 * @license Apache-2.0
 * @see Editor.js <https://editorjs.io>
 * @author CodeX Team <https://codex.so>
 */class U4{static get version(){return"2.30.6"}constructor(e){let n=()=>{};Ie(e)&&ue(e.onReady)&&(n=e.onReady);const r=new $4(e);this.isReady=r.isReady.then(()=>{this.exportAPI(r),n()})}exportAPI(e){const n=["configuration"],r=()=>{Object.values(e.moduleInstances).forEach(i=>{ue(i.destroy)&&i.destroy(),i.listeners.removeAll()}),TD(),e=null;for(const i in this)Object.prototype.hasOwnProperty.call(this,i)&&delete this[i];Object.setPrototypeOf(this,null)};n.forEach(i=>{this[i]=e[i]}),this.destroy=r,Object.setPrototypeOf(this,e.moduleInstances.API.methods),delete this.exportAPI,Object.entries({blocks:{clear:"clear",render:"render"},caret:{focus:"focus"},events:{on:"on",off:"off",emit:"emit"},saver:{save:"save"}}).forEach(([i,o])=>{Object.entries(o).forEach(([s,a])=>{this[a]=e.moduleInstances.API.methods[i][s]})})}}(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode('.embed-tool--loading .embed-tool__caption{display:none}.embed-tool--loading .embed-tool__preloader{display:block}.embed-tool--loading .embed-tool__content{display:none}.embed-tool__preloader{display:none;position:relative;height:200px;box-sizing:border-box;border-radius:5px;border:1px solid #e6e9eb}.embed-tool__preloader:before{content:"";position:absolute;z-index:3;left:50%;top:50%;width:30px;height:30px;margin-top:-25px;margin-left:-15px;border-radius:50%;border:2px solid #cdd1e0;border-top-color:#388ae5;box-sizing:border-box;animation:embed-preloader-spin 2s infinite linear}.embed-tool__url{position:absolute;bottom:20px;left:50%;transform:translate(-50%);max-width:250px;color:#7b7e89;font-size:11px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.embed-tool__content{width:100%}.embed-tool__caption{margin-top:7px}.embed-tool__caption[contentEditable=true][data-placeholder]:before{position:absolute;content:attr(data-placeholder);color:#707684;font-weight:400;opacity:0}.embed-tool__caption[contentEditable=true][data-placeholder]:empty:before{opacity:1}.embed-tool__caption[contentEditable=true][data-placeholder]:empty:focus:before{opacity:0}@keyframes embed-preloader-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}')),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const V4={vimeo:{regex:/(?:http[s]?:\/\/)?(?:www.)?(?:player.)?vimeo\.co(?:.+\/([^\/]\d+)(?:#t=[\d]+)?s?$)/,embedUrl:"https://player.vimeo.com/video/<%= remote_id %>?title=0&byline=0",html:'<iframe style="width:100%;" height="320" frameborder="0"></iframe>',height:320,width:580},youtube:{regex:/(?:https?:\/\/)?(?:www\.)?(?:(?:youtu\.be\/)|(?:youtube\.com)\/(?:v\/|u\/\w\/|embed\/|watch))(?:(?:\?v=)?([^#&?=]*))?((?:[?&]\w*=\w*)*)/,embedUrl:"https://www.youtube.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580,id:([t,e])=>{if(!e&&t)return t;const n={start:"start",end:"end",t:"start",time_continue:"start",list:"list"};let r=e.slice(1).split("&").map(i=>{const[o,s]=i.split("=");return!t&&o==="v"?(t=s,null):!n[o]||s==="LL"||s.startsWith("RDMM")||s.startsWith("FL")?null:`${n[o]}=${s}`}).filter(i=>!!i);return t+"?"+r.join("&")}},coub:{regex:/https?:\/\/coub\.com\/view\/([^\/\?\&]+)/,embedUrl:"https://coub.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},vine:{regex:/https?:\/\/vine\.co\/v\/([^\/\?\&]+)/,embedUrl:"https://vine.co/v/<%= remote_id %>/embed/simple/",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},imgur:{regex:/https?:\/\/(?:i\.)?imgur\.com.*\/([a-zA-Z0-9]+)(?:\.gifv)?/,embedUrl:"http://imgur.com/<%= remote_id %>/embed",html:'<iframe allowfullscreen="true" scrolling="no" id="imgur-embed-iframe-pub-<%= remote_id %>" class="imgur-embed-iframe-pub" style="height: 500px; width: 100%; border: 1px solid #000"></iframe>',height:500,width:540},gfycat:{regex:/https?:\/\/gfycat\.com(?:\/detail)?\/([a-zA-Z]+)/,embedUrl:"https://gfycat.com/ifr/<%= remote_id %>",html:`<iframe frameborder='0' scrolling='no' style="width:100%;" height='436' allowfullscreen ></iframe>`,height:436,width:580},"twitch-channel":{regex:/https?:\/\/www\.twitch\.tv\/([^\/\?\&]*)\/?$/,embedUrl:"https://player.twitch.tv/?channel=<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"twitch-video":{regex:/https?:\/\/www\.twitch\.tv\/(?:[^\/\?\&]*\/v|videos)\/([0-9]*)/,embedUrl:"https://player.twitch.tv/?video=v<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"yandex-music-album":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/?$/,embedUrl:"https://music.yandex.ru/iframe/#album/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" style="width:100%;" height="400"></iframe>',height:400,width:540},"yandex-music-track":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/track\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#track/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:100px;" style="width:100%;" height="100"></iframe>',height:100,width:540,id:t=>t.join("/")},"yandex-music-playlist":{regex:/https?:\/\/music\.yandex\.ru\/users\/([^\/\?\&]*)\/playlists\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#playlist/<%= remote_id %>/show/cover/description/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" width="540" height="400"></iframe>',height:400,width:540,id:t=>t.join("/")},codepen:{regex:/https?:\/\/codepen\.io\/([^\/\?\&]*)\/pen\/([^\/\?\&]*)/,embedUrl:"https://codepen.io/<%= remote_id %>?height=300&theme-id=0&default-tab=css,result&embed-version=2",html:"<iframe height='300' scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%;'></iframe>",height:300,width:600,id:t=>t.join("/embed/")},instagram:{regex:/https?:\/\/www\.instagram\.com\/p\/([^\/\?\&]+)\/?.*/,embedUrl:"https://www.instagram.com/p/<%= remote_id %>/embed",html:'<iframe width="400" height="505" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:505,width:400},twitter:{regex:/^https?:\/\/(www\.)?(?:twitter\.com|x\.com)\/.+\/status\/(\d+)/,embedUrl:"https://platform.twitter.com/embed/Tweet.html?id=<%= remote_id %>",html:'<iframe width="600" height="600" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600,id:t=>t[1]},pinterest:{regex:/https?:\/\/([^\/\?\&]*).pinterest.com\/pin\/([^\/\?\&]*)\/?$/,embedUrl:"https://assets.pinterest.com/ext/embed.html?id=<%= remote_id %>",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 400px; max-height: 1000px;'></iframe>",id:t=>t[1]},facebook:{regex:/https?:\/\/www.facebook.com\/([^\/\?\&]*)\/(.*)/,embedUrl:"https://www.facebook.com/plugins/post.php?href=https://www.facebook.com/<%= remote_id %>&width=500",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 500px; max-height: 1000px;'></iframe>",id:t=>t.join("/")},aparat:{regex:/(?:http[s]?:\/\/)?(?:www.)?aparat\.com\/v\/([^\/\?\&]+)\/?/,embedUrl:"https://www.aparat.com/video/video/embed/videohash/<%= remote_id %>/vt/frame",html:'<iframe width="600" height="300" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600},miro:{regex:/https:\/\/miro.com\/\S+(\S{12})\/(\S+)?/,embedUrl:"https://miro.com/app/live-embed/<%= remote_id %>",html:'<iframe width="700" height="500" style="margin: 0 auto;" allowFullScreen frameBorder="0" scrolling="no"></iframe>'},github:{regex:/https?:\/\/gist.github.com\/([^\/\?\&]*)\/([^\/\?\&]*)/,embedUrl:'data:text/html;charset=utf-8,<head><base target="_blank" /></head><body><script src="https://gist.github.com/<%= remote_id %>" ><\/script></body>',html:'<iframe width="100%" height="350" frameborder="0" style="margin: 0 auto;"></iframe>',height:300,width:600,id:t=>`${t.join("/")}.js`}};function yh(t,e,n){var r,i,o,s,a;e==null&&(e=100);function l(){var u=Date.now()-s;u<e&&u>=0?r=setTimeout(l,e-u):(r=null,n||(a=t.apply(o,i),o=i=null))}var c=function(){o=this,i=arguments,s=Date.now();var u=n&&!r;return r||(r=setTimeout(l,e)),u&&(a=t.apply(o,i),o=i=null),a};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(a=t.apply(o,i),o=i=null,clearTimeout(r),r=null)},c}yh.debounce=yh;var H4=yh;let z4=class wr{constructor({data:e,api:n,readOnly:r}){this.api=n,this._data={},this.element=null,this.readOnly=r,this.data=e}set data(e){var n;if(!(e instanceof Object))throw Error("Embed Tool data should be object");const{service:r,source:i,embed:o,width:s,height:a,caption:l=""}=e;this._data={service:r||this.data.service,source:i||this.data.source,embed:o||this.data.embed,width:s||this.data.width,height:a||this.data.height,caption:l||this.data.caption||""};const c=this.element;c&&((n=c.parentNode)==null||n.replaceChild(this.render(),c))}get data(){if(this.element){const e=this.element.querySelector(`.${this.api.styles.input}`);this._data.caption=e?e.innerHTML:""}return this._data}get CSS(){return{baseClass:this.api.styles.block,input:this.api.styles.input,container:"embed-tool",containerLoading:"embed-tool--loading",preloader:"embed-tool__preloader",caption:"embed-tool__caption",url:"embed-tool__url",content:"embed-tool__content"}}render(){if(!this.data.service){const a=document.createElement("div");return this.element=a,a}const{html:e}=wr.services[this.data.service],n=document.createElement("div"),r=document.createElement("div"),i=document.createElement("template"),o=this.createPreloader();n.classList.add(this.CSS.baseClass,this.CSS.container,this.CSS.containerLoading),r.classList.add(this.CSS.input,this.CSS.caption),n.appendChild(o),r.contentEditable=(!this.readOnly).toString(),r.dataset.placeholder=this.api.i18n.t("Enter a caption"),r.innerHTML=this.data.caption||"",i.innerHTML=e,i.content.firstChild.setAttribute("src",this.data.embed),i.content.firstChild.classList.add(this.CSS.content);const s=this.embedIsReady(n);return i.content.firstChild&&n.appendChild(i.content.firstChild),n.appendChild(r),s.then(()=>{n.classList.remove(this.CSS.containerLoading)}),this.element=n,n}createPreloader(){const e=document.createElement("preloader"),n=document.createElement("div");return n.textContent=this.data.source,e.classList.add(this.CSS.preloader),n.classList.add(this.CSS.url),e.appendChild(n),e}save(){return this.data}onPaste(e){var n;const{key:r,data:i}=e.detail,{regex:o,embedUrl:s,width:a,height:l,id:c=h=>h.shift()||""}=wr.services[r],u=(n=o.exec(i))==null?void 0:n.slice(1),d=u?s.replace(/<%= remote_id %>/g,c(u)):"";this.data={service:r,source:i,embed:d,width:a,height:l}}static prepare({config:e={}}){const{services:n={}}=e;let r=Object.entries(V4);const i=Object.entries(n).filter(([s,a])=>typeof a=="boolean"&&a===!0).map(([s])=>s),o=Object.entries(n).filter(([s,a])=>typeof a=="object").filter(([s,a])=>wr.checkServiceConfig(a)).map(([s,a])=>{const{regex:l,embedUrl:c,html:u,height:d,width:h,id:y}=a;return[s,{regex:l,embedUrl:c,html:u,height:d,width:h,id:y}]});i.length&&(r=r.filter(([s])=>i.includes(s))),r=r.concat(o),wr.services=r.reduce((s,[a,l])=>a in s?(s[a]=Object.assign({},s[a],l),s):(s[a]=l,s),{}),wr.patterns=r.reduce((s,[a,l])=>(l&&typeof l!="boolean"&&(s[a]=l.regex),s),{})}static checkServiceConfig(e){const{regex:n,embedUrl:r,html:i,height:o,width:s,id:a}=e;let l=!!(n&&n instanceof RegExp)&&!!(r&&typeof r=="string")&&!!(i&&typeof i=="string");return l=l&&(a!==void 0?a instanceof Function:!0),l=l&&(o!==void 0?Number.isFinite(o):!0),l=l&&(s!==void 0?Number.isFinite(s):!0),l}static get pasteConfig(){return{patterns:wr.patterns}}static get isReadOnlySupported(){return!0}embedIsReady(e){let n;return new Promise((r,i)=>{n=new MutationObserver(H4.debounce(r,450)),n.observe(e,{childList:!0,subtree:!0})}).then(()=>{n.disconnect()})}};(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".cdx-list{margin:0;padding-left:40px;outline:none}.cdx-list__item{padding:5.5px 0 5.5px 3px;line-height:1.6em}.cdx-list--unordered{list-style:disc}.cdx-list--ordered{list-style:decimal}.cdx-list-settings{display:flex}.cdx-list-settings .cdx-settings-button{width:50%}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const zy='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="9" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 17H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 12H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 7H4.99002"/></svg>',W4='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="12" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.79999 14L7.79999 7.2135C7.79999 7.12872 7.7011 7.0824 7.63597 7.13668L4.79999 9.5"/></svg>';let K4=class{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}static get toolbox(){return{icon:zy,title:"List"}}constructor({data:e,config:n,api:r,readOnly:i}){this._elements={wrapper:null},this.api=r,this.readOnly=i,this.settings=[{name:"unordered",label:this.api.i18n.t("Unordered"),icon:zy,default:n.defaultStyle==="unordered"||!1},{name:"ordered",label:this.api.i18n.t("Ordered"),icon:W4,default:n.defaultStyle==="ordered"||!0}],this._data={style:this.settings.find(o=>o.default===!0).name,items:[]},this.data=e}render(){return this._elements.wrapper=this.makeMainTag(this._data.style),this._data.items.length?this._data.items.forEach(e=>{this._elements.wrapper.appendChild(this._make("li",this.CSS.item,{innerHTML:e}))}):this._elements.wrapper.appendChild(this._make("li",this.CSS.item)),this.readOnly||this._elements.wrapper.addEventListener("keydown",e=>{const[n,r]=[13,8];switch(e.keyCode){case n:this.getOutofList(e);break;case r:this.backspace(e);break}},!1),this._elements.wrapper}save(){return this.data}static get conversionConfig(){return{export:e=>e.items.join(". "),import:e=>({items:[e],style:"unordered"})}}static get sanitize(){return{style:{},items:{br:!0}}}renderSettings(){return this.settings.map(e=>({...e,isActive:this._data.style===e.name,closeOnActivate:!0,onActivate:()=>this.toggleTune(e.name)}))}onPaste(e){const n=e.detail.data;this.data=this.pasteHandler(n)}static get pasteConfig(){return{tags:["OL","UL","LI"]}}makeMainTag(e){const n=e==="ordered"?this.CSS.wrapperOrdered:this.CSS.wrapperUnordered,r=e==="ordered"?"ol":"ul";return this._make(r,[this.CSS.baseBlock,this.CSS.wrapper,n],{contentEditable:!this.readOnly})}toggleTune(e){const n=this.makeMainTag(e);for(;this._elements.wrapper.hasChildNodes();)n.appendChild(this._elements.wrapper.firstChild);this._elements.wrapper.replaceWith(n),this._elements.wrapper=n,this._data.style=e}get CSS(){return{baseBlock:this.api.styles.block,wrapper:"cdx-list",wrapperOrdered:"cdx-list--ordered",wrapperUnordered:"cdx-list--unordered",item:"cdx-list__item"}}set data(e){e||(e={}),this._data.style=e.style||this.settings.find(r=>r.default===!0).name,this._data.items=e.items||[];const n=this._elements.wrapper;n&&n.parentNode.replaceChild(this.render(),n)}get data(){this._data.items=[];const e=this._elements.wrapper.querySelectorAll(`.${this.CSS.item}`);for(let n=0;n<e.length;n++)e[n].innerHTML.replace("<br>"," ").trim()&&this._data.items.push(e[n].innerHTML);return this._data}_make(e,n=null,r={}){const i=document.createElement(e);Array.isArray(n)?i.classList.add(...n):n&&i.classList.add(n);for(const o in r)i[o]=r[o];return i}get currentItem(){let e=window.getSelection().anchorNode;return e.nodeType!==Node.ELEMENT_NODE&&(e=e.parentNode),e.closest(`.${this.CSS.item}`)}getOutofList(e){const n=this._elements.wrapper.querySelectorAll("."+this.CSS.item);if(n.length<2)return;const r=n[n.length-1],i=this.currentItem;i===r&&!r.textContent.trim().length&&(i.parentElement.removeChild(i),this.api.blocks.insert(),this.api.caret.setToBlock(this.api.blocks.getCurrentBlockIndex()),e.preventDefault(),e.stopPropagation())}backspace(e){const n=this._elements.wrapper.querySelectorAll("."+this.CSS.item),r=n[0];r&&n.length<2&&!r.innerHTML.replace("<br>"," ").trim()&&e.preventDefault()}selectItem(e){e.preventDefault();const n=window.getSelection(),r=n.anchorNode.parentNode,i=r.closest("."+this.CSS.item),o=new Range;o.selectNodeContents(i),n.removeAllRanges(),n.addRange(o)}pasteHandler(e){const{tagName:n}=e;let r;switch(n){case"OL":r="ordered";break;case"UL":case"LI":r="unordered"}const i={style:r,items:[]};if(n==="LI")i.items=[e.innerHTML];else{const o=Array.from(e.querySelectorAll("LI"));i.items=o.map(s=>s.innerHTML).filter(s=>!!s.trim())}return i}};(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".ce-code__textarea{min-height:200px;font-family:Menlo,Monaco,Consolas,Courier New,monospace;color:#41314e;line-height:1.6em;font-size:12px;background:#f8f7fa;border:1px solid #f1f1f4;box-shadow:none;white-space:pre;word-wrap:normal;overflow-x:auto;resize:vertical}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();function q4(t,e){let n="";for(;n!==`
`&&e>0;)e=e-1,n=t.substr(e,1);return n===`
`&&(e+=1),e}const G4='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 8L5 12L9 16"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 8L19 12L15 16"/></svg>';/**
 * CodeTool for Editor.js
 *
 * @author CodeX (team@ifmo.su)
 * @copyright CodeX 2018
 * @license MIT
 * @version 2.0.0
 */let Y4=class Qx{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}constructor({data:e,config:n,api:r,readOnly:i}){this.api=r,this.readOnly=i,this.placeholder=this.api.i18n.t(n.placeholder||Qx.DEFAULT_PLACEHOLDER),this.CSS={baseClass:this.api.styles.block,input:this.api.styles.input,wrapper:"ce-code",textarea:"ce-code__textarea"},this.nodes={holder:null,textarea:null},this.data={code:e.code||""},this.nodes.holder=this.drawView()}drawView(){const e=document.createElement("div"),n=document.createElement("textarea");return e.classList.add(this.CSS.baseClass,this.CSS.wrapper),n.classList.add(this.CSS.textarea,this.CSS.input),n.textContent=this.data.code,n.placeholder=this.placeholder,this.readOnly&&(n.disabled=!0),e.appendChild(n),n.addEventListener("keydown",r=>{switch(r.code){case"Tab":this.tabHandler(r);break}}),this.nodes.textarea=n,e}render(){return this.nodes.holder}save(e){return{code:e.querySelector("textarea").value}}onPaste(e){const n=e.detail.data;this.data={code:n.textContent}}get data(){return this._data}set data(e){this._data=e,this.nodes.textarea&&(this.nodes.textarea.textContent=e.code)}static get toolbox(){return{icon:G4,title:"Code"}}static get DEFAULT_PLACEHOLDER(){return"Enter a code"}static get pasteConfig(){return{tags:["pre"]}}static get sanitize(){return{code:!0}}tabHandler(e){e.stopPropagation(),e.preventDefault();const n=e.target,r=e.shiftKey,i=n.selectionStart,o=n.value,s="  ";let a;if(!r)a=i+s.length,n.value=o.substring(0,i)+s+o.substring(i);else{const l=q4(o,i);if(o.substr(l,s.length)!==s)return;n.value=o.substring(0,l)+o.substring(l+s.length),a=i-s.length}n.setSelectionRange(a,a)}};(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode('.image-tool{--bg-color: #cdd1e0;--front-color: #388ae5;--border-color: #e8e8eb}.image-tool__image{border-radius:3px;overflow:hidden;margin-bottom:10px}.image-tool__image-picture{max-width:100%;vertical-align:bottom;display:block}.image-tool__image-preloader{width:50px;height:50px;border-radius:50%;background-size:cover;margin:auto;position:relative;background-color:var(--bg-color);background-position:center center}.image-tool__image-preloader:after{content:"";position:absolute;z-index:3;width:60px;height:60px;border-radius:50%;border:2px solid var(--bg-color);border-top-color:var(--front-color);left:50%;top:50%;margin-top:-30px;margin-left:-30px;animation:image-preloader-spin 2s infinite linear;box-sizing:border-box}.image-tool__caption[contentEditable=true][data-placeholder]:before{position:absolute!important;content:attr(data-placeholder);color:#707684;font-weight:400;display:none}.image-tool__caption[contentEditable=true][data-placeholder]:empty:before{display:block}.image-tool__caption[contentEditable=true][data-placeholder]:empty:focus:before{display:none}.image-tool--empty .image-tool__image,.image-tool--empty .image-tool__caption,.image-tool--loading .image-tool__caption{display:none}.image-tool .cdx-button{display:flex;align-items:center;justify-content:center}.image-tool .cdx-button svg{height:auto;margin:0 6px 0 0}.image-tool--filled .cdx-button,.image-tool--filled .image-tool__image-preloader{display:none}.image-tool--loading .image-tool__image{min-height:200px;display:flex;border:1px solid var(--border-color);background-color:#fff}.image-tool--loading .image-tool__image-picture,.image-tool--loading .cdx-button{display:none}.image-tool--withBorder .image-tool__image{border:1px solid var(--border-color)}.image-tool--withBackground .image-tool__image{padding:15px;background:var(--bg-color)}.image-tool--withBackground .image-tool__image-picture{max-width:60%;margin:0 auto}.image-tool--stretched .image-tool__image-picture{width:100%}@keyframes image-preloader-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}')),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const X4='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 19V19C9.13623 19 8.20435 19 7.46927 18.6955C6.48915 18.2895 5.71046 17.5108 5.30448 16.5307C5 15.7956 5 14.8638 5 13V12C5 9.19108 5 7.78661 5.67412 6.77772C5.96596 6.34096 6.34096 5.96596 6.77772 5.67412C7.78661 5 9.19108 5 12 5H13.5C14.8956 5 15.5933 5 16.1611 5.17224C17.4395 5.56004 18.44 6.56046 18.8278 7.83886C19 8.40666 19 9.10444 19 10.5V10.5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6.5 17.5L17.5 6.5"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 10.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.9919 19H11.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13L13 5"/></svg>',J4='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 9.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.5 5H14.5096"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.625 5H15C17.2091 5 19 6.79086 19 9V9.375"/><path stroke="currentColor" stroke-width="2" d="M9.375 5L9 5C6.79086 5 5 6.79086 5 9V9.375"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 5H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 9.5H5.00957"/><path stroke="currentColor" stroke-width="2" d="M9.375 19H9C6.79086 19 5 17.2091 5 15V14.625"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 19H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 14.55H5.00957"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/></svg>',Zx='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.13968 15.32L8.69058 11.5661C9.02934 11.2036 9.48873 11 9.96774 11C10.4467 11 10.9061 11.2036 11.2449 11.5661L15.3871 16M13.5806 14.0664L15.0132 12.533C15.3519 12.1705 15.8113 11.9668 16.2903 11.9668C16.7693 11.9668 17.2287 12.1705 17.5675 12.533L18.841 13.9634"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.7778 9.33331H13.7867"/></svg>',Q4='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9L20 12L17 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 12H20"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 9L4 12L7 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 12H10"/></svg>';function qr(t,e=null,n={}){const r=document.createElement(t);Array.isArray(e)?r.classList.add(...e):e!==null&&r.classList.add(e);for(const i in n)n.hasOwnProperty(i)&&(r[i]=n[i]);return r}var bo=(t=>(t.Empty="empty",t.Uploading="uploading",t.Filled="filled",t))(bo||{});let Z4=class{constructor({api:e,config:n,onSelectFile:r,readOnly:i}){this.api=e,this.config=n,this.onSelectFile=r,this.readOnly=i,this.nodes={wrapper:qr("div",[this.CSS.baseClass,this.CSS.wrapper]),imageContainer:qr("div",[this.CSS.imageContainer]),fileButton:this.createFileButton(),imageEl:void 0,imagePreloader:qr("div",this.CSS.imagePreloader),caption:qr("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly})},this.nodes.caption.dataset.placeholder=this.config.captionPlaceholder,this.nodes.imageContainer.appendChild(this.nodes.imagePreloader),this.nodes.wrapper.appendChild(this.nodes.imageContainer),this.nodes.wrapper.appendChild(this.nodes.caption),this.nodes.wrapper.appendChild(this.nodes.fileButton)}applyTune(e,n){this.nodes.wrapper.classList.toggle(`${this.CSS.wrapper}--${e}`,n)}render(e){return e.file===void 0||Object.keys(e.file).length===0?this.toggleStatus("empty"):this.toggleStatus("uploading"),this.nodes.wrapper}showPreloader(e){this.nodes.imagePreloader.style.backgroundImage=`url(${e})`,this.toggleStatus("uploading")}hidePreloader(){this.nodes.imagePreloader.style.backgroundImage="",this.toggleStatus("empty")}fillImage(e){const n=/\.mp4$/.test(e)?"VIDEO":"IMG",r={src:e};let i="load";n==="VIDEO"&&(r.autoplay=!0,r.loop=!0,r.muted=!0,r.playsinline=!0,i="loadeddata"),this.nodes.imageEl=qr(n,this.CSS.imageEl,r),this.nodes.imageEl.addEventListener(i,()=>{this.toggleStatus("filled"),this.nodes.imagePreloader!==void 0&&(this.nodes.imagePreloader.style.backgroundImage="")}),this.nodes.imageContainer.appendChild(this.nodes.imageEl)}fillCaption(e){this.nodes.caption!==void 0&&(this.nodes.caption.innerHTML=e)}get CSS(){return{baseClass:this.api.styles.block,loading:this.api.styles.loader,input:this.api.styles.input,button:this.api.styles.button,wrapper:"image-tool",imageContainer:"image-tool__image",imagePreloader:"image-tool__image-preloader",imageEl:"image-tool__image-picture",caption:"image-tool__caption"}}createFileButton(){const e=qr("div",[this.CSS.button]);return e.innerHTML=this.config.buttonContent??`${Zx} ${this.api.i18n.t("Select an Image")}`,e.addEventListener("click",()=>{this.onSelectFile()}),e}toggleStatus(e){for(const n in bo)Object.prototype.hasOwnProperty.call(bo,n)&&this.nodes.wrapper.classList.toggle(`${this.CSS.wrapper}--${bo[n]}`,e===bo[n])}};function e3(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var eE={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,a){i.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:a})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,s){if(1&s&&(o=i(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var l in o)i.d(a,l,(function(c){return o[c]}).bind(null,l));return a},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="",i(i.s=3)}([function(n,r){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch{typeof window=="object"&&(i=window)}n.exports=i},function(n,r,i){(function(o){var s=i(2),a=setTimeout;function l(){}function c(w){if(!(this instanceof c))throw new TypeError("Promises must be constructed via new");if(typeof w!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],m(w,this)}function u(w,g){for(;w._state===3;)w=w._value;w._state!==0?(w._handled=!0,c._immediateFn(function(){var p=w._state===1?g.onFulfilled:g.onRejected;if(p!==null){var v;try{v=p(w._value)}catch(k){return void h(g.promise,k)}d(g.promise,v)}else(w._state===1?d:h)(g.promise,w._value)})):w._deferreds.push(g)}function d(w,g){try{if(g===w)throw new TypeError("A promise cannot be resolved with itself.");if(g&&(typeof g=="object"||typeof g=="function")){var p=g.then;if(g instanceof c)return w._state=3,w._value=g,void y(w);if(typeof p=="function")return void m((v=p,k=g,function(){v.apply(k,arguments)}),w)}w._state=1,w._value=g,y(w)}catch(x){h(w,x)}var v,k}function h(w,g){w._state=2,w._value=g,y(w)}function y(w){w._state===2&&w._deferreds.length===0&&c._immediateFn(function(){w._handled||c._unhandledRejectionFn(w._value)});for(var g=0,p=w._deferreds.length;g<p;g++)u(w,w._deferreds[g]);w._deferreds=null}function f(w,g,p){this.onFulfilled=typeof w=="function"?w:null,this.onRejected=typeof g=="function"?g:null,this.promise=p}function m(w,g){var p=!1;try{w(function(v){p||(p=!0,d(g,v))},function(v){p||(p=!0,h(g,v))})}catch(v){if(p)return;p=!0,h(g,v)}}c.prototype.catch=function(w){return this.then(null,w)},c.prototype.then=function(w,g){var p=new this.constructor(l);return u(this,new f(w,g,p)),p},c.prototype.finally=s.a,c.all=function(w){return new c(function(g,p){if(!w||w.length===void 0)throw new TypeError("Promise.all accepts an array");var v=Array.prototype.slice.call(w);if(v.length===0)return g([]);var k=v.length;function x(P,S){try{if(S&&(typeof S=="object"||typeof S=="function")){var I=S.then;if(typeof I=="function")return void I.call(S,function(A){x(P,A)},p)}v[P]=S,--k==0&&g(v)}catch(A){p(A)}}for(var T=0;T<v.length;T++)x(T,v[T])})},c.resolve=function(w){return w&&typeof w=="object"&&w.constructor===c?w:new c(function(g){g(w)})},c.reject=function(w){return new c(function(g,p){p(w)})},c.race=function(w){return new c(function(g,p){for(var v=0,k=w.length;v<k;v++)w[v].then(g,p)})},c._immediateFn=typeof o=="function"&&function(w){o(w)}||function(w){a(w,0)},c._unhandledRejectionFn=function(w){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",w)},r.a=c}).call(this,i(5).setImmediate)},function(n,r,i){r.a=function(o){var s=this.constructor;return this.then(function(a){return s.resolve(o()).then(function(){return a})},function(a){return s.resolve(o()).then(function(){return s.reject(a)})})}},function(n,r,i){function o(m){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(m)}i(4);var s,a,l,c,u,d,h,y=i(8),f=(a=function(m){return new Promise(function(w,g){m=c(m),(m=u(m)).beforeSend&&m.beforeSend();var p=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");p.open(m.method,m.url),p.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(m.headers).forEach(function(k){var x=m.headers[k];p.setRequestHeader(k,x)});var v=m.ratio;p.upload.addEventListener("progress",function(k){var x=Math.round(k.loaded/k.total*100),T=Math.ceil(x*v/100);m.progress(Math.min(T,100))},!1),p.addEventListener("progress",function(k){var x=Math.round(k.loaded/k.total*100),T=Math.ceil(x*(100-v)/100)+v;m.progress(Math.min(T,100))},!1),p.onreadystatechange=function(){if(p.readyState===4){var k=p.response;try{k=JSON.parse(k)}catch{}var x=y.parseHeaders(p.getAllResponseHeaders()),T={body:k,code:p.status,headers:x};h(p.status)?w(T):g(T)}},p.send(m.data)})},l=function(m){return m.method="POST",a(m)},c=function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(m.url&&typeof m.url!="string")throw new Error("Url must be a string");if(m.url=m.url||"",m.method&&typeof m.method!="string")throw new Error("`method` must be a string or null");if(m.method=m.method?m.method.toUpperCase():"GET",m.headers&&o(m.headers)!=="object")throw new Error("`headers` must be an object or null");if(m.headers=m.headers||{},m.type&&(typeof m.type!="string"||!Object.values(s).includes(m.type)))throw new Error("`type` must be taken from module's «contentType» library");if(m.progress&&typeof m.progress!="function")throw new Error("`progress` must be a function or null");if(m.progress=m.progress||function(w){},m.beforeSend=m.beforeSend||function(w){},m.ratio&&typeof m.ratio!="number")throw new Error("`ratio` must be a number");if(m.ratio<0||m.ratio>100)throw new Error("`ratio` must be in a 0-100 interval");if(m.ratio=m.ratio||90,m.accept&&typeof m.accept!="string")throw new Error("`accept` must be a string with a list of allowed mime-types");if(m.accept=m.accept||"*/*",m.multiple&&typeof m.multiple!="boolean")throw new Error("`multiple` must be a true or false");if(m.multiple=m.multiple||!1,m.fieldName&&typeof m.fieldName!="string")throw new Error("`fieldName` must be a string");return m.fieldName=m.fieldName||"files",m},u=function(m){switch(m.method){case"GET":var w=d(m.data,s.URLENCODED);delete m.data,m.url=/\?/.test(m.url)?m.url+"&"+w:m.url+"?"+w;break;case"POST":case"PUT":case"DELETE":case"UPDATE":var g=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).type||s.JSON}(m);(y.isFormData(m.data)||y.isFormElement(m.data))&&(g=s.FORM),m.data=d(m.data,g),g!==f.contentType.FORM&&(m.headers["content-type"]=g)}return m},d=function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};switch(arguments.length>1?arguments[1]:void 0){case s.URLENCODED:return y.urlEncode(m);case s.JSON:return y.jsonEncode(m);case s.FORM:return y.formEncode(m);default:return m}},h=function(m){return m>=200&&m<300},{contentType:s={URLENCODED:"application/x-www-form-urlencoded; charset=utf-8",FORM:"multipart/form-data",JSON:"application/json; charset=utf-8"},request:a,get:function(m){return m.method="GET",a(m)},post:l,transport:function(m){return m=c(m),y.selectFiles(m).then(function(w){for(var g=new FormData,p=0;p<w.length;p++)g.append(m.fieldName,w[p],w[p].name);y.isObject(m.data)&&Object.keys(m.data).forEach(function(k){var x=m.data[k];g.append(k,x)});var v=m.beforeSend;return m.beforeSend=function(){return v(w)},m.data=g,l(m)})},selectFiles:function(m){return delete(m=c(m)).beforeSend,y.selectFiles(m)}});n.exports=f},function(n,r,i){i.r(r);var o=i(1);window.Promise=window.Promise||o.a},function(n,r,i){(function(o){var s=o!==void 0&&o||typeof self<"u"&&self||window,a=Function.prototype.apply;function l(c,u){this._id=c,this._clearFn=u}r.setTimeout=function(){return new l(a.call(setTimeout,s,arguments),clearTimeout)},r.setInterval=function(){return new l(a.call(setInterval,s,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(c){c&&c.close()},l.prototype.unref=l.prototype.ref=function(){},l.prototype.close=function(){this._clearFn.call(s,this._id)},r.enroll=function(c,u){clearTimeout(c._idleTimeoutId),c._idleTimeout=u},r.unenroll=function(c){clearTimeout(c._idleTimeoutId),c._idleTimeout=-1},r._unrefActive=r.active=function(c){clearTimeout(c._idleTimeoutId);var u=c._idleTimeout;u>=0&&(c._idleTimeoutId=setTimeout(function(){c._onTimeout&&c._onTimeout()},u))},i(6),r.setImmediate=typeof self<"u"&&self.setImmediate||o!==void 0&&o.setImmediate||this&&this.setImmediate,r.clearImmediate=typeof self<"u"&&self.clearImmediate||o!==void 0&&o.clearImmediate||this&&this.clearImmediate}).call(this,i(0))},function(n,r,i){(function(o,s){(function(a,l){if(!a.setImmediate){var c,u,d,h,y,f=1,m={},w=!1,g=a.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(a);p=p&&p.setTimeout?p:a,{}.toString.call(a.process)==="[object process]"?c=function(x){s.nextTick(function(){k(x)})}:function(){if(a.postMessage&&!a.importScripts){var x=!0,T=a.onmessage;return a.onmessage=function(){x=!1},a.postMessage("","*"),a.onmessage=T,x}}()?(h="setImmediate$"+Math.random()+"$",y=function(x){x.source===a&&typeof x.data=="string"&&x.data.indexOf(h)===0&&k(+x.data.slice(h.length))},a.addEventListener?a.addEventListener("message",y,!1):a.attachEvent("onmessage",y),c=function(x){a.postMessage(h+x,"*")}):a.MessageChannel?((d=new MessageChannel).port1.onmessage=function(x){k(x.data)},c=function(x){d.port2.postMessage(x)}):g&&"onreadystatechange"in g.createElement("script")?(u=g.documentElement,c=function(x){var T=g.createElement("script");T.onreadystatechange=function(){k(x),T.onreadystatechange=null,u.removeChild(T),T=null},u.appendChild(T)}):c=function(x){setTimeout(k,0,x)},p.setImmediate=function(x){typeof x!="function"&&(x=new Function(""+x));for(var T=new Array(arguments.length-1),P=0;P<T.length;P++)T[P]=arguments[P+1];var S={callback:x,args:T};return m[f]=S,c(f),f++},p.clearImmediate=v}function v(x){delete m[x]}function k(x){if(w)setTimeout(k,0,x);else{var T=m[x];if(T){w=!0;try{(function(P){var S=P.callback,I=P.args;switch(I.length){case 0:S();break;case 1:S(I[0]);break;case 2:S(I[0],I[1]);break;case 3:S(I[0],I[1],I[2]);break;default:S.apply(l,I)}})(T)}finally{v(x),w=!1}}}}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,i(0),i(7))},function(n,r){var i,o,s=n.exports={};function a(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}function c(p){if(i===setTimeout)return setTimeout(p,0);if((i===a||!i)&&setTimeout)return i=setTimeout,setTimeout(p,0);try{return i(p,0)}catch{try{return i.call(null,p,0)}catch{return i.call(this,p,0)}}}(function(){try{i=typeof setTimeout=="function"?setTimeout:a}catch{i=a}try{o=typeof clearTimeout=="function"?clearTimeout:l}catch{o=l}})();var u,d=[],h=!1,y=-1;function f(){h&&u&&(h=!1,u.length?d=u.concat(d):y=-1,d.length&&m())}function m(){if(!h){var p=c(f);h=!0;for(var v=d.length;v;){for(u=d,d=[];++y<v;)u&&u[y].run();y=-1,v=d.length}u=null,h=!1,function(k){if(o===clearTimeout)return clearTimeout(k);if((o===l||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(k);try{o(k)}catch{try{return o.call(null,k)}catch{return o.call(this,k)}}}(p)}}function w(p,v){this.fun=p,this.array=v}function g(){}s.nextTick=function(p){var v=new Array(arguments.length-1);if(arguments.length>1)for(var k=1;k<arguments.length;k++)v[k-1]=arguments[k];d.push(new w(p,v)),d.length!==1||h||c(m)},w.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=g,s.addListener=g,s.once=g,s.off=g,s.removeListener=g,s.removeAllListeners=g,s.emit=g,s.prependListener=g,s.prependOnceListener=g,s.listeners=function(p){return[]},s.binding=function(p){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(p){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(n,r,i){function o(a,l){for(var c=0;c<l.length;c++){var u=l[c];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(a,u.key,u)}}var s=i(9);n.exports=function(){function a(){(function(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")})(this,a)}var l,c,u;return l=a,u=[{key:"urlEncode",value:function(d){return s(d)}},{key:"jsonEncode",value:function(d){return JSON.stringify(d)}},{key:"formEncode",value:function(d){if(this.isFormData(d))return d;if(this.isFormElement(d))return new FormData(d);if(this.isObject(d)){var h=new FormData;return Object.keys(d).forEach(function(y){var f=d[y];h.append(y,f)}),h}throw new Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement")}},{key:"isObject",value:function(d){return Object.prototype.toString.call(d)==="[object Object]"}},{key:"isFormData",value:function(d){return d instanceof FormData}},{key:"isFormElement",value:function(d){return d instanceof HTMLFormElement}},{key:"selectFiles",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(h,y){var f=document.createElement("INPUT");f.type="file",d.multiple&&f.setAttribute("multiple","multiple"),d.accept&&f.setAttribute("accept",d.accept),f.style.display="none",document.body.appendChild(f),f.addEventListener("change",function(m){var w=m.target.files;h(w),document.body.removeChild(f)},!1),f.click()})}},{key:"parseHeaders",value:function(d){var h=d.trim().split(/[\r\n]+/),y={};return h.forEach(function(f){var m=f.split(": "),w=m.shift(),g=m.join(": ");w&&(y[w]=g)}),y}}],(c=null)&&o(l.prototype,c),u&&o(l,u),a}()},function(n,r){var i=function(s){return encodeURIComponent(s).replace(/[!'()*]/g,escape).replace(/%20/g,"+")},o=function(s,a,l,c){return a=a||null,l=l||"&",c=c||null,s?function(u){for(var d=new Array,h=0;h<u.length;h++)u[h]&&d.push(u[h]);return d}(Object.keys(s).map(function(u){var d,h,y=u;if(c&&(y=c+"["+y+"]"),typeof s[u]=="object"&&s[u]!==null)d=o(s[u],null,l,y);else{a&&(h=y,y=!isNaN(parseFloat(h))&&isFinite(h)?a+Number(y):y);var f=s[u];f=(f=(f=(f=f===!0?"1":f)===!1?"0":f)===0?"0":f)||"",d=i(y)+"="+i(f)}return d})).join(l).replace(/[!'()*]/g,""):""};n.exports=o}])})})(eE);var t3=eE.exports;const Gr=e3(t3);function Lu(t){return t!==void 0&&typeof t.then=="function"}let n3=class{constructor({config:e,onUpload:n,onError:r}){this.config=e,this.onUpload=n,this.onError=r}uploadSelectedFile({onPreview:e}){const n=function(i){const o=new FileReader;o.readAsDataURL(i),o.onload=s=>{e(s.target.result)}};let r;if(this.config.uploader&&typeof this.config.uploader.uploadByFile=="function"){const i=this.config.uploader.uploadByFile;r=Gr.selectFiles({accept:this.config.types??"image/*"}).then(o=>{n(o[0]);const s=i(o[0]);return Lu(s)||console.warn("Custom uploader method uploadByFile should return a Promise"),s})}else r=Gr.transport({url:this.config.endpoints.byFile,data:this.config.additionalRequestData,accept:this.config.types??"image/*",headers:this.config.additionalRequestHeaders,beforeSend:i=>{n(i[0])},fieldName:this.config.field??"image"}).then(i=>i.body);r.then(i=>{this.onUpload(i)}).catch(i=>{this.onError(i)})}uploadByUrl(e){let n;this.config.uploader&&typeof this.config.uploader.uploadByUrl=="function"?(n=this.config.uploader.uploadByUrl(e),Lu(n)||console.warn("Custom uploader method uploadByUrl should return a Promise")):n=Gr.post({url:this.config.endpoints.byUrl,data:Object.assign({url:e},this.config.additionalRequestData),type:Gr.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(r=>r.body),n.then(r=>{this.onUpload(r)}).catch(r=>{this.onError(r)})}uploadByFile(e,{onPreview:n}){const r=new FileReader;r.readAsDataURL(e),r.onload=o=>{n(o.target.result)};let i;if(this.config.uploader&&typeof this.config.uploader.uploadByFile=="function")i=this.config.uploader.uploadByFile(e),Lu(i)||console.warn("Custom uploader method uploadByFile should return a Promise");else{const o=new FormData;o.append(this.config.field??"image",e),this.config.additionalRequestData&&Object.keys(this.config.additionalRequestData).length&&Object.entries(this.config.additionalRequestData).forEach(([s,a])=>{o.append(s,a)}),i=Gr.post({url:this.config.endpoints.byFile,data:o,type:Gr.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(s=>s.body)}i.then(o=>{this.onUpload(o)}).catch(o=>{this.onError(o)})}};/**
 * Image Tool for the Editor.js
 * @author CodeX <team@codex.so>
 * @license MIT
 * @see {@link https://github.com/editor-js/image}
 *
 * To developers.
 * To simplify Tool structure, we split it to 4 parts:
 *  1) index.ts — main Tool's interface, public API and methods for working with data
 *  2) uploader.ts — module that has methods for sending files via AJAX: from device, by URL or File pasting
 *  3) ui.ts — module for UI manipulations: render, showing preloader, etc
 *  4) tunes.js — working with Block Tunes: render buttons, handle clicks
 *
 * For debug purposes there is a testing server
 * that can save uploaded files and return a Response {@link UploadResponseFormat}
 *
 *       $ node dev/server.js
 *
 * It will expose 8008 port, so you can pass http://localhost:8008 with the Tools config:
 *
 * image: {
 *   class: ImageTool,
 *   config: {
 *     endpoints: {
 *       byFile: 'http://localhost:8008/uploadFile',
 *       byUrl: 'http://localhost:8008/fetchUrl',
 *     }
 *   },
 * },
 */let r3=class wh{constructor({data:e,config:n,api:r,readOnly:i,block:o}){this.api=r,this.readOnly=i,this.block=o,this.config={endpoints:n.endpoints,additionalRequestData:n.additionalRequestData,additionalRequestHeaders:n.additionalRequestHeaders,field:n.field,types:n.types,captionPlaceholder:this.api.i18n.t(n.captionPlaceholder??"Caption"),buttonContent:n.buttonContent,uploader:n.uploader,actions:n.actions},this.uploader=new n3({config:this.config,onUpload:s=>this.onUpload(s),onError:s=>this.uploadingFailed(s)}),this.ui=new Z4({api:r,config:this.config,onSelectFile:()=>{this.uploader.uploadSelectedFile({onPreview:s=>{this.ui.showPreloader(s)}})},readOnly:i}),this._data={caption:"",withBorder:!1,withBackground:!1,stretched:!1,file:{url:""}},this.data=e}static get isReadOnlySupported(){return!0}static get toolbox(){return{icon:Zx,title:"Image"}}static get tunes(){return[{name:"withBorder",icon:J4,title:"With border",toggle:!0},{name:"stretched",icon:Q4,title:"Stretch image",toggle:!0},{name:"withBackground",icon:X4,title:"With background",toggle:!0}]}render(){return this.ui.render(this.data)}validate(e){return!!e.file.url}save(){const e=this.ui.nodes.caption;return this._data.caption=e.innerHTML,this.data}renderSettings(){return wh.tunes.concat(this.config.actions||[]).map(e=>({icon:e.icon,label:this.api.i18n.t(e.title),name:e.name,toggle:e.toggle,isActive:this.data[e.name],onActivate:()=>{if(typeof e.action=="function"){e.action(e.name);return}this.tuneToggled(e.name)}}))}appendCallback(){this.ui.nodes.fileButton.click()}static get pasteConfig(){return{tags:[{img:{src:!0}}],patterns:{image:/https?:\/\/\S+\.(gif|jpe?g|tiff|png|svg|webp)(\?[a-z0-9=]*)?$/i},files:{mimeTypes:["image/*"]}}}async onPaste(e){switch(e.type){case"tag":{const n=e.detail.data;if(/^blob:/.test(n.src)){const r=await(await fetch(n.src)).blob();this.uploadFile(r);break}this.uploadUrl(n.src);break}case"pattern":{const n=e.detail.data;this.uploadUrl(n);break}case"file":{const n=e.detail.file;this.uploadFile(n);break}}}set data(e){this.image=e.file,this._data.caption=e.caption||"",this.ui.fillCaption(this._data.caption),wh.tunes.forEach(({name:n})=>{const r=typeof e[n]<"u"?e[n]===!0||e[n]==="true":!1;this.setTune(n,r)})}get data(){return this._data}set image(e){this._data.file=e||{url:""},e&&e.url&&this.ui.fillImage(e.url)}onUpload(e){e.success&&e.file?this.image=e.file:this.uploadingFailed("incorrect response: "+JSON.stringify(e))}uploadingFailed(e){console.log("Image Tool: uploading failed because of",e),this.api.notifier.show({message:this.api.i18n.t("Couldn’t upload image. Please try another."),style:"error"}),this.ui.hidePreloader()}tuneToggled(e){this.setTune(e,!this._data[e])}setTune(e,n){this._data[e]=n,this.ui.applyTune(e,n),e==="stretched"&&Promise.resolve().then(()=>{this.block.stretched=n}).catch(r=>{console.error(r)})}uploadFile(e){this.uploader.uploadByFile(e,{onPreview:n=>{this.ui.showPreloader(n)}})}uploadUrl(e){this.ui.showPreloader(e),this.uploader.uploadByUrl(e)}};(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".ce-header{padding:.6em 0 3px;margin:0;line-height:1.25em;outline:none}.ce-header p,.ce-header div{padding:0!important;margin:0!important}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const i3='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19 17V10.2135C19 10.1287 18.9011 10.0824 18.836 10.1367L16 12.5"/></svg>',o3='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10 19 9.5 19 12C19 13.9771 16.0684 13.9997 16.0012 16.8981C15.9999 16.9533 16.0448 17 16.1 17L19.3 17"/></svg>',s3='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10.5 16.8323 10 17.6 10C18.3677 10 19.5 10.311 19.5 11.5C19.5 12.5315 18.7474 12.9022 18.548 12.9823C18.5378 12.9864 18.5395 13.0047 18.5503 13.0063C18.8115 13.0456 20 13.3065 20 14.8C20 16 19.5 17 17.8 17C17.8 17 16 17 16 16.3"/></svg>',a3='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 10L15.2834 14.8511C15.246 14.9178 15.294 15 15.3704 15C16.8489 15 18.7561 15 20.2 15M19 17C19 15.7187 19 14.8813 19 13.6"/></svg>',l3='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 15.9C16 15.9 16.3768 17 17.8 17C19.5 17 20 15.6199 20 14.7C20 12.7323 17.6745 12.0486 16.1635 12.9894C16.094 13.0327 16 12.9846 16 12.9027V10.1C16 10.0448 16.0448 10 16.1 10H19.8"/></svg>',c3='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19.5 10C16.5 10.5 16 13.3285 16 15M16 15V15C16 16.1046 16.8954 17 18 17H18.3246C19.3251 17 20.3191 16.3492 20.2522 15.3509C20.0612 12.4958 16 12.6611 16 15Z"/></svg>',u3='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 7L9 12M9 17V12M9 12L15 12M15 7V12M15 17L15 12"/></svg>';/**
 * Header block for the Editor.js.
 *
 * @author CodeX (team@ifmo.su)
 * @copyright CodeX 2018
 * @license MIT
 * @version 2.0.0
 */class d3{constructor({data:e,config:n,api:r,readOnly:i}){this.api=r,this.readOnly=i,this._settings=n,this._data=this.normalizeData(e),this._element=this.getTag()}get _CSS(){return{block:this.api.styles.block,wrapper:"ce-header"}}isHeaderData(e){return e.text!==void 0}normalizeData(e){const n={text:"",level:this.defaultLevel.number};return this.isHeaderData(e)&&(n.text=e.text||"",e.level!==void 0&&!isNaN(parseInt(e.level.toString()))&&(n.level=parseInt(e.level.toString()))),n}render(){return this._element}renderSettings(){return this.levels.map(e=>({icon:e.svg,label:this.api.i18n.t(`Heading ${e.number}`),onActivate:()=>this.setLevel(e.number),closeOnActivate:!0,isActive:this.currentLevel.number===e.number,render:()=>document.createElement("div")}))}setLevel(e){this.data={level:e,text:this.data.text}}merge(e){const n={text:this.data.text+e.text,level:this.data.level};this.data=n}validate(e){return e.text.trim()!==""}save(e){return{text:e.innerHTML,level:this.currentLevel.number}}static get conversionConfig(){return{export:"text",import:"text"}}static get sanitize(){return{level:!1,text:{}}}static get isReadOnlySupported(){return!0}get data(){return this._data.text=this._element.innerHTML,this._data.level=this.currentLevel.number,this._data}set data(e){if(this._data=this.normalizeData(e),e.level!==void 0&&this._element.parentNode){const n=this.getTag();n.innerHTML=this._element.innerHTML,this._element.parentNode.replaceChild(n,this._element),this._element=n}e.text!==void 0&&(this._element.innerHTML=this._data.text||"")}getTag(){const e=document.createElement(this.currentLevel.tag);return e.innerHTML=this._data.text||"",e.classList.add(this._CSS.wrapper),e.contentEditable=this.readOnly?"false":"true",e.dataset.placeholder=this.api.i18n.t(this._settings.placeholder||""),e}get currentLevel(){let e=this.levels.find(n=>n.number===this._data.level);return e||(e=this.defaultLevel),e}get defaultLevel(){if(this._settings.defaultLevel){const e=this.levels.find(n=>n.number===this._settings.defaultLevel);if(e)return e;console.warn("(ง'̀-'́)ง Heading Tool: the default level specified was not found in available levels")}return this.levels[1]}get levels(){const e=[{number:1,tag:"H1",svg:i3},{number:2,tag:"H2",svg:o3},{number:3,tag:"H3",svg:s3},{number:4,tag:"H4",svg:a3},{number:5,tag:"H5",svg:l3},{number:6,tag:"H6",svg:c3}];return this._settings.levels?e.filter(n=>this._settings.levels.includes(n.number)):e}onPaste(e){const n=e.detail;if("data"in n){const r=n.data;let i=this.defaultLevel.number;switch(r.tagName){case"H1":i=1;break;case"H2":i=2;break;case"H3":i=3;break;case"H4":i=4;break;case"H5":i=5;break;case"H6":i=6;break}this._settings.levels&&(i=this._settings.levels.reduce((o,s)=>Math.abs(s-i)<Math.abs(o-i)?s:o)),this.data={level:i,text:r.innerHTML}}}static get pasteConfig(){return{tags:["H1","H2","H3","H4","H5","H6"]}}static get toolbox(){return{icon:u3,title:"Heading"}}}(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".cdx-quote-icon svg{transform:rotate(180deg)}.cdx-quote{margin:0}.cdx-quote__text{min-height:158px;margin-bottom:10px}.cdx-quote [contentEditable=true][data-placeholder]:before{position:absolute;content:attr(data-placeholder);color:#707684;font-weight:400;opacity:0}.cdx-quote [contentEditable=true][data-placeholder]:empty:before{opacity:1}.cdx-quote [contentEditable=true][data-placeholder]:empty:focus:before{opacity:0}.cdx-quote-settings{display:flex}.cdx-quote-settings .cdx-settings-button{width:50%}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const h3='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 7L6 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 17H6"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 12L8 12"/></svg>',p3='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 7L5 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 17H5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13 12L5 12"/></svg>',f3='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 10.8182L9 10.8182C8.80222 10.8182 8.60888 10.7649 8.44443 10.665C8.27998 10.5651 8.15181 10.4231 8.07612 10.257C8.00043 10.0909 7.98063 9.90808 8.01922 9.73174C8.0578 9.55539 8.15304 9.39341 8.29289 9.26627C8.43275 9.13913 8.61093 9.05255 8.80491 9.01747C8.99889 8.98239 9.19996 9.00039 9.38268 9.0692C9.56541 9.13801 9.72159 9.25453 9.83147 9.40403C9.94135 9.55353 10 9.72929 10 9.90909L10 12.1818C10 12.664 9.78929 13.1265 9.41421 13.4675C9.03914 13.8084 8.53043 14 8 14"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 10.8182L15 10.8182C14.8022 10.8182 14.6089 10.7649 14.4444 10.665C14.28 10.5651 14.1518 10.4231 14.0761 10.257C14.0004 10.0909 13.9806 9.90808 14.0192 9.73174C14.0578 9.55539 14.153 9.39341 14.2929 9.26627C14.4327 9.13913 14.6109 9.05255 14.8049 9.01747C14.9989 8.98239 15.2 9.00039 15.3827 9.0692C15.5654 9.13801 15.7216 9.25453 15.8315 9.40403C15.9414 9.55353 16 9.72929 16 9.90909L16 12.1818C16 12.664 15.7893 13.1265 15.4142 13.4675C15.0391 13.8084 14.5304 14 14 14"/></svg>';var Rl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function m3(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var ja={},If={},Pf={};Object.defineProperty(Pf,"__esModule",{value:!0});Pf.allInputsSelector=g3;function g3(){var t=["text","password","email","number","search","tel","url"];return"[contenteditable=true], textarea, input:not([type]), "+t.map(function(e){return'input[type="'.concat(e,'"]')}).join(", ")}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.allInputsSelector=void 0;var e=Pf;Object.defineProperty(t,"allInputsSelector",{enumerable:!0,get:function(){return e.allInputsSelector}})})(If);var zr={},Af={};Object.defineProperty(Af,"__esModule",{value:!0});Af.isNativeInput=v3;function v3(t){var e=["INPUT","TEXTAREA"];return t&&t.tagName?e.includes(t.tagName):!1}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isNativeInput=void 0;var e=Af;Object.defineProperty(t,"isNativeInput",{enumerable:!0,get:function(){return e.isNativeInput}})})(zr);var tE={},Of={};Object.defineProperty(Of,"__esModule",{value:!0});Of.append=y3;function y3(t,e){Array.isArray(e)?e.forEach(function(n){t.appendChild(n)}):t.appendChild(e)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.append=void 0;var e=Of;Object.defineProperty(t,"append",{enumerable:!0,get:function(){return e.append}})})(tE);var Bf={},Lf={};Object.defineProperty(Lf,"__esModule",{value:!0});Lf.blockElements=w3;function w3(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.blockElements=void 0;var e=Lf;Object.defineProperty(t,"blockElements",{enumerable:!0,get:function(){return e.blockElements}})})(Bf);var nE={},Mf={};Object.defineProperty(Mf,"__esModule",{value:!0});Mf.calculateBaseline=b3;function b3(t){var e=window.getComputedStyle(t),n=parseFloat(e.fontSize),r=parseFloat(e.lineHeight)||n*1.2,i=parseFloat(e.paddingTop),o=parseFloat(e.borderTopWidth),s=parseFloat(e.marginTop),a=n*.8,l=(r-n)/2,c=s+o+i+l+a;return c}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.calculateBaseline=void 0;var e=Mf;Object.defineProperty(t,"calculateBaseline",{enumerable:!0,get:function(){return e.calculateBaseline}})})(nE);var rE={},Nf={},Rf={},Df={};Object.defineProperty(Df,"__esModule",{value:!0});Df.isContentEditable=k3;function k3(t){return t.contentEditable==="true"}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isContentEditable=void 0;var e=Df;Object.defineProperty(t,"isContentEditable",{enumerable:!0,get:function(){return e.isContentEditable}})})(Rf);Object.defineProperty(Nf,"__esModule",{value:!0});Nf.canSetCaret=S3;var x3=zr,E3=Rf;function S3(t){var e=!0;if((0,x3.isNativeInput)(t))switch(t.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":e=!1;break}else e=(0,E3.isContentEditable)(t);return e}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.canSetCaret=void 0;var e=Nf;Object.defineProperty(t,"canSetCaret",{enumerable:!0,get:function(){return e.canSetCaret}})})(rE);var kc={},jf={};function C3(t,e,n){const r=n.value!==void 0?"value":"get",i=n[r],o=`#${e}Cache`;if(n[r]=function(...s){return this[o]===void 0&&(this[o]=i.apply(this,s)),this[o]},r==="get"&&n.set){const s=n.set;n.set=function(a){delete t[o],s.apply(this,a)}}return n}function iE(){const t={win:!1,mac:!1,x11:!1,linux:!1},e=Object.keys(t).find(n=>window.navigator.appVersion.toLowerCase().indexOf(n)!==-1);return e!==void 0&&(t[e]=!0),t}function Ff(t){return t!=null&&t!==""&&(typeof t!="object"||Object.keys(t).length>0)}function T3(t){return!Ff(t)}const _3=()=>typeof window<"u"&&window.navigator!==null&&Ff(window.navigator.platform)&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);function I3(t){const e=iE();return t=t.replace(/shift/gi,"⇧").replace(/backspace/gi,"⌫").replace(/enter/gi,"⏎").replace(/up/gi,"↑").replace(/left/gi,"→").replace(/down/gi,"↓").replace(/right/gi,"←").replace(/escape/gi,"⎋").replace(/insert/gi,"Ins").replace(/delete/gi,"␡").replace(/\+/gi,"+"),e.mac?t=t.replace(/ctrl|cmd/gi,"⌘").replace(/alt/gi,"⌥"):t=t.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN"),t}function P3(t){return t[0].toUpperCase()+t.slice(1)}function A3(t){const e=document.createElement("div");e.style.position="absolute",e.style.left="-999px",e.style.bottom="-999px",e.innerHTML=t,document.body.appendChild(e);const n=window.getSelection(),r=document.createRange();if(r.selectNode(e),n===null)throw new Error("Cannot copy text to clipboard");n.removeAllRanges(),n.addRange(r),document.execCommand("copy"),document.body.removeChild(e)}function O3(t,e,n){let r;return(...i)=>{const o=this,s=()=>{r=void 0,n!==!0&&t.apply(o,i)},a=n===!0&&r!==void 0;window.clearTimeout(r),r=window.setTimeout(s,e),a&&t.apply(o,i)}}function tr(t){return Object.prototype.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function B3(t){return tr(t)==="boolean"}function oE(t){return tr(t)==="function"||tr(t)==="asyncfunction"}function L3(t){return oE(t)&&/^\s*class\s+/.test(t.toString())}function M3(t){return tr(t)==="number"}function Fa(t){return tr(t)==="object"}function N3(t){return Promise.resolve(t)===t}function R3(t){return tr(t)==="string"}function D3(t){return tr(t)==="undefined"}function bh(t,...e){if(!e.length)return t;const n=e.shift();if(Fa(t)&&Fa(n))for(const r in n)Fa(n[r])?(t[r]===void 0&&Object.assign(t,{[r]:{}}),bh(t[r],n[r])):Object.assign(t,{[r]:n[r]});return bh(t,...e)}function j3(t,e,n){const r=`«${e}» is deprecated and will be removed in the next major release. Please use the «${n}» instead.`;t&&console.warn(r)}function F3(t){try{return new URL(t).href}catch{}return t.substring(0,2)==="//"?window.location.protocol+t:window.location.origin+t}function $3(t){return t>47&&t<58||t===32||t===13||t===229||t>64&&t<91||t>95&&t<112||t>185&&t<193||t>218&&t<223}const U3={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91,SLASH:191},V3={LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4};class H3{constructor(){this.completed=Promise.resolve()}add(e){return new Promise((n,r)=>{this.completed=this.completed.then(e).then(n).catch(r)})}}function z3(t,e,n=void 0){let r,i,o,s=null,a=0;n||(n={});const l=function(){a=n.leading===!1?0:Date.now(),s=null,o=t.apply(r,i),s===null&&(r=i=null)};return function(){const c=Date.now();!a&&n.leading===!1&&(a=c);const u=e-(c-a);return r=this,i=arguments,u<=0||u>e?(s&&(clearTimeout(s),s=null),a=c,o=t.apply(r,i),s===null&&(r=i=null)):!s&&n.trailing!==!1&&(s=setTimeout(l,u)),o}}const W3=Object.freeze(Object.defineProperty({__proto__:null,PromiseQueue:H3,beautifyShortcut:I3,cacheable:C3,capitalize:P3,copyTextToClipboard:A3,debounce:O3,deepMerge:bh,deprecationAssert:j3,getUserOS:iE,getValidUrl:F3,isBoolean:B3,isClass:L3,isEmpty:T3,isFunction:oE,isIosDevice:_3,isNumber:M3,isObject:Fa,isPrintableKey:$3,isPromise:N3,isString:R3,isUndefined:D3,keyCodes:U3,mouseButtons:V3,notEmpty:Ff,throttle:z3,typeOf:tr},Symbol.toStringTag,{value:"Module"})),$f=m3(W3);Object.defineProperty(jf,"__esModule",{value:!0});jf.containsOnlyInlineElements=G3;var K3=$f,q3=Bf;function G3(t){var e;(0,K3.isString)(t)?(e=document.createElement("div"),e.innerHTML=t):e=t;var n=function(r){return!(0,q3.blockElements)().includes(r.tagName.toLowerCase())&&Array.from(r.children).every(n)};return Array.from(e.children).every(n)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.containsOnlyInlineElements=void 0;var e=jf;Object.defineProperty(t,"containsOnlyInlineElements",{enumerable:!0,get:function(){return e.containsOnlyInlineElements}})})(kc);var sE={},Uf={},xc={},Vf={};Object.defineProperty(Vf,"__esModule",{value:!0});Vf.make=Y3;function Y3(t,e,n){var r;e===void 0&&(e=null),n===void 0&&(n={});var i=document.createElement(t);if(Array.isArray(e)){var o=e.filter(function(a){return a!==void 0});(r=i.classList).add.apply(r,o)}else e!==null&&i.classList.add(e);for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s]);return i}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.make=void 0;var e=Vf;Object.defineProperty(t,"make",{enumerable:!0,get:function(){return e.make}})})(xc);Object.defineProperty(Uf,"__esModule",{value:!0});Uf.fragmentToString=J3;var X3=xc;function J3(t){var e=(0,X3.make)("div");return e.appendChild(t),e.innerHTML}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fragmentToString=void 0;var e=Uf;Object.defineProperty(t,"fragmentToString",{enumerable:!0,get:function(){return e.fragmentToString}})})(sE);var aE={},Hf={};Object.defineProperty(Hf,"__esModule",{value:!0});Hf.getContentLength=Z3;var Q3=zr;function Z3(t){var e,n;return(0,Q3.isNativeInput)(t)?t.value.length:t.nodeType===Node.TEXT_NODE?t.length:(n=(e=t.textContent)===null||e===void 0?void 0:e.length)!==null&&n!==void 0?n:0}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getContentLength=void 0;var e=Hf;Object.defineProperty(t,"getContentLength",{enumerable:!0,get:function(){return e.getContentLength}})})(aE);var zf={},Wf={},Wy=Rl&&Rl.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))};Object.defineProperty(Wf,"__esModule",{value:!0});Wf.getDeepestBlockElements=lE;var e5=kc;function lE(t){return(0,e5.containsOnlyInlineElements)(t)?[t]:Array.from(t.children).reduce(function(e,n){return Wy(Wy([],e,!0),lE(n),!0)},[])}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getDeepestBlockElements=void 0;var e=Wf;Object.defineProperty(t,"getDeepestBlockElements",{enumerable:!0,get:function(){return e.getDeepestBlockElements}})})(zf);var cE={},Kf={},Ec={},qf={};Object.defineProperty(qf,"__esModule",{value:!0});qf.isLineBreakTag=t5;function t5(t){return["BR","WBR"].includes(t.tagName)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isLineBreakTag=void 0;var e=qf;Object.defineProperty(t,"isLineBreakTag",{enumerable:!0,get:function(){return e.isLineBreakTag}})})(Ec);var Sc={},Gf={};Object.defineProperty(Gf,"__esModule",{value:!0});Gf.isSingleTag=n5;function n5(t){return["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(t.tagName)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isSingleTag=void 0;var e=Gf;Object.defineProperty(t,"isSingleTag",{enumerable:!0,get:function(){return e.isSingleTag}})})(Sc);Object.defineProperty(Kf,"__esModule",{value:!0});Kf.getDeepestNode=uE;var r5=zr,i5=Ec,o5=Sc;function uE(t,e){e===void 0&&(e=!1);var n=e?"lastChild":"firstChild",r=e?"previousSibling":"nextSibling";if(t.nodeType===Node.ELEMENT_NODE&&t[n]){var i=t[n];if((0,o5.isSingleTag)(i)&&!(0,r5.isNativeInput)(i)&&!(0,i5.isLineBreakTag)(i))if(i[r])i=i[r];else if(i.parentNode!==null&&i.parentNode[r])i=i.parentNode[r];else return i.parentNode;return uE(i,e)}return t}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getDeepestNode=void 0;var e=Kf;Object.defineProperty(t,"getDeepestNode",{enumerable:!0,get:function(){return e.getDeepestNode}})})(cE);var dE={},Yf={},sa=Rl&&Rl.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))};Object.defineProperty(Yf,"__esModule",{value:!0});Yf.findAllInputs=u5;var s5=kc,a5=zf,l5=If,c5=zr;function u5(t){return Array.from(t.querySelectorAll((0,l5.allInputsSelector)())).reduce(function(e,n){return(0,c5.isNativeInput)(n)||(0,s5.containsOnlyInlineElements)(n)?sa(sa([],e,!0),[n],!1):sa(sa([],e,!0),(0,a5.getDeepestBlockElements)(n),!0)},[])}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.findAllInputs=void 0;var e=Yf;Object.defineProperty(t,"findAllInputs",{enumerable:!0,get:function(){return e.findAllInputs}})})(dE);var hE={},Xf={};Object.defineProperty(Xf,"__esModule",{value:!0});Xf.isCollapsedWhitespaces=d5;function d5(t){return!/[^\t\n\r ]/.test(t)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isCollapsedWhitespaces=void 0;var e=Xf;Object.defineProperty(t,"isCollapsedWhitespaces",{enumerable:!0,get:function(){return e.isCollapsedWhitespaces}})})(hE);var Jf={},Qf={};Object.defineProperty(Qf,"__esModule",{value:!0});Qf.isElement=p5;var h5=$f;function p5(t){return(0,h5.isNumber)(t)?!1:!!t&&!!t.nodeType&&t.nodeType===Node.ELEMENT_NODE}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isElement=void 0;var e=Qf;Object.defineProperty(t,"isElement",{enumerable:!0,get:function(){return e.isElement}})})(Jf);var pE={},Zf={},em={},tm={};Object.defineProperty(tm,"__esModule",{value:!0});tm.isLeaf=f5;function f5(t){return t===null?!1:t.childNodes.length===0}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isLeaf=void 0;var e=tm;Object.defineProperty(t,"isLeaf",{enumerable:!0,get:function(){return e.isLeaf}})})(em);var nm={},rm={};Object.defineProperty(rm,"__esModule",{value:!0});rm.isNodeEmpty=w5;var m5=Ec,g5=Jf,v5=zr,y5=Sc;function w5(t,e){var n="";return(0,y5.isSingleTag)(t)&&!(0,m5.isLineBreakTag)(t)?!1:((0,g5.isElement)(t)&&(0,v5.isNativeInput)(t)?n=t.value:t.textContent!==null&&(n=t.textContent.replace("​","")),e!==void 0&&(n=n.replace(new RegExp(e,"g"),"")),n.trim().length===0)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isNodeEmpty=void 0;var e=rm;Object.defineProperty(t,"isNodeEmpty",{enumerable:!0,get:function(){return e.isNodeEmpty}})})(nm);Object.defineProperty(Zf,"__esModule",{value:!0});Zf.isEmpty=x5;var b5=em,k5=nm;function x5(t,e){t.normalize();for(var n=[t];n.length>0;){var r=n.shift();if(r){if(t=r,(0,b5.isLeaf)(t)&&!(0,k5.isNodeEmpty)(t,e))return!1;n.push.apply(n,Array.from(t.childNodes))}}return!0}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isEmpty=void 0;var e=Zf;Object.defineProperty(t,"isEmpty",{enumerable:!0,get:function(){return e.isEmpty}})})(pE);var fE={},im={};Object.defineProperty(im,"__esModule",{value:!0});im.isFragment=S5;var E5=$f;function S5(t){return(0,E5.isNumber)(t)?!1:!!t&&!!t.nodeType&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isFragment=void 0;var e=im;Object.defineProperty(t,"isFragment",{enumerable:!0,get:function(){return e.isFragment}})})(fE);var mE={},om={};Object.defineProperty(om,"__esModule",{value:!0});om.isHTMLString=T5;var C5=xc;function T5(t){var e=(0,C5.make)("div");return e.innerHTML=t,e.childElementCount>0}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isHTMLString=void 0;var e=om;Object.defineProperty(t,"isHTMLString",{enumerable:!0,get:function(){return e.isHTMLString}})})(mE);var gE={},sm={};Object.defineProperty(sm,"__esModule",{value:!0});sm.offset=_5;function _5(t){var e=t.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageYOffset||document.documentElement.scrollTop,i=e.top+r,o=e.left+n;return{top:i,left:o,bottom:i+e.height,right:o+e.width}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.offset=void 0;var e=sm;Object.defineProperty(t,"offset",{enumerable:!0,get:function(){return e.offset}})})(gE);var vE={},am={};Object.defineProperty(am,"__esModule",{value:!0});am.prepend=I5;function I5(t,e){Array.isArray(e)?(e=e.reverse(),e.forEach(function(n){return t.prepend(n)})):t.prepend(e)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.prepend=void 0;var e=am;Object.defineProperty(t,"prepend",{enumerable:!0,get:function(){return e.prepend}})})(vE);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.prepend=t.offset=t.make=t.isLineBreakTag=t.isSingleTag=t.isNodeEmpty=t.isLeaf=t.isHTMLString=t.isFragment=t.isEmpty=t.isElement=t.isContentEditable=t.isCollapsedWhitespaces=t.findAllInputs=t.isNativeInput=t.allInputsSelector=t.getDeepestNode=t.getDeepestBlockElements=t.getContentLength=t.fragmentToString=t.containsOnlyInlineElements=t.canSetCaret=t.calculateBaseline=t.blockElements=t.append=void 0;var e=If;Object.defineProperty(t,"allInputsSelector",{enumerable:!0,get:function(){return e.allInputsSelector}});var n=zr;Object.defineProperty(t,"isNativeInput",{enumerable:!0,get:function(){return n.isNativeInput}});var r=tE;Object.defineProperty(t,"append",{enumerable:!0,get:function(){return r.append}});var i=Bf;Object.defineProperty(t,"blockElements",{enumerable:!0,get:function(){return i.blockElements}});var o=nE;Object.defineProperty(t,"calculateBaseline",{enumerable:!0,get:function(){return o.calculateBaseline}});var s=rE;Object.defineProperty(t,"canSetCaret",{enumerable:!0,get:function(){return s.canSetCaret}});var a=kc;Object.defineProperty(t,"containsOnlyInlineElements",{enumerable:!0,get:function(){return a.containsOnlyInlineElements}});var l=sE;Object.defineProperty(t,"fragmentToString",{enumerable:!0,get:function(){return l.fragmentToString}});var c=aE;Object.defineProperty(t,"getContentLength",{enumerable:!0,get:function(){return c.getContentLength}});var u=zf;Object.defineProperty(t,"getDeepestBlockElements",{enumerable:!0,get:function(){return u.getDeepestBlockElements}});var d=cE;Object.defineProperty(t,"getDeepestNode",{enumerable:!0,get:function(){return d.getDeepestNode}});var h=dE;Object.defineProperty(t,"findAllInputs",{enumerable:!0,get:function(){return h.findAllInputs}});var y=hE;Object.defineProperty(t,"isCollapsedWhitespaces",{enumerable:!0,get:function(){return y.isCollapsedWhitespaces}});var f=Rf;Object.defineProperty(t,"isContentEditable",{enumerable:!0,get:function(){return f.isContentEditable}});var m=Jf;Object.defineProperty(t,"isElement",{enumerable:!0,get:function(){return m.isElement}});var w=pE;Object.defineProperty(t,"isEmpty",{enumerable:!0,get:function(){return w.isEmpty}});var g=fE;Object.defineProperty(t,"isFragment",{enumerable:!0,get:function(){return g.isFragment}});var p=mE;Object.defineProperty(t,"isHTMLString",{enumerable:!0,get:function(){return p.isHTMLString}});var v=em;Object.defineProperty(t,"isLeaf",{enumerable:!0,get:function(){return v.isLeaf}});var k=nm;Object.defineProperty(t,"isNodeEmpty",{enumerable:!0,get:function(){return k.isNodeEmpty}});var x=Ec;Object.defineProperty(t,"isLineBreakTag",{enumerable:!0,get:function(){return x.isLineBreakTag}});var T=Sc;Object.defineProperty(t,"isSingleTag",{enumerable:!0,get:function(){return T.isSingleTag}});var P=xc;Object.defineProperty(t,"make",{enumerable:!0,get:function(){return P.make}});var S=gE;Object.defineProperty(t,"offset",{enumerable:!0,get:function(){return S.offset}});var I=vE;Object.defineProperty(t,"prepend",{enumerable:!0,get:function(){return I.prepend}})})(ja);var yE=(t=>(t.Left="left",t.Center="center",t))(yE||{});class Ro{constructor({data:e,config:n,api:r,readOnly:i,block:o}){const{DEFAULT_ALIGNMENT:s}=Ro;this.api=r,this.readOnly=i,this._quotePlaceholder=n.quotePlaceholder||Ro.DEFAULT_QUOTE_PLACEHOLDER,this._captionPlaceholder=n.captionPlaceholder||Ro.DEFAULT_CAPTION_PLACEHOLDER,this._data={text:e.text||"",caption:e.caption||"",alignment:Object.values(yE).includes(e.alignment)&&e.alignment||n.defaultAlignment||s},this._CSS={baseClass:this.api.styles.block,wrapper:"cdx-quote",text:"cdx-quote__text",input:this.api.styles.input,caption:"cdx-quote__caption"},this._block=o}static get isReadOnlySupported(){return!0}static get toolbox(){return{icon:f3,title:"Quote"}}static get contentless(){return!0}static get enableLineBreaks(){return!0}static get DEFAULT_QUOTE_PLACEHOLDER(){return"Enter a quote"}static get DEFAULT_CAPTION_PLACEHOLDER(){return"Enter a caption"}static get DEFAULT_ALIGNMENT(){return"left"}static get conversionConfig(){return{import:"text",export:function(e){return e.caption?`${e.text} — ${e.caption}`:e.text}}}get CSS(){return{baseClass:this.api.styles.block,wrapper:"cdx-quote",text:"cdx-quote__text",input:this.api.styles.input,caption:"cdx-quote__caption"}}get settings(){return[{name:"left",icon:p3},{name:"center",icon:h3}]}render(){const e=ja.make("blockquote",[this._CSS.baseClass,this._CSS.wrapper]),n=ja.make("div",[this._CSS.input,this._CSS.text],{contentEditable:!this.readOnly,innerHTML:this._data.text}),r=ja.make("div",[this._CSS.input,this._CSS.caption],{contentEditable:!this.readOnly,innerHTML:this._data.caption});return n.dataset.placeholder=this._quotePlaceholder,r.dataset.placeholder=this._captionPlaceholder,e.appendChild(n),e.appendChild(r),e}save(e){const n=e.querySelector(`.${this._CSS.text}`),r=e.querySelector(`.${this._CSS.caption}`);return Object.assign(this._data,{text:(n==null?void 0:n.innerHTML)??"",caption:(r==null?void 0:r.innerHTML)??""})}static get sanitize(){return{text:{br:!0},caption:{br:!0},alignment:{}}}renderSettings(){const e=n=>n&&n[0].toUpperCase()+n.slice(1);return this.settings.map(n=>({icon:n.icon,label:this.api.i18n.t(`Align ${e(n.name)}`),onActivate:()=>this._toggleTune(n.name),isActive:this._data.alignment===n.name,closeOnActivate:!0}))}_toggleTune(e){this._data.alignment=e,this._block.dispatchChange()}}(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".cdx-marker{background:rgba(245,235,111,.29);padding:3px 0}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const P5='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M11.3536 9.31802L12.7678 7.90381C13.5488 7.12276 14.8151 7.12276 15.5962 7.90381C16.3772 8.68486 16.3772 9.95119 15.5962 10.7322L14.182 12.1464M11.3536 9.31802L7.96729 12.7043C7.40889 13.2627 7.02827 13.9739 6.8734 14.7482L6.69798 15.6253C6.55804 16.325 7.17496 16.942 7.87468 16.802L8.75176 16.6266C9.52612 16.4717 10.2373 16.0911 10.7957 15.5327L14.182 12.1464M11.3536 9.31802L14.182 12.1464"/><line x1="15" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>';let A5=class ko{static get CSS(){return"cdx-marker"}constructor({api:e}){this.api=e,this.button=null,this.tag="MARK",this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}static get isInline(){return!0}render(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add(this.iconClasses.base),this.button.innerHTML=this.toolboxIcon,this.button}surround(e){if(!e)return;let n=this.api.selection.findParentTag(this.tag,ko.CSS);n?this.unwrap(n):this.wrap(e)}wrap(e){let n=document.createElement(this.tag);n.classList.add(ko.CSS),n.appendChild(e.extractContents()),e.insertNode(n),this.api.selection.expandToTag(n)}unwrap(e){this.api.selection.expandToTag(e);let n=window.getSelection(),r=n.getRangeAt(0),i=r.extractContents();e.parentNode.removeChild(e),r.insertNode(i),n.removeAllRanges(),n.addRange(r)}checkState(){const e=this.api.selection.findParentTag(this.tag,ko.CSS);this.button.classList.toggle(this.iconClasses.active,!!e)}get toolboxIcon(){return P5}static get sanitize(){return{mark:{class:ko.CSS}}}};(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".inline-code{background:rgba(250,239,240,.78);color:#b44437;padding:3px 4px;border-radius:5px;margin:0 1px;font-family:inherit;font-size:.86em;font-weight:500;letter-spacing:.3px}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const O5='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 8L5 12L9 16"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 8L19 12L15 16"/></svg>';class mi{constructor({api:e}){this.tag="CODE",this.api=e,this.button=null,this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}static get CSS(){return"inline-code"}static get isInline(){return!0}render(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add(this.iconClasses.base),this.button.innerHTML=this.toolboxIcon,this.button}surround(e){if(!e)return;let n=this.api.selection.findParentTag(this.tag,mi.CSS);n?this.unwrap(n):this.wrap(e)}wrap(e){let n=document.createElement(this.tag);n.classList.add(mi.CSS),n.appendChild(e.extractContents()),e.insertNode(n),this.api.selection.expandToTag(n)}unwrap(e){var n;this.api.selection.expandToTag(e);const r=window.getSelection();if(!r)return;const i=r.getRangeAt(0),o=i.extractContents();(n=e.parentNode)==null||n.removeChild(e),i.insertNode(o),r.removeAllRanges(),r.addRange(i)}checkState(){const e=this.api.selection.findParentTag(this.tag,mi.CSS);return this.button&&this.button.classList.toggle(this.iconClasses.active,!!e),!!e}get toolboxIcon(){return O5}static get sanitize(){return{code:{class:mi.CSS}}}}const B5=t=>ax(t).then(e=>{if(e)return{success:1,file:{url:e}}}),L5=t=>new Promise((n,r)=>{try{n(t)}catch(i){r(i)}}).then(n=>({success:1,file:{url:n}})),M5={embed:z4,list:{class:K4,inlineToolbar:!0},code:Y4,image:{class:r3,config:{uploader:{uploadByFile:B5,uploadByUrl:L5}}},header:{class:d3,config:{placeHolder:"Type Heading",levels:[2,3],defaultLevel:2}},quote:{class:Ro,inlineToolbar:!0},marker:A5,inlineCode:mi},N5=()=>{let{blog:t,blog:{title:e,banner:n,content:r,tags:i,des:o},setBlog:s,textEditor:a,setTextEditor:l,setEditorState:c}=E.useContext(Cc),{userAuth:{access_token:u}}=E.useContext(Wr),d=Wt();E.useEffect(()=>{a.isReady||l(new U4({holder:"textEditor",data:r,tools:M5,placeholder:"Start writing your blog..."}))},[]);const h=p=>{p.keyCode==13&&p.preventDefault()},y=p=>{let v=p.target;v.style.height="auto",v.style.height=v.scrollHeight+"px",s({...t,title:v.value})},f=p=>{let v=p.target.files[0];if(v){let k=U.loading("Uploading Image...");ax(v).then(x=>{x&&(U.dismiss(k),U.success("Image Uploaded Successfully"),s({...t,banner:x}))}).catch(x=>{U.dismiss(k),U.error(x)})}},m=p=>{let v=p.target;v.src=PR},w=()=>{if(!e.length){U.error("Please enter a title");return}if(!n.length){U.error("Please upload a banner");return}if(!a.isReady){U.error("Please wait while we save your blog");return}a.isReady&&a.save().then(p=>{p.blocks.length?(s({...t,content:p}),c("publish")):U.error("Please add some content to your blog")})},g=p=>{if(p.target.className.includes("disable"))return;if(!e.length)return U.error("write blog title before save draft");let v=U.loading("Saving Draft...");p.target.classList.add("disable"),a.isReady&&a.save().then(k=>{let x={title:e,banner:n,des:o,tags:i,content:k,draft:!0};Y.post("https://monogatari-backend.vercel.app//create-blog",x,{headers:{Authorization:`Bearer ${u}`}}).then(()=>{p.target.classList.remove("disable"),U.dismiss(v),U.success("Draft Saved Successfully"),setTimeout(()=>{d("/")},500)}).catch(({response:T})=>(p.target.classList.remove("disable"),U.dismiss(v),U.error(T.data.error)))})};return b.jsxs(b.Fragment,{children:[b.jsxs("nav",{className:"navbar",children:[b.jsx(qe,{to:"/",children:b.jsx("img",{src:vw,alt:"logo",className:"flex-none w-14 p-2"})}),b.jsx("p",{className:"max-md:hidden text-black line-clamp-1",children:e.length?e:"New Blog"}),b.jsxs("div",{className:"flex gap-4 ml-auto",children:[b.jsx("button",{className:"btn-dark py-2",onClick:w,children:"Publish"}),b.jsx("button",{className:"btn-light py-2",onClick:g,children:"Save Draft"})]})]}),b.jsx(Yp,{}),b.jsx(gt,{children:b.jsx("section",{children:b.jsxs("div",{className:"mx-auto max-w-[900px] w-full",children:[b.jsx("div",{className:"relative aspect-video bg-white border-4 rounded-lg border-grey ",children:b.jsxs("label",{htmlFor:"uploadBanner",children:[b.jsx("img",{src:n,onError:m,alt:"upload banner",className:"cursor-pointer z-20"}),b.jsx("input",{type:"file",id:"uploadBanner",accept:"png,jpg,jpeg",hidden:!0,onChange:f})]})}),b.jsx("textarea",{defaultValue:e,placeholder:"Blog Title",className:" text-4xl font-medium w-full h-20 outline-none resize-none mt-10 leading-tight placeholder:opacity-40",onKeyDown:h,onChange:y}),b.jsx("hr",{className:"w-full opacity-10 my-5 "}),b.jsx("div",{id:"textEditor",className:"font-gelasio"})]})})})]})},R5={title:"",banner:"",content:[],tags:[],des:"",author:{personal_info:{}}},Cc=E.createContext({}),D5=()=>{const[t,e]=E.useState(R5),[n,r]=E.useState("editor"),[i,o]=E.useState({isReady:!1});let{userAuth:{access_token:s}}=E.useContext(Wr);return b.jsx(Cc.Provider,{value:{blog:t,setBlog:e,editorState:n,setEditorState:r,textEditor:i,setTextEditor:o},children:s===null?b.jsx(gw,{to:"/signIn"}):n=="editor"?b.jsx(N5,{}):b.jsx(IR,{})})},lm=[{id:"frieren",title:"The Beauty Of Frieren",image:"/assets/frieren.jpg",author:"Raya Adinda",date:"1 Mei 2024",excerpt:"Frieren: adalah seri manga Jepang yang ditulis oleh Kanehito Yamada....",content:`Frieren: adalah seri manga Jepang yang ditulis oleh Kanehito Yamada
			dan diilustrasikan oleh Tsukasa Abe. Manga ini telah diserialkan di
			majalah manga shōnen Shogakukan Weekly Shōnen Sunday sejak April 2020,
			dengan bab-babnya dikumpulkan dalam 13 volume tankōbon hingga April
			2024.`},{id:"okinawa",title:"92914",image:"/assets/okinawa.jpg",author:"Raya Adinda",date:"2 Mei 2024",excerpt:"Okinawa adalah band indie yang berbasis di Seoul ini terkenal dengan balada akustik yang....",content:`Band indie yang berbasis di Seoul ini terkenal dengan balada akustik
			yang emosional seperti "Okinawa" - puisi cinta mereka yang menyentuh
			hati untuk pantai Jepang. Sejak awal karier mereka, 92914 berhasil
			menciptakan suara yang langsung dikenali, terinspirasi oleh alam dan
			dipenuhi dengan melankolis yang indah.`}],j5=()=>{const t=Wt(),e=lm.find(r=>r.id==="frieren"),n=()=>{t("../Pages/NotFound.jsx")};return b.jsxs(Ne.div,{onClick:n,className:"card bg-black cursor-pointer shadow-xl overflow-hidden w-full max-w-[933px] flex flex-col sm:flex-row",whileHover:{scale:1.02},whileTap:{scale:.98},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[b.jsx(Ne.img,{className:"object-cover w-full sm:w-1/2 h-48 sm:h-auto rounded-t-2xl sm:rounded-l-2xl sm:rounded-t-none",src:e.image,alt:e.title,whileHover:{scale:1.05},transition:{duration:.3}}),b.jsxs("div",{className:"card-body w-full sm:w-1/2 p-4",children:[b.jsx(Ne.h1,{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl text-white font-inter font-medium mb-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},children:e.title}),b.jsx(Ne.p,{className:"text-sm sm:text-base md:text-lg lg:text-xl font-inter text-white",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.5},children:e.content})]})]})},F5=()=>{const t=Wt(),e=lm.find(r=>r.id==="okinawa"),n=()=>t("../Pages/NotFound.jsx");return b.jsxs(Ne.div,{onClick:n,className:"card bg-base-100 shadow-xl w-full max-w-[398px] overflow-hidden cursor-pointer",whileHover:{scale:1.05},whileTap:{scale:.95},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[b.jsx(Ne.figure,{className:"w-full h-48 sm:h-56 md:h-64",whileHover:{scale:1.1},transition:{duration:.2},children:b.jsx("img",{src:e.image,alt:e.title,className:"w-full h-full object-cover outline-black",loading:"lazy"})}),b.jsxs(Ne.div,{className:"card-body bg-blue text-white p-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1,duration:.3},children:[b.jsx("h2",{className:"card-title text-xl sm:text-2xl text-black font-inter mb-2",children:e.title}),b.jsx("p",{className:"text-sm sm:text-base text-black font-inter font-medium",children:e.content})]})]})},$5=Th.memo(F5),U5=({post:t})=>{const e=Wt(),n=()=>e(`/blog/${t.id}`);return b.jsxs(Ne.div,{onClick:n,className:"mobile-hero-card bg-white shadow-lg rounded-lg p-4 flex flex-col items-start mt-4 mb-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[b.jsxs("div",{className:"flex items-center mb-2",children:[b.jsx("img",{src:"/assets/avatar.jpg",alt:"Author Avatar",className:"w-8 h-8 rounded-full mr-2"}),b.jsxs("div",{children:[b.jsx("p",{className:"text-sm font-semibold",children:t.author}),b.jsx("p",{className:"text-xs text-gray-500",children:"in Jakarta"})]})]}),b.jsx("h2",{className:"text-lg font-bold mb-2",children:t.title}),b.jsx("p",{className:"text-sm text-gray-700 mb-2",children:t.content}),b.jsx("img",{src:t.image,alt:t.title,className:"w-full h-64 object-cover rounded-lg mb-2"}),b.jsx("div",{className:"flex items-center text-xs text-gray-500",children:b.jsx("span",{className:"mr-2",children:t.date})})]})};let aa,$a;const cm=({routes:t,defaultHidden:e=[],defaultActiveIndex:n=0,children:r})=>{let[i,o]=E.useState(n);aa=E.useRef(),$a=E.useRef();const s=(a,l)=>{let{offsetWidth:c,offsetLeft:u}=a;aa.current.style.width=c+"px",aa.current.style.left=u+"px",o(l)};return E.useEffect(()=>{s($a.current,n)},[]),b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"relative mb-8 bg-white border-b border-grey flex flex-nowrap overflow-x-auto",children:[t.map((a,l)=>b.jsx("button",{ref:l==i?$a:null,className:"p-4 px-5 capitalize "+(i==l?"text-black ":"text-dark-grey ")+(e.includes(a)?"md:hidden ":" "),onClick:c=>{s(c.target,l)},children:a},l)),b.jsx("hr",{ref:aa,className:"absolute bottom-0 duration-300"})]}),Array.isArray(r)?r[i]:r]})},_i=()=>b.jsx("div",{className:"w-12 mx-auto my-8",children:b.jsxs("svg",{"aria-hidden":"true",className:"w-12 h-12 mr-2 text-white animate-spin fill-dark-grey",viewBox:"0 0 100 101",fill:"none",children:[b.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),b.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]})});let V5=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];const um=t=>{let e=new Date(t);return`${e.getDate()} ${V5[e.getMonth()]}`},wE=({content:t,author:e})=>{const n=Wt(),r=()=>n(`/blog/${c}`);let{publishedAt:i,title:o,tags:s,banner:a,des:l,blog_id:c,activity:{total_likes:u}}=t,{fullname:d,profile_img:h,username:y}=e;return b.jsxs(Ne.div,{onClick:r,className:" bg-white shadow-lg rounded-lg p-4 flex flex-col items-start mt-4 mb-4 cursor-pointer    ",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[b.jsxs("div",{className:"flex items-center mb-2",children:[b.jsx("img",{src:h,alt:"Author Avatar",className:"w-8 h-8 rounded-full mr-2"}),b.jsxs("div",{children:[b.jsxs("p",{className:"text-sm font-semibold",children:["@",y]}),b.jsx("p",{className:"text-sm text-gray-500",children:"in Jakarta"})]})]}),b.jsx("h2",{className:"font-gelasio font-medium mb-2",children:o}),b.jsx("p",{className:"text-sm text-gray-700 mb-2",children:l}),b.jsx("img",{src:a,className:" rounded-lg mb-2"}),b.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[b.jsx("span",{className:"mr-2",children:um(i)}),b.jsxs("span",{className:"flex items-center gap-2",children:[b.jsx("i",{className:"fi fi-rr-heart text-lg"}),u,b.jsxs("span",{className:" text-lg py-1 px-4",children:["#",s[0]," "]})]})]})]})},Ky=({blog:t,index:e})=>{let{publishedAt:n,blog_id:r,author:{personal_info:{fullname:i,username:o,profile_img:s}}}=t;return b.jsxs(qe,{to:`/blog/${r}`,className:"flex gap-5 mb-4",children:[b.jsx("h1",{className:"blog-index",children:e<10?"0"+(e+1):e}),b.jsx("div",{children:b.jsxs("div",{className:"flex gap-2 items-center mb-7",children:[b.jsx("img",{src:s,className:"w-6 h-6 rounded-full",alt:i}),b.jsxs("p",{className:"line-clamp-1",children:[i," @",o]}),b.jsx("p",{className:"min-w-fit",children:um(n)})]})})]})},Dl=({message:t})=>b.jsx("div",{className:"text-center w-full p-4 rounded-full bg-grey/50 mt-4",children:b.jsx("p",{children:t})}),qy=()=>{let[t,e]=E.useState(null),[n,r]=E.useState(null),[i,o]=E.useState("Home"),[s,a]=E.useState(1),[l]=E.useState(7),c=["All","Travel","Food","Culture","History","Nature","Anime"];const u=()=>{Y.get("https://monogatari-backend.vercel.app//latest-blogs").then(({data:p})=>{e(p)}).catch(p=>{console.log(p)})},d=()=>{Y.post("https://monogatari-backend.vercel.app//search-blogs",{tag:i}).then(({data:p})=>{e(p)}).catch(p=>{console.log(p)})},h=()=>{Y.get("https://monogatari-backend.vercel.app//trending-blogs").then(({data:p})=>{r(p)}).catch(p=>{console.log(p)})},y=p=>{let v=p.target.innerText.toLowerCase();if(e(null),i===v){o("Home");return}o(v)},f=(p,v,k)=>{const x=(v-1)*k;return p.slice(x,x+k)},m=()=>{a(p=>p+1),window.scrollTo({top:0,behavior:"smooth"})},w=f(t||[],s,l),g=t&&s*l<t.length;return E.useEffect(()=>{$a.current.click(),i==="Home"?u():d(),n||h()},[i]),b.jsxs(gt,{children:[b.jsx("div",{className:"block sm:hidden p-4",children:lm.map(p=>b.jsx(U5,{post:p},p.id))}),b.jsx("div",{className:"hidden sm:block mt-10",children:b.jsx(H5,{})}),b.jsxs("section",{className:"h-cover flex justify-center gap-6",children:[b.jsx("div",{className:"w-full",children:b.jsxs(cm,{routes:[i,"Trending"],defaultHidden:["Trending"],children:[b.jsxs(b.Fragment,{children:[t==null?b.jsx(_i,{}):w.length?w.map((p,v)=>b.jsx(gt,{transition:{duration:1,delay:v*.1},children:b.jsx(wE,{content:p,author:p.author.personal_info})},v)):b.jsx(Dl,{message:"No Blogs Published"}),b.jsx(gt,{children:g&&b.jsx("div",{className:"flex justify-center w-full mt-4",children:b.jsx("button",{onClick:m,className:"rounded-lg bg-grey py-2 px-2",children:"Load More"})})})]}),n==null?b.jsx(_i,{}):n.map((p,v)=>b.jsx(gt,{transition:{duration:1,delay:v*.1},children:b.jsx(Ky,{blog:p,index:v})},v))]})}),b.jsx("div",{className:"min-w-[40%] lg:min-w-[400px] max-w-min border-l border-grey pl-8 pt-3 max-md:hidden",children:b.jsxs("div",{className:"flex flex-col gap-10",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"font-medium text-xl mb-8",children:"Stories from all interest"}),b.jsx("div",{className:"flex gap-3 flex-wrap",children:c.map((p,v)=>b.jsx("button",{onClick:y,className:"tag "+(i===p.toLowerCase()?" bg-black text-white ":" "),children:p},v))})]}),b.jsxs("div",{children:[b.jsxs("h1",{className:"font-medium text-xl mb-8",children:["Trending ",b.jsx("i",{className:"fi fi-rr-arrow-trend-up"})]}),n==null?b.jsx(_i,{}):n.map((p,v)=>b.jsx(gt,{transition:{duration:1,delay:v*.1},children:b.jsx(Ky,{blog:p,index:v})},v))]})]})})]})]})},H5=()=>b.jsx("div",{className:"h-500",children:b.jsxs(Ne.div,{className:"flex flex-col sm:flex-row justify-center gap-6 mb-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},children:[b.jsx(j5,{}),b.jsx($5,{})]})});var kh=new Map,la=new WeakMap,Gy=0,z5=void 0;function W5(t){return t?(la.has(t)||(Gy+=1,la.set(t,Gy.toString())),la.get(t)):"0"}function K5(t){return Object.keys(t).sort().filter(e=>t[e]!==void 0).map(e=>`${e}_${e==="root"?W5(t.root):t[e]}`).toString()}function q5(t){const e=K5(t);let n=kh.get(e);if(!n){const r=new Map;let i;const o=new IntersectionObserver(s=>{s.forEach(a=>{var l;const c=a.isIntersecting&&i.some(u=>a.intersectionRatio>=u);t.trackVisibility&&typeof a.isVisible>"u"&&(a.isVisible=c),(l=r.get(a.target))==null||l.forEach(u=>{u(c,a)})})},t);i=o.thresholds||(Array.isArray(t.threshold)?t.threshold:[t.threshold||0]),n={id:e,observer:o,elements:r},kh.set(e,n)}return n}function G5(t,e,n={},r=z5){if(typeof window.IntersectionObserver>"u"&&r!==void 0){const l=t.getBoundingClientRect();return e(r,{isIntersecting:r,target:t,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:l,intersectionRect:l,rootBounds:l}),()=>{}}const{id:i,observer:o,elements:s}=q5(n),a=s.get(t)||[];return s.has(t)||s.set(t,a),a.push(e),o.observe(t),function(){a.splice(a.indexOf(e),1),a.length===0&&(s.delete(t),o.unobserve(t)),s.size===0&&(o.disconnect(),kh.delete(i))}}function Y5({threshold:t,delay:e,trackVisibility:n,rootMargin:r,root:i,triggerOnce:o,skip:s,initialInView:a,fallbackInView:l,onChange:c}={}){var u;const[d,h]=E.useState(null),y=E.useRef(),[f,m]=E.useState({inView:!!a,entry:void 0});y.current=c,E.useEffect(()=>{if(s||!d)return;let v;return v=G5(d,(k,x)=>{m({inView:k,entry:x}),y.current&&y.current(k,x),x.isIntersecting&&o&&v&&(v(),v=void 0)},{root:i,rootMargin:r,threshold:t,trackVisibility:n,delay:e},l),()=>{v&&v()}},[Array.isArray(t)?t.toString():t,d,i,r,o,s,n,l,e]);const w=(u=f.entry)==null?void 0:u.target,g=E.useRef();!d&&w&&!o&&!s&&g.current!==w&&(g.current=w,m({inView:!!a,entry:void 0}));const p=[h,f.inView,f.entry];return p.ref=p[0],p.inView=p[1],p.entry=p[2],p}function X5(t){const n=t.reduce((i,o)=>i+o.split(" ").length,0);return Math.ceil(n/200)}const J5=()=>{const{id:t}=tc(),[e,n]=E.useState(null),[r,i]=E.useState(!0),[o,s]=Y5({triggerOnce:!0,threshold:.1}),[a,l]=E.useState(null),c={hidden:{opacity:0,y:50},visible:{opacity:1,y:0}},u=e?X5(e.content.map(h=>h.blocks.map(y=>y.data.text).join(" "))):0;if(E.useEffect(()=>{(async()=>{try{const y=await Y.get(`https://monogatari-backend.vercel.app//blog/${t}`);n(y.data),l(y.data.publishedAt)}catch(y){console.error("Error fetching post:",y)}finally{i(!1)}})()},[t]),r)return b.jsx(_i,{});if(!e)return b.jsx("div",{children:"Post tidak ditemukan"});const d=h=>!h||!Array.isArray(h)?null:h.flatMap(y=>y.blocks&&Array.isArray(y.blocks)?y.blocks.map((f,m)=>{switch(f.type){case"paragraph":return b.jsx("p",{className:"mb-6 text-2xl leading-relaxed",dangerouslySetInnerHTML:{__html:f.data.text}},f.id||m);case"header":return b.jsx("h2",{className:"text-3xl font-bold mb-4",children:f.data.text},f.id||m);case"list":return b.jsx("ul",{className:"list-disc pl-5 mb-6",children:f.data.items.map((w,g)=>b.jsx("li",{children:w},g))},f.id||m);case"quote":return b.jsx("blockquote",{className:"border-l-4 border-gray-500 pl-4 italic mb-6",children:f.data.text},f.id||m);case"image":return b.jsx("img",{src:f.data.file.url,alt:f.data.caption||"",className:"w-full h-auto mb-4"},f.id||m);default:return null}}):null).filter(Boolean);return b.jsxs(Ne.article,{ref:o,className:"max-w-4xl mx-auto px-4 py-8",variants:c,initial:"hidden",animate:s?"visible":"hidden",transition:{duration:.5},children:[b.jsxs("div",{className:"",children:[b.jsx(Ne.h2,{variants:c,initial:"hidden",animate:s?"visible":"hidden",transition:{delay:.2,duration:.5},children:e.title}),b.jsx("div",{className:"flex max-sm:flex-col justify-between my-8",children:b.jsxs("div",{className:"flex gap-5 items-start",children:[b.jsx("img",{src:e.author.personal_info.profile_img,className:"w-14 h-14 rounded-full"}),b.jsxs("p",{className:"",children:[b.jsx("span",{className:"underline capitalize",children:e.author.personal_info.fullname})," ",b.jsx("br",{}),b.jsxs("span",{className:"text-dark-grey",children:[u," min read · ",um(a)]})," "]})]})}),b.jsx(Ne.img,{src:e.banner||e.image,alt:e.title,className:"w-full h-96 object-cover mb-4",loading:"lazy",variants:c,initial:"hidden",animate:s?"visible":"hidden",transition:{delay:.4,duration:.5}})]}),b.jsx(Ne.div,{className:"prose lg:prose-xl blog-content",variants:c,initial:"hidden",animate:s?"visible":"hidden",transition:{delay:.8,duration:.5},children:d(e.content)})]})},Q5=Th.memo(J5),bE=({user:t})=>{const e=Wt(),n=()=>e(`/user/${t.personal_info.username}`),{fullname:r="Unknown",username:i,profile_img:o}=t.personal_info||{};return b.jsxs(Ne.div,{onClick:n,className:"bg-white shadow-lg rounded-lg p-4 flex flex-col items-start mt-4 mb-4 cursor-pointer",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[b.jsxs("div",{className:"flex items-center mb-2",children:[b.jsx("img",{src:o,alt:"User Avatar",className:"w-8 h-8 rounded-full mr-2"}),b.jsxs("div",{children:[b.jsxs("p",{className:"text-sm font-semibold",children:["@",i]}),b.jsx("p",{className:"text-sm text-gray-500",children:r})]})]}),b.jsx("p",{className:"text-sm text-gray-700 mb-2",children:t.bio||"No bio available"})]})},Z5=()=>{let{query:t}=tc(),[e,n]=E.useState(null),[r,i]=E.useState(null),[o,s]=E.useState(!0);return E.useEffect(()=>{(async()=>{s(!0);try{const l=await Y.post("https://monogatari-backend.vercel.app//search-blogs",{tag:t});n(l.data);const c=await Y.post("https://monogatari-backend.vercel.app//search-users",{query:t});i(c.data)}catch(l){console.error("Error fetching search results:",l)}finally{s(!1)}})()},[t]),b.jsx("section",{className:"h-cover flex justify-center gap-10",children:b.jsx("div",{className:"w-full",children:b.jsx(cm,{routes:[`Search Results for "${t}"`,"Account Matched"],defaultHidden:["Accounts Matched"],children:b.jsx(b.Fragment,{children:o?b.jsx(_i,{}):b.jsxs(b.Fragment,{children:[e&&e.length?e.map((a,l)=>b.jsx(gt,{transition:{duration:1,delay:l*.1},children:b.jsx(wE,{content:a,author:a.author.personal_info})},a.blog_id)):b.jsx(Dl,{message:"No Blogs Found"}),r&&r.length?b.jsxs("div",{children:[b.jsx("h2",{className:"font-medium text-xl mb-4",children:"Account Matched"}),r.map((a,l)=>b.jsx(gt,{transition:{duration:1,delay:l*.1},children:b.jsx(bE,{user:a})},a.personal_info.username))]}):b.jsx(Dl,{message:"No Users Found"})]})})})})})},ej=()=>{let{query:t}=tc(),[e,n]=E.useState(null),[r,i]=E.useState(!0);return E.useEffect(()=>{(async()=>{i(!0);try{const s=await Y.post("https://monogatari-backend.vercel.app//search-users}",{username:t});n(s.data)}catch(s){console.error("Error fetching search results:",s)}finally{i(!1)}})()},[t]),b.jsx("section",{className:"h-cover flex justify-center gap-10",children:b.jsx("div",{className:"w-full",children:b.jsx(cm,{routes:[`Search Results for "${t}"`,"Account Matched"],children:b.jsx(b.Fragment,{children:r?b.jsx(_i,{}):e&&e.length?b.jsxs("div",{children:[b.jsx("h2",{className:"font-medium text-xl mb-4",children:"Account Matched"}),e.map((o,s)=>b.jsx(gt,{transition:{duration:1,delay:s*.1},children:b.jsx(bE,{user:o})},o.id))]}):b.jsx(Dl,{message:"No Users Found"})})})})})},kE=()=>b.jsxs("div",{className:"flex flex-col items-center justify-center h-screen",children:[b.jsx("h1",{className:"text-4xl text-center font-bold",children:"404 - Page Not Found"}),b.jsx("p",{className:"mt-4 text-lg text-medium",children:"Sorry, the page you are looking is under development"}),b.jsxs(qe,{to:"/",className:"mt-6 text-blue-500 hover:underline",children:["Go back to Home",b.jsx("hr",{})]})]}),tj=()=>(tc(),b.jsx(kE,{})),Wr=E.createContext({}),nj=()=>{const[t,e]=E.useState({});return E.useEffect(()=>{let n=SA("user");e(n?JSON.parse(n):{access_token:null})},[]),b.jsx(Wr.Provider,{value:{userAuth:t,setUserAuth:e},children:b.jsxs(UT,{children:[b.jsx(ht,{path:"/editor",element:b.jsx(D5,{})}),b.jsxs(ht,{path:"/",element:b.jsx(_A,{}),children:[b.jsx(ht,{index:!0,element:b.jsx(qy,{})}),b.jsx(ht,{path:"/signIn",element:b.jsx(By,{type:"signIn"})}),b.jsx(ht,{path:"/signUp",element:b.jsx(By,{type:"signUp"})}),b.jsx(ht,{path:"/search/:query",element:b.jsx(Z5,{})}),b.jsx(ht,{path:"/user/:username",element:b.jsx(tj,{})}),b.jsx(ht,{path:"/blog",element:b.jsx(qy,{})}),b.jsx(ht,{path:"/blog/:id",element:b.jsx(Q5,{})}),b.jsx(ht,{path:"/search-users/:query",element:b.jsx(ej,{})})," ",b.jsx(ht,{path:"*",element:b.jsx(kE,{})})]})]})})};Mu.createRoot(document.getElementById("root")).render(b.jsx(GT,{children:b.jsx(nj,{})}));
